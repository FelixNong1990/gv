// Bootstrap
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.2.0",r.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=e(i);t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),r[i](null==s[t]?this.options[t]:s[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o="next"==t?"left":"right",u="next"==t?"first":"last",f=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var l=i[0],c=e.Event("slide.bs.carousel",{relatedTarget:l,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(i)]);h&&h.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:l,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);!i&&s.toggle&&"show"==t&&(t=!t),i||r.data("bs.collapse",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var i=r.data("bs.collapse");if(i&&i.transitioning)return;t.call(r,"hide"),i||r.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var u=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][u])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r,i=e(this),s=i.attr("data-target")||n.preventDefault()||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),o=e(s),u=o.data("bs.collapse"),f=u?"toggle":i.data(),l=i.attr("data-parent"),c=l&&e(l);u&&u.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(o,f)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(s).each(function(){var r=n(e(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=n(i),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus"),s.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),o=i.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.divider):visible a",l=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(l.length){var h=l.index(l.filter(":focus"));38==t.keyCode&&h>0&&h--,40==t.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),s=this.getUID(this.type);this.setContent(),i.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,f=u.test(o);f&&(o=o.replace(u,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var l=this.getPosition(),c=i[0].offsetWidth,h=i[0].offsetHeight;if(f){var p=o,d=this.$element.parent(),v=this.getPosition(d);o="bottom"==o&&l.top+l.height+h-v.scroll>v.height?"top":"top"==o&&l.top-v.scroll-h<0?"bottom":"right"==o&&l.right+c>v.width?"left":"left"==o&&l.left-c<v.left?"right":o,i.removeClass(p).addClass(o)}var m=this.getCalculatedOffset(o,l,c,h);this.applyPlacement(m,o);var g=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var f=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(n,t,f,l);c.left?t.left+=c.left:t.top+=c.top;var h=c.left?2*c.left-i+f:2*c.top-s+l,p=c.left?"left":"top",d=c.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][d],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<=i[0])return o!=(e=s[0])&&this.activate(e);for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(s),!s.isDefaultPrevented()){var o=e(r);this.activate(t.closest("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),r=this.$target.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;"object"!=typeof s&&(u=o=s),"function"==typeof o&&(o=s.top(this.$element)),"function"==typeof u&&(u=s.bottom(this.$element));var f=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=u&&i.top+this.$element.height()>=t-u?"bottom":null!=o&&o>=r?"top":!1;if(this.affixed!==f){null!=this.unpin&&this.$element.css("top","");var l="affix"+(f?"-"+f:""),h=e.Event(l+".bs.affix");this.$element.trigger(h),h.isDefaultPrevented()||(this.affixed=f,this.unpin="bottom"==f?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(e.Event(l.replace("affix","affixed"))),"bottom"==f&&this.$element.offset({top:t-this.$element.height()-u}))}}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery);

/* <![CDATA[ */
var usernoiseButton = {"text":"<i class='icon-edit'><\/i>Feedback","style":"background-color: #404040; color: #FFFFFF","class":"un-left","windowUrl":"\/gv\/wp-admin\/admin-ajax.php?action=un_load_window","showButton":"1","disableOnMobiles":"1","custom_button_id":null};
/* ]]> */

// Usernoise
(function(){window.usernoise={};jQuery(function(e){var t,n,r,i,s,o;i=function(){var t;t=this;t.show=function(){var n,r,i,s,u;n=e('<a href="#" id="un-button" />').appendTo(e("body"));u=void 0;n.html(usernoiseButton.text);n.addClass(usernoiseButton["class"]);n.attr("style",usernoiseButton.style);n.click(function(e){t.showWindow();e.preventDefault();return false});if(o.msie7){if(n.is(".un-left")||n.is(".un-right")){n.css("margin-top","-"+n.width()/2+"px")}n.addClass("ie7")}else if(o.msie8){if(n.is(".un-right")){n.css("right","-"+n.outerWidth()+"px")}if(n.is(".un-left")||n.is(".un-right")){n.css("margin-top","-"+n.width()/2+"px")}n.addClass("ie8")}else{n.addClass("css3")}if(n.is(".un-bottom")||n.is(".un-top")){n.css("margin-left","-"+e("#un-button").width()/2+"px")}if(n.is(".un-left")){u="left"}else if(n.is(".un-right")){u="right"}else if(n.is(".un-bottom")){u="bottom"}else{u="top"}if(n.is(".un-left.css3")){n.css("margin-top",n.width()/2+"px")}if(n.is(".un-right.css3")){n.css("margin-top","-"+n.width()/2+"px")}s={};r={opacity:1};i={opacity:.96};s[u]="+=40px";r[u]="+=3px";i[u]="-=3px";n.animate(s).hover(function(){n.animate(r,100)},function(){n.animate(i,100)})};t.showWindow=function(){var t,n,r;r=e('<div id="un-overlay" />').prependTo(e("body"));r.fadeIn("fast");n=e('<div id="un-loading" />').prependTo(e("body"));t=e('<iframe id="un-iframe" marginheight="0" marginwidth="0" frameborder="0" allowtransparency="true" />').prependTo(e("body"));t.css("opacity",0);t.load(function(){n.fadeOut("fast",function(){n.remove()});t.css("opacity",0);t.animate({opacity:1},"fast")});t.attr("src",usernoiseButton.windowUrl)};t.hideWindow=function(){e("#un-overlay").fadeOut(function(){e("#un-overlay").remove()});e("#un-loading").remove();e("#un-iframe").fadeOut("fast",function(){e("#un-iframe").remove()})}};n=function(n){var r,i,s;r=function(){var t,n;t=e(this).parent();t.find("a").removeClass("selected");e(this).addClass("selected");n=e(this).attr("data-type");t.find("input[type=hidden]").val(n);e(document).trigger("typeselected#feedbackform#window.un",n);return false};s=function(){var t;t=n.unSerializeObject();if(window.parent.document){t.referer=window.parent.document.location.href}e(document).trigger("submitting#feedbackform#window.un",t);i.lock();n.find(".loader").show();i.errors.hide();e.post(n.attr("action"),t,function(t){n.find(".loader").hide();i.unlock();t=usernoise.helpers.parseJSON(t);if(t.success){e("#un-thankyou").height(e("#un-feedback-wrapper").height()+"px");n.find("textarea").val("").trigger("blur");e(document).trigger("sent#feedbackform#window.un")}else{i.errors.show(t.errors)}});return false};i=this;i.form=n;n.find(".text").unAutoPlaceholder();n.find(".un-types-wrapper a").click(r);n.find(".un-types-wrapper a:first-child").click();n.submit(s);e.extend(i,{unlock:function(){e(document).trigger("unlocking#feedbackform#window.un");n.find("input, select, textarea").removeAttr("disabled");n.find(".un-types-wrapper a").click(r)},lock:function(){n.find("*").unbind("click");e(document).trigger("locking#feedbackform#window.un");n.find("input, select, textarea").attr("disabled","disabled")},errors:new t(n.find(".un-feedback-errors-wrapper")),selectedType:function(){var t;t=e("#types-wrapper a.selected").attr("id");if(t){return t.replace("un-type-","")}else{return null}}});e(document).trigger("created#feedbackform#window.un",i)};t=function(t){var n,r;r=this;n=t.find(".un-errors");e.extend(r,{show:function(r){e("#window").addClass("transitionEnabled");e(r).each(function(t,r){n.append(e("<p />").text(r))});t.fadeIn("fast")},hide:function(e){n.html("");t.fadeOut("fast",function(){t.hide()})}})};r=function(){var t,n;n=this;t=t;e.extend(n,{show:function(){e("#un-thankyou").show();e("#un-feedback-close").click(function(){usernoise.window.hide();return false})}})};s=function(t){var n,i,s,u;i=function(){if(!e("#wrapper").hasClass("un")){return}e("#wrapper").addClass("un");if(o.msie7){e("#wrapper").addClass("un-ie7")}if(o.msie8){e("#wrapper").addClass("un-ie8")}};u=function(e,t){s.thankYouScreen=new r(n.find(".thank-you-screen"));s.thankYouScreen.show(t)};s=this;n=e("#window");i();e.extend(s,{hide:function(){window.parent.usernoiseButton.button.hideWindow()},adjustSize:function(){n.css({"margin-top":"-"+n.height()/2+"px","margin-left":"-"+n.width()/2+"px"})}});s.adjustSize()};o={};if(navigator&&navigator.appVersion){o.msie6=navigator.appVersion.indexOf("MSIE 6.0")!==-1;o.msie7=navigator.appVersion.indexOf("MSIE 7.0")!==-1;o.msie8=navigator.appVersion.indexOf("MSIE 8.0")!==-1}if(o.msie6||o.msie7){return}usernoise.UsernoiseButton=i;usernoise.FeedbackForm=n;usernoise.Errors=t;usernoise.ThankYouScreen=r;e.fn.unAutoPlaceholder=function(){e(this).each(function(){e(this).attr("data-default",e(this).val());e(this).focus(function(){if(e(this).val()===e(this).attr("data-default")){e(this).val("");e(this).addClass("text-normal");e(this).removeClass("text-empty")}});e(this).blur(function(){if(e(this).val()===""){e(this).val(e(this).attr("data-default"));e(this).removeClass("text-normal");e(this).addClass("text-empty")}})})};e.fn.unSerializeObject=function(){var t,n;n={};t=this.serializeArray();e.each(t,function(){if(n[this.name]){if(!n[this.name].push){n[this.name]=[n[this.name]]}n[this.name].push(this.value||"")}else{n[this.name]=this.value||""}});return n};usernoise.helpers={parseJSON:function(t){if(e.parseJSON){return e.parseJSON(t)}else{return eval_("("+t+")")}}};usernoise.Window=s})}).call(this);

// Usernoise button
(function(){jQuery(function(e){var t,n,r=this;if(navigator&&navigator.appVersion&&(navigator.appVersion.indexOf("MSIE 6.0")!==-1||navigator.appVersion.indexOf("MSIE 7.0")!==-1)){return}usernoiseButton.button=new usernoise.UsernoiseButton;usernoise.window={show:usernoiseButton.button.showWindow};e(".un-feedback-form").each(function(){new usernoise.FeedbackForm(e(this))});n=function(){return window.innerWidth<=800&&window.innerHeight<=600};if(usernoiseButton.showButton&&!(usernoiseButton.disableOnMobiles&&n())){usernoiseButton.button.show()}e(document).bind("sent#feedbackform#window.un",function(){var t,n;n=function(){e("#un-thankyou").find("a").unbind("click");e("#un-thankyou").fadeOut("fast",function(){e("#un-overlay").fadeOut("fast",function(){e("#un-overlay").remove()})})};t=e('<div id="un-overlay" />').appendTo(e("body"));e("#un-overlay").click(n).fadeIn("fast",function(){e("#un-thankyou").fadeIn("fast",function(){setTimeout(n,5e3)}).find("#un-feedback-close").click(n)})});try{e("#"+usernoiseButton.custom_button_id).click(function(){usernoise.window.show();return false})}catch(i){t=i;alert("It looks like you entere wrong HTML ID value for custom Usernoise feedback button.")}e("a[rel=usernoise]").click(function(){usernoise.window.show();return false});e("button[rel=usernoise]").click(function(){usernoise.window.show();return false});e('a[href="#usernoise"]').click(function(){usernoise.window.show();return false})})}).call(this);

// jNewsticker
(function(e){if(e.fn.on===undefined){e.fn.on=function(e,t){this.bind(e,t)}}if(e.fn.off===undefined){e.fn.off=function(e,t){return this.unbind(e,t)}}e.fn.newsticker=function(t){var n=this;n.methods=e.fn.newsticker.methods;n.api=e.fn.newsticker.api;n.delegate=e.fn.newsticker.delegate;n.settings=e.extend({},e.fn.newsticker.defaults,t);return this.each(function(){n.api("init",e(this))})};e.fn.newsticker.defaults={style:"scroll",showControls:true,tickerTitle:"",feedItems:10,feeds:"",feedFormat:"%title% posted by %author%, %timeago%",noCache:false,twitter:"",twitterFormat:'%excerpt% posted on <a href="%link%">Twitter</a> %timeago%',twitterCount:"",parseTwitterLinks:true,openLinksInNewWindow:false,facebook:"",facebookFormat:'%excerpt%... Posted on <a href="%link%">Facebook</a> %timeago%',facebookCount:"",lastfm:"",lastfmFormat:'<a href="%link%">%title%</a> listened to %timeago%',lastfmCount:"",tumblr:"",tumblrFormat:'<a href="%link%">%title%</a> posted by %author%, %timeago%',tumblrCount:"",pinterest:"",pinterestFormat:'<a href="%item_link%">%excerpt%</a> pinned %timeago%',pinterestCount:"",excerptLength:100,sortBy:"timestamp",reverseOrder:false,autoStart:true,timeAgoFormat:function(t){return e.fn.newsticker.methods.getTimeAgo(t)},dateFormat:function(t){return e.fn.newsticker.methods.getFormattedDate(t)}};e.fn.newsticker.delegate=function(e){var t=this.style[e],n=Array.prototype.slice.call(arguments,1);if(typeof t==="function"){return t.apply(this,n)}return false};e.fn.newsticker.api=function(e){var t=this.methods[e],n=Array.prototype.slice.call(arguments,1);if(typeof t==="function"){return t.apply(this,n)}return false};e.fn.newsticker.methods={getId:function(){var e=new Date;return e.getTime()},init:function(t){if(typeof e.fn.newsticker.styles[this.settings.style]==="object"){this.style=e.fn.newsticker.styles[this.settings.style]}else{console.log("ERROR: Invalid display style.");return}this.settings=e.extend(this.delegate("settings"),this.settings);this.delegate("init");this.dom={};this.dom.list=t;this.api("getFeeds");if(this.feeds.length===0&&this.settings.twitter.length===0&&this.settings.facebook.length===0&&this.settings.lastfm.length===0&&this.settings.tumblr.length===0&&this.settings.pinterest.length===0){this.dom.items=this.dom.list.children("li");this.api("startup")}},startup:function(){var t=this,n=this.dom,r=this.settings,i=n.list;i.wrap('<div class="newsticker_wrapper newsticker_style_'+r.style+'" id="newsticker_'+this.api("getId")+'" style="position: relative; z-index: 150; overflow: hidden; "></div>');if(r.tickerTitle.length>0){e('<div class="newsticker_title"><h4>'+r.tickerTitle+"</h4></div>").insertBefore(i)}n.wrapper=i.parent();n.title=n.wrapper.children(".newsticker_title");if(r.showControls===true){var s=r.autoStart===false?"resume":"pause",o;e('<ul class="newsticker_controls">                    <li class="previous"></li>                    <li class="'+s+'"></li>                    <li class="next"></li>                  </ul>').insertAfter(i);o=i.next(".newsticker_controls");o.children(".previous").on("click",function(){t.delegate("previous")});o.children(".pause").on("click",function(){t.delegate("pause")});o.children(".resume").on("click",function(){t.delegate("resume")});o.children(".next").on("click",function(){t.delegate("next")})}n.controls=o===undefined?n.wrapper.children(".newsticker_controls"):o;if(r.pauseOnHover===true){n.items.on("mouseover",function(){t.delegate("pause")});n.items.on("mouseout",function(){t.delegate("resume")})}e(window).resize(function(){t.api("resize")});this.delegate("manipulateDom");this.delegate("itemLoop");this.delegate("start")},getFeeds:function(){var t=this,n=t.settings,r=n.feedItems,i,s;t.feeds=[];if(n.feeds.length>0){var o=typeof n.feeds==="string"?[n.feeds]:n.feeds;for(var u=0,f=o.length;u<f;u+=1){var l=o[u];s=typeof l==="string"?l:l.url;i=l.hasOwnProperty("count")?l.count:r;t.feeds.push({type:"feed",url:document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+parseInt(i)+"&callback=?&q="+encodeURIComponent(s),count:i})}}if(n.twitter.length>0){i=n.twitterCount>0?n.twitterCount:r;t.feeds.push({type:"twitter",url:"http://api.twitter.com/1/statuses/user_timeline.json?screen_name="+encodeURIComponent(n.twitter)+"&callback=?&include_entities=1&count="+parseInt(i),count:i})}if(n.lastfm.length>0){i=n.lastfmCount>0?n.lastfmCount:r;s="http://ws.audioscrobbler.com/1.0/user/"+n.lastfm+"/recenttracks.rss";t.feeds.push({type:"lastfm",url:document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+parseInt(i)+"&callback=?&q="+encodeURIComponent(s),count:i})}if(n.tumblr.length>0){i=n.tumblrCount>0?n.tumblrCount:r;s="http://"+n.tumblr+".tumblr.com/rss";t.feeds.push({type:"tumblr",url:document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+parseInt(i)+"&callback=?&q="+encodeURIComponent(s),count:i})}if(n.pinterest.length>0){i=n.pinterestCount>0?n.pinterestCount:r;s="http://pinterest.com/"+n.pinterest+"/feed.rss";t.feeds.push({type:"pinterest",url:document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+parseInt(i)+"&callback=?&q="+encodeURIComponent(s),count:i})}if(n.facebook.length>0){var c,h=new Date;e.ajax({url:document.location.protocol+"//graph.facebook.com/"+n.facebook,dataType:"jsonp",success:function(e){c=e},error:function(e,t,n){console.log("An error occurred while trying to fetch this profile from Facebook");c="error"},complete:function(){if(c!=="error"){t.api("completeFacebookRequest",c)}}})}else{t.api("getFeedItems")}},completeFacebookRequest:function(e){var t=this.settings,n=t.facebookCount>0?t.facebookCount:t.feedItems,r="https://www.facebook.com/feeds/page.php?id="+e.id+"&format=rss20";this.feeds.push({type:"facebook",url:document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+parseInt(n)+"&callback=?&q="+encodeURIComponent(r),count:n,data:e});this.api("getFeedItems")},addItems:function(e,t,n){var r=this.api("getItemsFromResponse",t,n),i=r.length,s=0;for(s;s<i;s+=1){var o=r[s];o.timestamp=this.api("getTimestamp",o,n);e.push(o)}return e},getItemsFromResponse:function(e,t){switch(t){case"twitter":return e;break;default:return e.responseData.feed.entries;break}},getTimestamp:function(e,t){switch(t){case"twitter":var n=e.created_at.split(" ");return new Date(Date.parse(n[1]+" "+n[2]+", "+n[5]+" "+n[3]+" UTC"));break;default:return new Date(e.publishedDate);break}},getFeedItems:function(){var t=this,n=[],r=this.feeds,i=0,s,o,u;for(var f=0,l=r.length;f<l;f+=1){s=r[f],o=s.type,u=s.url;if(t.settings.noCache===true){var c=(new Date).getTime();u+="&"+c}e.ajax({url:u,dataType:"json",success:function(e){if(o==="feed"&&e.responseStatus!==200){console.log("Unable to load feed");return}t.api("addItems",n,e,o)},error:function(e,t,n){console.log("An error occurred while trying to fetch feed from "+s.url+". Status: "+t)},complete:function(){i+=1;if(i===l){t.api("completeFeedItemsRequest",n,o)}}})}},completeFeedItemsRequest:function(e,t){var n,r=this.settings,i=e.length>r.feedItems?r.feedItems:e.length,s,o=this.dom.list,u=r.sortBy,a=r.reverseOrder;if(u==="random"){e=this.api("randomize",e)}else{e.sort(this.api("sortBy",u,a))}for(n=0;n<i;n+=1){s=this.api("displayFeedItem",e[n],t);o.append(s)}this.dom.items=o.children("li");this.api("startup")},sortBy:function(e,t){var n=function(t){return t[e]};return function(e,r){var i=n(e),s=n(r);return(i<s?-1:i>s?+1:0)*[-1,1][+!!t]}},randomize:function(e){var t,n,r=e.length;if(r){while(--r){n=Math.floor(Math.random()*(r+1));t=e[n];e[n]=e[r];e[r]=t}}return e},getFormat:function(e){var t=this.settings;switch(e){case"facebook":return t.facebookFormat.length>0?t.facebookFormat:t.feedFormat;break;case"twitter":return t.twitterFormat.length>0?t.twitterFormat:t.feedFormat;break;case"lastfm":return t.lastfmFormat.length>0?t.lastfmFormat:t.feedFormat;break;case"tumblr":return t.tumblrFormat.length>0?t.tumblrFormat:t.feedFormat;break;case"pinterest":return t.pinterestFormat.length>0?t.pinterestFormat:t.feedFormat;break;default:return t.feedFormat;break}},displayFeedItem:function(e,t){var n=this.api("getFormat",t),r=["author","excerpt","link","item_link","title","timeago","date"],i,s;for(var o=0;o<r.length;o+=1){s=r[o];if(s==="timeago"){i=this.settings.timeAgoFormat(e.timestamp)}else{if(s==="date"){i=this.settings.dateFormat.apply(this,[e.timestamp])}else{i=this.api("getReplacement",e,s,t)}}switch(s){case"author":n=n.replace(/\%author\%/g,i);break;case"excerpt":n=n.replace(/\%excerpt\%/g,i);break;case"link":n=n.replace(/\%link\%/g,i);break;case"item_link":n=n.replace(/\%item_link\%/g,i);break;case"title":n=n.replace(/\%title\%/g,i);break;case"timeago":n=n.replace(/\%timeago\%/g,i);break;case"date":n=n.replace(/\%date\%/g,i);break}}return"<li>"+n+"</li>"},getReplacement:function(t,n,r){switch(n){case"author":switch(r){case"twitter":return t.user.name;break;default:return t.author;break}break;case"excerpt":switch(r){case"twitter":var i=this.api("getTwitterText",t,this.settings.parseTwitterLinks);return i;break;case"facebook":var s;if(typeof this.div==="undefined"){this.div=e(document.createElement("div"))}s=this.div.html(t.content).text();if(s===""){return t.contentSnippet.length>this.settings.excerptLength?t.contentSnippet.slice(0,this.settings.excerptLength):t.contentSnippet}else{return s}break;case"lastfm":return t.title;break;default:return t.contentSnippet.length>this.settings.excerptLength?t.contentSnippet.slice(0,this.settings.excerptLength):t.contentSnippet;break}break;case"link":switch(r){case"twitter":return"https://twitter.com/#!/"+t.user.screen_name;break;case"facebook":return"http://facebook.com/"+this.settings.facebook;break;case"pinterest":return"http://pinterest.com/"+this.settings.pinterest+"/";break;default:return t.link;break}break;case"item_link":switch(r){case"twitter":return"https://twitter.com/#!/"+t.user.name+"/statuses/"+t.id_str;break;case"lastfm":return t.content;break;default:return t.link;break}break;case"title":switch(r){case"twitter":return"";break;default:return t.title;break}break}},getTwitterText:function(e,t){var n=e.text,r=this,i=[],s,o;n=n.length>this.settings.excerptLength?n.slice(0,this.settings.excerptLength):n;if(t===false){return n}jQuery.each(e.entities,function(e,t){for(var n=0,r=t.length;n<r;n+=1){o=t[n];o.type=e;o.start=o.indices[0];i.push(o)}});i.sort(this.api("sortBy","start",false));for(var u=0,a=i.length;u<a;u+=1){n=this.api("parseTwitterLink",n,i[u])}return n},parseTwitterLink:function(e,t){var n=t.start,r=t.indices[1],i,e;if(n<this.settings.excerptLength){i=this.api("getTwitterLink",t);e=e.slice(0,n)+i+e.slice(r)}return e},getTwitterLink:function(e){var t=this.settings.openLinksInNewWindow===true?'target="_blank"':"";switch(e.type){case"urls":return'<a href="'+e.url+'" '+t+">"+e.display_url+"</a>";break;case"user_mentions":return'<a href="https://twitter.com/#!/'+e.screen_name+'" '+t+">@"+e.screen_name+"</a>";break;case"hashtags":return'<a href="https://twitter.com/#!/search/'+e.text+'" '+t+">#"+e.text+"</a>";break}},getTimeAgo:function(e){var t=new Date,n=t.getTime()-e.getTime(),r=864e5,i=6e4,s=36e5,o,u;if(n<s){o=Math.ceil(n/i);u=o>1?o+" minutes ago":o+" minute ago"}else{if(n<r){o=Math.ceil(n/s);u=o>1?o+" hours ago":o+" hour ago"}else{o=Math.ceil(n/r);u=o>1?o+" days ago":o+" day ago"}}return u},getFormattedDate:function(e){var e=new Date(e),t=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.getDate()+" "+t[e.getMonth()]},getListWidth:function(){if(this.settings.showControls){return this.dom.controls.position().left-this.dom.title.outerWidth(true)}else{return this.dom.wrapper.width()-this.dom.title.outerWidth(true)-1}},pause:function(){if(this.settings.showControls===true){var e=this;this.dom.controls.children(".pause").removeClass("pause").addClass("resume").off("click",function(){e.delegate("pause")}).on("click",function(){e.delegate("resume")})}},resume:function(){if(this.settings.showControls===true){var e=this;this.dom.controls.children(".resume").removeClass("resume").addClass("pause").off("click",function(){e.delegate("resume")}).on("click",function(){e.delegate("pause")})}},resize:function(){if(this.delegate("resize")===false){this.dom.list.width(this.api("getListWidth"))}}};e.fn.newsticker.styles={fade:{settings:function(){return{fadeOutSpeed:"slow",fadeInSpeed:"slow",transitionSpeed:4e3,pauseOnHover:true}},manipulateItem:function(e,t){var n=this;e.css({position:"absolute",left:0,top:0});if(t){e.addClass("display")}else{e.hide()}},manipulateDom:function(){this.dom.wrapper.css({width:"100%"});this.dom.title.css({"float":"left",margin:0});this.dom.list.css({"float":"left",width:this.api("getListWidth")+"px",position:"relative","list-style":"none"})},itemLoop:function(){var t=true,n=this;this.dom.items.each(function(){n.delegate("manipulateItem",e(this),t);t=false})},adjacentItem:function(t){var n=this;this.dom.items.each(function(){if(e(this).hasClass("display")){n.delegate("itemTransform",e(this),t)}})},itemTransform:function(e,t){this.delegate("itemFadeOut",e);if(t==="next"){if(e.is("li:last-child")){this.delegate("itemFadeIn",this.dom.items.first())}else{this.delegate("itemFadeIn",e.next())}}else{if(t==="previous"){if(e.is("li:first-child")){this.delegate("itemFadeIn",this.dom.items.last())}else{this.delegate("itemFadeIn",e.prev())}}}},itemFadeIn:function(e){e.fadeIn(this.settings.fadeInSpeed,function(){e.addClass("display")})},itemFadeOut:function(e){e.fadeOut(this.settings.fadeOutSpeed,function(){e.removeClass("display")})},start:function(){var e=this;this.animationId=window.setInterval(function(){e.delegate("adjacentItem","next")},this.settings.transitionSpeed)},pause:function(){clearInterval(this.animationId);this.api("pause");return this},resume:function(){this.delegate("start");this.api("resume");return this},next:function(){this.delegate("pause").delegate("adjacentItem","next");return this},previous:function(){this.delegate("pause").delegate("adjacentItem","previous");return this}},reveal:{init:function(){this.progress={animate:true,original:{},span:{},text:"",html:"",length:0,i:0,j:0,k:0,elements:{},nextHtml:{},nextHtmlIndex:[],nextHtmlContent:""}},settings:function(){return{letterRevealSpeed:70,transitionSpeed:2e3,pauseOnHover:false}},getLength:function(){var e=this.progress;if(e.length===0){e.length=e.text.length}return e.text.length},resetTicker:function(e){var t=this.progress;t.span=e.span;t.elements=e.elements;t.text=e.text;t.html=e.html;t.length=0;t.j=0;this.delegate("getNextHtml");t.i=0},getNextHtml:function(){var t=this.progress;if(t.elements.length<=t.j){t.nextHtml={};t.nextHtmlIndex=[-1]}else{t.nextHtml=t.elements[t.j];t.nextHtmlIndex=t.nextHtml.indeces;t.nextHtmlContent=e(t.nextHtml).text();t.k=0}},increment:function(){var e=this,t=e.progress;if(t.nextHtmlIndex.start===t.i){clearInterval(this.animationId);this.animationId=window.setInterval(function(){e.delegate("incrementHtml")},e.settings.letterRevealSpeed)}else{t.span.html(t.text.slice(0,t.i));t.i+=1}},incrementHtml:function(){var t=this,n=t.progress,r=n.span.text,i=e(t.delegate("getOuterHtml",e(n.nextHtml))),s;n.k+=1;s=n.nextHtmlContent.slice(0,n.k);i=e(t.delegate("getOuterHtml",i.children().text(s)));n.span.html(n.text.slice(0,n.i)+i.html());if(n.k===n.nextHtmlIndex.length){n.i+=n.nextHtmlIndex.element.html().length;clearInterval(this.animationId);n.j+=1;t.delegate("getNextHtml");this.animationId=window.setInterval(function(){t.delegate("revealLetter")},t.settings.letterRevealSpeed)}},revealAll:function(){var e=this.progress;e.span.html(e.html);e.i=this.delegate("getLength")},manipulateDom:function(){var e=this,t=e.dom,n=t.list;t.wrapper.css({width:"100%"});t.title.css({"float":"left",overflow:"hidden"});n.css({"float":"left",position:"relative","list-style":"none",margin:0,padding:0});n.width(this.api("getListWidth")+"px")},pause:function(){this.delegate("stopAnimation");this.delegate("revealAll");this.api("pause");return this},resume:function(){var e=this,t=e.progress;t.animate=true;this.animationId=window.setTimeout(function(){e.delegate("adjacentItem","next")},50);e.api("resume");return e},adjacent:function(e){this.delegate("stopAnimation");this.api("pause");this.delegate("adjacentItem",e);this.delegate("revealAll");return this},previous:function(){return this.delegate("adjacent","previous")},next:function(){return this.delegate("adjacent","next")},stopAnimation:function(){clearInterval(this.animationId);this.progress.animate=false},manipulateItem:function(e,t){e.css({position:"absolute",left:0,top:0,"z-index":1}).wrapInner('<span class="original_text" />');e.children("span").css({opacity:0,display:"block",position:"relative","z-index":4});if(t){e.addClass("revealing")}},itemLoop:function(){var t=true,n=this,r=n.dom;r.items.each(function(){n.delegate("manipulateItem",e(this),t);t=false})},prepareItem:function(){var e=this,t=e.dom.list.find(".revealing"),n=e.progress,r,i;if(t.children(".revealing_text").length===0){t.append('<span class="revealing_text" />').children(".revealing_text").css({opacity:1,position:"absolute",left:0,top:0})}t.css({"z-index":2});r=t.children(".original_text");i=e.delegate("decodeHtml",r.html());this.delegate("resetTicker",{span:t.children(".revealing_text"),text:i,html:r.html(),elements:this.delegate("getElements",r,i)});if(n.animate===true){e.delegate("animate")}},getElements:function(t,n){var r=this,i=t.children();i.each(function(n,s){i[n].indeces=r.delegate("getElement",e(s),t.html())});return i},getElement:function(e,t){var n=this.delegate("getOuterHtml",e),r=t.indexOf(n.html()),i=e.text().length;return{start:r,length:i,element:n}},decodeHtml:function(t){t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,"");t=e("<div/>").html(t).html();return t},getOuterHtml:function(e){return e.clone().wrap("<p>").parent()},animate:function(){var e=this;this.animationId=window.setInterval(function(){e.delegate("revealLetter")},e.settings.letterRevealSpeed)},revealLetter:function(){var e=this,t=e.progress;e.delegate("increment");if(t.i>e.delegate("getLength")){clearInterval(this.animationId);this.animationId=window.setTimeout(function(){e.delegate("adjacentItem","next")},e.settings.transitionSpeed)}},adjacentItem:function(e){var t=this.dom,n=t.list.find(".revealing").removeClass("revealing"),r=this.delegate(e==="previous"?"getPreviousItem":"getNextItem",t,n);r.addClass("revealing");n.css({"z-index":1}).children(".revealing_text").text("");this.delegate("prepareItem")},getNextItem:function(e,t){return t.is("li:last-child")?e.list.find("li:first-child"):t.next()},getPreviousItem:function(e,t){return t.is("li:first-child")?e.list.find("li:last-child"):t.prev()},start:function(){if(this.settings.autoStart===true){this.delegate("prepareItem")}}},scroll:{init:function(){this.progress={autoScroll:this.settings.autoStart,left:0,boundary:0,last:{},current:{},animationId:0}},resetLeft:function(){this.progress.left=parseInt(this.dom.list.css("left"))},settings:function(){return{scrollSpeed:50,slideSpeed:1e3,slideEasing:"swing",pauseOnHover:true}},manipulateDom:function(e){var t=this.dom,e=typeof e==="undefined"?false:e;if(e===false){t.wrapper.css({width:"10000px",position:"relative"});t.title.css({"float":"left"});t.list.wrap('<div class="newsticker_scroller" />').css({position:"absolute",left:10});t.scroller=this.dom.wrapper.children(".newsticker_scroller")}else{if(e===true){t.wrapper.css({width:"100%"});t.scroller.css({position:"absolute",height:"100%",overflow:"hidden",width:this.api("getListWidth")+"px",left:t.title.outerWidth(true)+"px"})}}},manipulateItem:function(e,t){var n=e.css({"float":"left"}).outerWidth(true);e.css({position:"absolute",display:"inline",left:t+"px",width:n+"px"});t+=n;return t},itemLoop:function(){var t=this,n=0,r=this.progress,i=this.dom;i.items.each(function(){n=t.delegate("manipulateItem",e(this),n)});r.current=i.items.first();r.last=i.items.last();r.boundary=i.items.length===1?r.current.width():r.current.next().position().left;t.delegate("manipulateDom",true)},start:function(){if(this.progress.autoScroll===true){this.delegate("animate")}},animate:function(){var e=this,t=e.progress;if(t.autoScroll===false){t.autoScroll=true}t.animationId=window.setInterval(function(){e.delegate("doAnimation")},e.settings.scrollSpeed)},doAnimation:function(){var e=this.progress;if(e.left+e.boundary<0){this.delegate("nextItem")}e.left-=1;this.dom.list.css({left:e.left+"px"})},pause:function(){var e=this.progress;e.autoScroll=false;clearInterval(e.animationId);this.api("pause");return this},resume:function(){this.delegate("animate");this.api("resume");return this},next:function(){var e=this,t=e.progress,n=e.settings,r=t.boundary<0?t.left-t.current.width():"-"+t.boundary;e.delegate("pause");e.dom.list.animate({left:r+"px"},n.slideSpeed,n.slideEasing,function(){e.delegate("resetLeft");e.delegate("nextItem")})},resize:function(){this.dom.scroller.width(this.api("getListWidth"))},previous:function(){var e=this,t=e.progress,n=e.settings,r,i;e.delegate("pause");r=e.delegate("getPrevious");r.css({left:t.current.position().left-parseInt(r.width())});i=r.position().left<0?0-r.position().left:"-"+r.position().left;e.dom.list.animate({left:i+"px"},n.slideSpeed,n.slideEasing,function(){e.delegate("resetLeft");e.delegate("previousItem",r)})},nextItem:function(){var e=this.progress,t=this.dom,n=t.items.last(),r=t.items.first(),i=e.last.outerWidth(false)+e.last.position().left,s=e.current;s.css({left:i+"px"});if(s.next().length===0){e.current=r;e.last=n}else{e.current=s.next();e.last=e.current.prev()}if(e.current.next().length===0){e.boundary=r.position().left}else{e.boundary=e.current.next().position().left}},getPrevious:function(){var e=this.progress;if(e.current.prev().length===0){return this.dom.items.last()}return e.current.prev()},previousItem:function(e){var t=this.progress,n=this.dom;t.current=e;if(t.current.prev().length===0){t.last=n.items.last()}else{t.last=t.current.prev()}if(t.current.next().length===0){t.boundary=n.items.first().position().left}else{t.boundary=t.current.next().position().left}}}}})(jQuery);

// kkstar ratings
(function(e,t,n,r){e.fn.kkstarratings=function(t){e.fn.kkstarratings.options=e.extend({ajaxurl:null,nonce:null,func:null,grs:false,msg:"Rate this post",fuelspeed:400,thankyou:"Thank you for rating.",error_msg:"An error occured.",tooltip:true,tooltips:{0:{tip:"Poor",color:"red"},1:{tip:"Fair",color:"brown"},2:{tip:"Average",color:"orange"},3:{tip:"Good",color:"blue"},4:{tip:"Excellent",color:"green"}}},e.fn.kkstarratings.options,t?t:{});var n=[];this.each(function(){n.push(e(this))});e.fn.kkstarratings.fetch(n,0,"0%",e.fn.kkstarratings.options.msg,true);return this.each(function(){})};e.fn.kkstarratings.animate=function(t){if(!t.hasClass("disabled")){var n=e(".kksr-legend",t).html(),r=e(".kksr-fuel",t).css("width");e(".kksr-stars a",t).hover(function(){var r=e(this).attr("href").split("#")[1];if(e.fn.kkstarratings.options.tooltip!=0){if(e.fn.kkstarratings.options.tooltips[r-1]!=null){e(".kksr-legend",t).html('<span style="color:'+e.fn.kkstarratings.options.tooltips[r-1].color+'">'+e.fn.kkstarratings.options.tooltips[r-1].tip+"</span>")}else{e(".kksr-legend",t).html(n)}}e(".kksr-fuel",t).stop(true,true).css("width","0%");e(".kksr-stars a",t).each(function(n,i){var s=e(this),o=s.attr("href").split("#")[1];if(parseInt(o)<=parseInt(r)){e(".kksr-stars a",t).stop(true,true);s.hide().addClass("kksr-star").addClass("orange").fadeIn("fast")}})},function(){e(".kksr-stars a",t).removeClass("kksr-star").removeClass("orange");if(e.fn.kkstarratings.options.tooltip!=0){e(".kksr-legend",t).html(n)}e(".kksr-fuel",t).stop(true,true).animate({width:r},e.fn.kkstarratings.options.fuelspeed)}).unbind("click").click(function(){return e.fn.kkstarratings.click(t,e(this).attr("href").split("#")[1])})}else{e(".kksr-stars a",t).unbind("click").click(function(){return false})}};e.fn.kkstarratings.update=function(t,n,r,i,s){if(i=="true"){e(".kksr-fuel",t).removeClass("yellow").addClass("orange")}e(".kksr-fuel",t).stop(true,true).animate({width:n},e.fn.kkstarratings.options.fuelspeed,"linear",function(){if(i=="true"){t.addClass("disabled");e(".kksr-stars a",t).unbind("hover")}if(!e.fn.kkstarratings.options.grs||!s){e(".kksr-legend",t).stop(true,true).hide().html(r?r:e.fn.kkstarratings.options.msg).fadeIn("slow",function(){e.fn.kkstarratings.animate(t)})}else{e.fn.kkstarratings.animate(t)}})};e.fn.kkstarratings.click=function(t,n){e(".kksr-stars a",t).unbind("hover").unbind("click").removeClass("kksr-star").removeClass("orange").click(function(){return false});var r=e(".kksr-legend",t).html(),i=e(".kksr-fuel",t).css("width");e.fn.kkstarratings.fetch(t,n,i,r,false);return false};e.fn.kkstarratings.fetch=function(t,n,r,i,s){var o=[];e.each(t,function(){o.push(e(this).attr("data-id"))});e.ajax({url:e.fn.kkstarratings.options.ajaxurl,data:"action="+e.fn.kkstarratings.options.func+"&id="+o+"&stars="+n+"&_wpnonce="+e.fn.kkstarratings.options.nonce,type:"post",dataType:"json",beforeSend:function(){e(".kksr-fuel",t).animate({width:"0%"},e.fn.kkstarratings.options.fuelspeed);if(n){e(".kksr-legend",t).fadeOut("fast",function(){e(".kksr-legend",t).html('<span style="color: green">'+e.fn.kkstarratings.options.thankyou+"</span>")}).fadeIn("slow")}},success:function(n){e.each(t,function(){var t=e(this),o=t.attr("data-id");if(n[o].success){e.fn.kkstarratings.update(t,n[o].fuel+"%",n[o].legend,n[o].disable,s)}else{e.fn.kkstarratings.update(t,r,i,false,s)}})},complete:function(){},error:function(n){e(".kksr-legend",t).fadeOut("fast",function(){e(".kksr-legend",t).html('<span style="color: red">'+e.fn.kkstarratings.options.error_msg+"</span>")}).fadeIn("slow",function(){e.fn.kkstarratings.update(t,r,i,false,s)})}})};e.fn.kkstarratings.options={ajaxurl:bhittani_plugin_kksr_js.ajaxurl,func:bhittani_plugin_kksr_js.func,nonce:bhittani_plugin_kksr_js.nonce,grs:bhittani_plugin_kksr_js.grs,tooltip:bhittani_plugin_kksr_js.tooltip,tooltips:bhittani_plugin_kksr_js.tooltips,msg:bhittani_plugin_kksr_js.msg,fuelspeed:bhittani_plugin_kksr_js.fuelspeed,thankyou:bhittani_plugin_kksr_js.thankyou,error_msg:bhittani_plugin_kksr_js.error_msg}})(jQuery,window,document);jQuery(document).ready(function(e){e(".kk-star-ratings").kkstarratings()});

// jQuery UI core
(function(e,t){function n(t,n){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,s=e(this[0]);s.length&&s[0]!==document;){if(r=s.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;i.length>r;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})})(jQuery);

// jQuery UI datepicker
(function(e,t){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(s.inline?t.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function i(t,n){e.extend(t,n);for(var r in n)null==n[r]&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var s,o="datepicker";e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return i(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,o,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),("focus"===r||"both"===r)&&t.focus(this._showDatepicker),("button"===r||"both"===r)&&(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,o,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,s,u){var a,f,l,c,h,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],o,p)),i(p.settings,s||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=u?u.length?u:[u.pageX,u.pageY]:null,this._pos||(f=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[f/2-100+c,l/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],o,p),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,o);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,o),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,o);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,o);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,o)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,r,s){var o,u,a,f,l=this._getInst(n);return 2===arguments.length&&"string"==typeof r?"defaults"===r?e.extend({},e.datepicker._defaults):l?"all"===r?e.extend({},l.settings):this._get(l,r):null:(o=r||{},"string"==typeof r&&(o={},o[r]=s),l&&(this._curInst===l&&this._hideDatepicker(),u=this._getDateDatepicker(n,!0),a=this._getMinMaxDate(l,"min"),f=this._getMinMaxDate(l,"max"),i(l.settings,o),null!==a&&o.dateFormat!==t&&o.minDate===t&&(l.settings.minDate=this._formatDate(l,a)),null!==f&&o.dateFormat!==t&&o.maxDate===t&&(l.settings.maxDate=this._formatDate(l,f)),"disabled"in o&&(o.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),l),this._autoSize(l),this._setDate(l,u),this._updateAlternate(l),this._updateDatepicker(l)),t)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(n){var r,i,s=e.datepicker._getInst(n.target);return e.datepicker._get(s,"constrainInput")?(r=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==n.charCode?n.keyCode:n.charCode),n.ctrlKey||n.metaKey||" ">i||!r||r.indexOf(i)>-1):t},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,r,s,o,u,a,f;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),s=r?r.apply(t,[t,n]):{},s!==!1&&(i(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),u={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),u=e.datepicker._checkOffset(n,u,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),n.inline||(a=e.datepicker._get(n,"showAnim"),f=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[a]?n.dpDiv.show(a,e.datepicker._get(n,"showOptions"),f):n.dpDiv[a||"show"](a?f:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,r=this._getNumberOfMonths(t),i=r[1],o=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",o*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,s,u=this._curInst;!u||t&&u!==e.data(t,o)||this._datepickerShowing&&(n=this._get(u,"showAnim"),r=this._get(u,"duration"),i=function(){e.datepicker._tidyDialog(u)},e.effects&&(e.effects.effect[n]||e.effects[n])?u.dpDiv.hide(n,e.datepicker._get(u,"showOptions"),r,i):u.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(u,"onClose"),s&&s.apply(u.input?u.input[0]:null,[u.input?u.input.val():"",u]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,r,i){if(null==n||null==r)throw"Invalid arguments";if(r="object"==typeof r?""+r:r+"",""===r)return null;var s,o,u,a,f=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,v=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,y=-1,b=-1,w=!1,E=function(e){var t=n.length>s+1&&n.charAt(s+1)===e;return t&&s++,t},S=function(e){var t=E(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=RegExp("^\\d{1,"+n+"}"),s=r.substring(f).match(i);if(!s)throw"Missing number at position "+f;return f+=s[0].length,parseInt(s[0],10)},x=function(n,i,s){var o=-1,u=e.map(E(n)?s:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(u,function(e,n){var i=n[1];return r.substr(f,i.length).toLowerCase()===i.toLowerCase()?(o=n[0],f+=i.length,!1):t}),-1!==o)return o+1;throw"Unknown name at position "+f},T=function(){if(r.charAt(f)!==n.charAt(s))throw"Unexpected literal at position "+f;f++};for(s=0;n.length>s;s++)if(w)"'"!==n.charAt(s)||E("'")?T():w=!1;else switch(n.charAt(s)){case"d":y=S("d");break;case"D":x("D",h,p);break;case"o":b=S("o");break;case"m":g=S("m");break;case"M":g=x("M",d,v);break;case"y":m=S("y");break;case"@":a=new Date(S("@")),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"!":a=new Date((S("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"'":E("'")?T():w=!0;break;default:T()}if(r.length>f&&(u=r.substr(f),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),b>-1)for(g=1,y=b;;){if(o=this._getDaysInMonth(m,g-1),o>=y)break;g++,y-=o}if(a=this._daylightSavingAdjust(new Date(m,g-1,y)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==y)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))for(;n>r.length;)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;e.length>r;r++)if(h)"'"!==e.charAt(r)||a("'")?c+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=e.length>t+1&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;e.length>t;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);f;){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=7*parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=null==n||""===n?r:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&"Invalid Date"==""+o?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),i===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;if(0>Z&&(Z+=12,et--),Y)for(t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",S=0;V[0]>S;S++){for(x="",this.maxRows=4,T=0;V[1]>T;T++){if(N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===S?U?s:r:"")+(/all|right/.test(C)&&0===S?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",E=0;7>E;E++)A=(E+l)%7,L+="<th"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M)),H=0;D>H;H++){for(k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",E=0;7>E;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&G>P||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!a||l>=r.getMonth())&&(!f||i.getMonth()>=l)&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=d;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&g?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(0>t?t:i[0]*i[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"})(jQuery);

// Userpro SWF
var swfobject=function(){function C(){if(b){return}try{var e=a.getElementsByTagName("body")[0].appendChild(U("span"));e.parentNode.removeChild(e)}catch(t){return}b=true;var n=c.length;for(var r=0;r<n;r++){c[r]()}}function k(e){if(b){e()}else{c[c.length]=e}}function L(t){if(typeof u.addEventListener!=e){u.addEventListener("load",t,false)}else{if(typeof a.addEventListener!=e){a.addEventListener("load",t,false)}else{if(typeof u.attachEvent!=e){z(u,"onload",t)}else{if(typeof u.onload=="function"){var n=u.onload;u.onload=function(){n();t()}}else{u.onload=t}}}}}function A(){if(l){O()}else{M()}}function O(){var n=a.getElementsByTagName("body")[0];var r=U(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");if(t){t=t.split(" ")[1].split(",");T.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]}}else{if(o<10){o++;setTimeout(arguments.callee,10);return}}n.removeChild(r);s=null;M()})()}else{M()}}function M(){var t=h.length;if(t>0){for(var n=0;n<t;n++){var r=h[n].id;var i=h[n].callbackFn;var s={success:false,id:r};if(T.pv[0]>0){var o=R(r);if(o){if(W(h[n].swfVersion)&&!(T.wk&&T.wk<312)){V(r,true);if(i){s.success=true;s.ref=_(r);i(s)}}else{if(h[n].expressInstall&&D()){var u={};u.data=h[n].expressInstall;u.width=o.getAttribute("width")||"0";u.height=o.getAttribute("height")||"0";if(o.getAttribute("class")){u.styleclass=o.getAttribute("class")}if(o.getAttribute("align")){u.align=o.getAttribute("align")}var a={};var f=o.getElementsByTagName("param");var l=f.length;for(var c=0;c<l;c++){if(f[c].getAttribute("name").toLowerCase()!="movie"){a[f[c].getAttribute("name")]=f[c].getAttribute("value")}}P(u,a,r,i)}else{H(o);if(i){i(s)}}}}}else{V(r,true);if(i){var p=_(r);if(p&&typeof p.SetVariable!=e){s.success=true;s.ref=p}i(s)}}}}}function _(n){var r=null;var i=R(n);if(i&&i.nodeName=="OBJECT"){if(typeof i.SetVariable!=e){r=i}else{var s=i.getElementsByTagName(t)[0];if(s){r=s}}}return r}function D(){return!w&&W("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function P(t,n,r,i){w=true;g=i||null;y={success:false,id:r};var o=R(r);if(o){if(o.nodeName=="OBJECT"){v=B(o);m=null}else{v=o;m=r}t.id=s;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310){t.width="310"}if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137){t.height="137"}a.title=a.title.slice(0,47)+" - Flash Player Installation";var f=T.ie&&T.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+a.title;if(typeof n.flashvars!=e){n.flashvars+="&"+l}else{n.flashvars=l}if(T.ie&&T.win&&o.readyState!=4){var c=U("div");r+="SWFObjectNew";c.setAttribute("id",r);o.parentNode.insertBefore(c,o);o.style.display="none";(function(){if(o.readyState==4){o.parentNode.removeChild(o)}else{setTimeout(arguments.callee,10)}})()}j(t,n,r)}}function H(e){if(T.ie&&T.win&&e.readyState!=4){var t=U("div");e.parentNode.insertBefore(t,e);t.parentNode.replaceChild(B(e),t);e.style.display="none";(function(){if(e.readyState==4){e.parentNode.removeChild(e)}else{setTimeout(arguments.callee,10)}})()}else{e.parentNode.replaceChild(B(e),e)}}function B(e){var n=U("div");if(T.win&&T.ie){n.innerHTML=e.innerHTML}else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++){if(!(i[o].nodeType==1&&i[o].nodeName=="PARAM")&&!(i[o].nodeType==8)){n.appendChild(i[o].cloneNode(true))}}}}}return n}function j(n,r,s){var o,u=R(s);if(T.wk&&T.wk<312){return o}if(u){if(typeof n.id==e){n.id=s}if(T.ie&&T.win){var a="";for(var f in n){if(n[f]!=Object.prototype[f]){if(f.toLowerCase()=="data"){r.movie=n[f]}else{if(f.toLowerCase()=="styleclass"){a+=' class="'+n[f]+'"'}else{if(f.toLowerCase()!="classid"){a+=" "+f+'="'+n[f]+'"'}}}}}var l="";for(var c in r){if(r[c]!=Object.prototype[c]){l+='<param name="'+c+'" value="'+r[c]+'" />'}}u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>";p[p.length]=n.id;o=R(n.id)}else{var h=U(t);h.setAttribute("type",i);for(var d in n){if(n[d]!=Object.prototype[d]){if(d.toLowerCase()=="styleclass"){h.setAttribute("class",n[d])}else{if(d.toLowerCase()!="classid"){h.setAttribute(d,n[d])}}}}for(var v in r){if(r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"){F(h,v,r[v])}}u.parentNode.replaceChild(h,u);o=h}}return o}function F(e,t,n){var r=U("param");r.setAttribute("name",t);r.setAttribute("value",n);e.appendChild(r)}function I(e){var t=R(e);if(t&&t.nodeName=="OBJECT"){if(T.ie&&T.win){t.style.display="none";(function(){if(t.readyState==4){q(e)}else{setTimeout(arguments.callee,10)}})()}else{t.parentNode.removeChild(t)}}}function q(e){var t=R(e);if(t){for(var n in t){if(typeof t[n]=="function"){t[n]=null}}t.parentNode.removeChild(t)}}function R(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function U(e){return a.createElement(e)}function z(e,t,n){e.attachEvent(t,n);d[d.length]=[e,t,n]}function W(e){var t=T.pv,n=e.split(".");n[0]=parseInt(n[0],10);n[1]=parseInt(n[1],10)||0;n[2]=parseInt(n[2],10)||0;return t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?true:false}function X(n,r,i,s){if(T.ie&&T.mac){return}var o=a.getElementsByTagName("head")[0];if(!o){return}var u=i&&typeof i=="string"?i:"screen";if(s){E=null;S=null}if(!E||S!=u){var f=U("style");f.setAttribute("type","text/css");f.setAttribute("media",u);E=o.appendChild(f);if(T.ie&&T.win&&typeof a.styleSheets!=e&&a.styleSheets.length>0){E=a.styleSheets[a.styleSheets.length-1]}S=u}if(T.ie&&T.win){if(E&&typeof E.addRule==t){E.addRule(n,r)}}else{if(E&&typeof a.createTextNode!=e){E.appendChild(a.createTextNode(n+" {"+r+"}"))}}}function V(e,t){if(!x){return}var n=t?"visible":"hidden";if(b&&R(e)){R(e).style.visibility=n}else{X("#"+e,"visibility:"+n)}}function $(t){var n=/[\\\"<>\.;]/;var r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,a=document,f=navigator,l=false,c=[A],h=[],p=[],d=[],v,m,g,y,b=false,w=false,E,S,x=true,T=function(){var s=typeof a.getElementById!=e&&typeof a.getElementsByTagName!=e&&typeof a.createElement!=e,o=f.userAgent.toLowerCase(),c=f.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(o),p=c?/mac/.test(c):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,v=!+"1",m=[0,0,0],g=null;if(typeof f.plugins!=e&&typeof f.plugins[n]==t){g=f.plugins[n].description;if(g&&!(typeof f.mimeTypes!=e&&f.mimeTypes[i]&&!f.mimeTypes[i].enabledPlugin)){l=true;v=false;g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1");m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10);m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10);m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof u.ActiveXObject!=e){try{var y=new ActiveXObject(r);if(y){g=y.GetVariable("$version");if(g){v=true;g=g.split(" ")[1].split(",");m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}}}catch(b){}}}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),N=function(){if(!T.w3){return}if(typeof a.readyState!=e&&a.readyState=="complete"||typeof a.readyState==e&&(a.getElementsByTagName("body")[0]||a.body)){C()}if(!b){if(typeof a.addEventListener!=e){a.addEventListener("DOMContentLoaded",C,false)}if(T.ie&&T.win){a.attachEvent(o,function(){if(a.readyState=="complete"){a.detachEvent(o,arguments.callee);C()}});if(u==top){(function(){if(b){return}try{a.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}C()})()}}if(T.wk){(function(){if(b){return}if(!/loaded|complete/.test(a.readyState)){setTimeout(arguments.callee,0);return}C()})()}L(C)}}();var J=function(){if(T.ie&&T.win){window.attachEvent("onunload",function(){var e=d.length;for(var t=0;t<e;t++){d[t][0].detachEvent(d[t][1],d[t][2])}var n=p.length;for(var r=0;r<n;r++){I(p[r])}for(var i in T){T[i]=null}T=null;for(var s in swfobject){swfobject[s]=null}swfobject=null})}}();return{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var i={};i.id=e;i.swfVersion=t;i.expressInstall=n;i.callbackFn=r;h[h.length]=i;V(e,false)}else{if(r){r({success:false,id:e})}}},getObjectById:function(e){if(T.w3){return _(e)}},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:false,id:r};if(T.w3&&!(T.wk&&T.wk<312)&&n&&r&&i&&s&&o){V(r,false);k(function(){i+="";s+="";var p={};if(l&&typeof l===t){for(var d in l){p[d]=l[d]}}p.data=n;p.width=i;p.height=s;var v={};if(f&&typeof f===t){for(var m in f){v[m]=f[m]}}if(a&&typeof a===t){for(var g in a){if(typeof v.flashvars!=e){v.flashvars+="&"+g+"="+a[g]}else{v.flashvars=g+"="+a[g]}}}if(W(o)){var y=j(p,v,r);if(p.id==r){V(r,true)}h.success=true;h.ref=y}else{if(u&&D()){p.data=u;P(p,v,r,c);return}else{V(r,true)}}if(c){c(h)}})}else{if(c){c(h)}}},switchOffAutoHideShow:function(){x=false},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:W,createSWF:function(e,t,n){if(T.w3){return j(e,t,n)}else{return undefined}},showExpressInstall:function(e,t,n,r){if(T.w3&&D()){P(e,t,n,r)}},removeSWF:function(e){if(T.w3){I(e)}},createCSS:function(e,t,n,r){if(T.w3){X(e,t,n,r)}},addDomLoadEvent:k,addLoadEvent:L,getQueryParamValue:function(e){var t=a.location.search||a.location.hash;if(t){if(/\?/.test(t)){t=t.split("?")[1]}if(e==null){return $(t)}var n=t.split("&");for(var r=0;r<n.length;r++){if(n[r].substring(0,n[r].indexOf("="))==e){return $(n[r].substring(n[r].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(w){var e=R(s);if(e&&v){e.parentNode.replaceChild(v,e);if(m){V(m,true);if(T.ie&&T.win){v.style.display="block"}}if(g){g(y)}}w=false}}}}();

// Userpro Spinner 
var Spinners={version:"3.0.0"};(function(e){function t(e){return e*Math.PI/180}function n(e){this.element=e}function r(t,n){t&&(this.element=t,u.remove(t),u.removeDetached(),this._position=0,this._state="stopped",this.setOptions(e.extend({color:"#000",dashes:12,radius:5,height:5,width:1.8,opacity:1,padding:3,rotation:700},n||{})),this.drawPosition(0),u.add(this))}var i={scroll:function(e,t){if(!t)return e;var n=e.slice(0,t);return e.slice(t,e.length).concat(n)},isElement:function(e){return e&&1==e.nodeType},element:{isAttached:function(){return function(e){for(;e&&e.parentNode;)e=e.parentNode;return!!e&&!!e.body}}()}},s={drawRoundedRectangle:function(n,r){var i=e.extend({top:0,left:0,width:0,height:0,radius:0},r||{}),s=i.left,o=i.top,u=i.width,f=i.height,i=i.radius;n.beginPath(),n.moveTo(s+i,o),n.arc(s+u-i,o+i,i,t(-90),t(0),!1),n.arc(s+u-i,o+f-i,i,t(0),t(90),!1),n.arc(s+i,o+f-i,i,t(90),t(180),!1),n.arc(s+i,o+i,i,t(-180),t(-90),!1),n.closePath(),n.fill()}},o=function(){function e(e){var n=[];0==e.indexOf("#")&&(e=e.substring(1)),e=e.toLowerCase();if(""!=e.replace(t,""))return null;3==e.length?(n[0]=e.charAt(0)+e.charAt(0),n[1]=e.charAt(1)+e.charAt(1),n[2]=e.charAt(2)+e.charAt(2)):(n[0]=e.substring(0,2),n[1]=e.substring(2,4),n[2]=e.substring(4));for(e=0;e<n.length;e++)n[e]=parseInt(n[e],16);return n.red=n[0],n.green=n[1],n.blue=n[2],n}var t=RegExp("[0123456789abcdef]","g"),n=function(){function e(e,t,n){return e=e.toString(n||10),Array(t-e.length).join("0")+e}return function(t,n,r){return"#"+e(t,2,16)+e(n,2,16)+e(r,2,16)}}();return{hex2rgb:e,hex2fill:function(t,n){"undefined"==typeof n&&(n=1);var r=n,i=e(t);return i[3]=r,i.opacity=r,"rgba("+i.join()+")"},rgb2hex:n}}();e.extend(Spinners,{enabled:!1,support:{canvas:function(){var t=e("<canvas>")[0];return!!t.getContext&&!!t.getContext("2d")}()},init:function(){if(this.support.canvas||window.G_vmlCanvasManager&&window.attachEvent&&-1===navigator.userAgent.indexOf("Opera"))window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document),this.enabled=!0},create:function(e,t){return n.create(e,t),this.get(e)},get:function(e){return new n(e)},play:function(e){return this.get(e).play(),this},pause:function(e){return this.get(e).pause(),this},toggle:function(e){return this.get(e).toggle(),this},stop:function(e){return this.get(e).stop(),this},remove:function(e){return this.get(e).remove(),this},removeDetached:function(){return u.removeDetached(),this},center:function(e){return this.get(e).center(),this},setOptions:function(e,t){return this.get(e).setOptions(t),this},getDimensions:function(e){return e=2*u.get(e)[0].getLayout().workspace.radius,{width:e,height:e}}});var u={spinners:[],get:function(t){if(t){var n=[];return e.each(this.spinners,function(r,s){s&&(i.isElement(t)?s.element==t:e(s.element).is(t))&&n.push(s)}),n}},add:function(e){this.spinners.push(e)},remove:function(t){e(e.map(this.spinners,function(n){if(i.isElement(t)?n.element==t:e(n.element).is(t))return n.element})).each(e.proxy(function(e,t){this.removeByElement(t)},this))},removeByElement:function(t){var n=this.get(t)[0];n&&(n.remove(),this.spinners=e.grep(this.spinners,function(e){return e.element!=t}))},removeDetached:function(){e.each(this.spinners,e.proxy(function(e,t){t&&t.element&&!i.element.isAttached(t.element)&&this.remove(t.element)},this))}};e.extend(n,{create:function(t,n){if(t){var s=n||{},o=[];return i.isElement(t)?o.push(new r(t,s)):e(t).each(function(e,t){o.push(new r(t,s))}),o}}}),e.extend(n.prototype,{items:function(){return u.get(this.element)},play:function(){return e.each(this.items(),function(e,t){t.play()}),this},stop:function(){return e.each(this.items(),function(e,t){t.stop()}),this},pause:function(){return e.each(this.items(),function(e,t){t.pause()}),this},toggle:function(){return e.each(this.items(),function(e,t){t.toggle()}),this},center:function(){return e.each(this.items(),function(e,t){t.center()}),this},setOptions:function(t){return e.each(this.items(),function(e,n){n.setOptions(t)}),this},remove:function(){return u.remove(this.element),this}}),e.extend(r.prototype,{setOptions:function(t){this.options=e.extend({},this.options,t||{}),this.options.radii&&(t=this.options.radii,this.options.radius=Math.min(t[0],t[1]),this.options.height=Math.max(t[0],t[1])-this.options.radius),this.options.dashWidth&&(this.options.width=this.options.dashWidth),this.options.speed&&(this.options.duration=1e3*this.options.speed);var t=this._state,n=this._position;this._layout=null,this.build(),n&&n>=this.options.dashes-1&&(this._position=this.options.dashes-1);switch(t){case"playing":this.play();break;case"paused":case"stopped":this.drawPosition(this._position)}this._centered&&this.center()},remove:function(){this.canvas&&(this.pause(),e(this.canvas).remove(),this.ctx=this.canvas=null)},build:function(){this.remove();var t=this.getLayout().workspace.radius;return e(document.body).append(this.canvas=e("<canvas>").attr({width:2*t,height:2*t}).css({zoom:1})),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas[0]),this.ctx=this.canvas[0].getContext("2d"),this.ctx.globalAlpha=this.options.opacity,e(this.element).append(this.canvas),this.ctx.translate(t,t),this},drawPosition:function(e){var n=this.getLayout().workspace,e=i.scroll(n.opacities,-1*e),r=n.radius,n=this.options.dashes,s=t(360/n);this.ctx.clearRect(-1*r,-1*r,2*r,2*r);for(r=0;r<n;r++)this.drawDash(e[r],this.options.color),this.ctx.rotate(s)},drawDash:function(e,t){this.ctx.fillStyle=o.hex2fill(t,e);var n=this.getLayout(),r=n.workspace.radius,i=n.dash.position,n=n.dash.dimensions;s.drawRoundedRectangle(this.ctx,{top:i.top-r,left:i.left-r,width:n.width,height:n.height,radius:Math.min(n.height,n.width)/2})},_nextPosition:function(){var t=this.options.rotation/this.options.dashes;this.nextPosition(),this._playTimer=window.setTimeout(e.proxy(this._nextPosition,this),t)},nextPosition:function(){this._position==this.options.dashes-1&&(this._position=-1),this._position++,this.drawPosition(this._position)},play:function(){if("playing"!=this._state){this._state="playing";var t=this.options.rotation/this.options.dashes;return this._playTimer=window.setTimeout(e.proxy(this._nextPosition,this),t),this}},pause:function(){if("paused"!=this._state)return this._pause(),this._state="paused",this},_pause:function(){this._playTimer&&(window.clearTimeout(this._playTimer),this._playTimer=null)},stop:function(){if("stopped"!=this._state)return this._pause(),this._position=0,this.drawPosition(0),this._state="stopped",this},toggle:function(){return this["playing"==this._state?"pause":"play"](),this},getLayout:function(){if(this._layout)return this._layout;for(var e=this.options,t=e.dashes,n=e.width,r=e.radius,i=e.radius+e.height,s=Math.max(n,i),s=Math.ceil(Math.max(s,Math.sqrt(i*i+n/2*(n/2)))),e=s+=e.padding,o=1/t,u=[],a=0;a<t;a++)u.push((a+1)*o);return this._layout=t={workspace:{radius:e,opacities:u},dash:{position:{top:s-i,left:s-n/2},dimensions:{width:n,height:i-r}}}},center:function(){var t=2*this.getLayout().workspace.radius;e(this.element.parentNode).css({position:"relative"}),e(this.element).css({position:"absolute",height:t+"px",width:t+"px",top:"50%",left:"50%",marginLeft:-.5*t+"px",marginTop:-.5*t+"px"}),this._centered=!0}}),Spinners.init(),Spinners.enabled||(n.create=function(){return[]})})(jQuery);

// Userpro Lightview
var Lightview={version:"3.4.0",extensions:{flash:"swf",image:"bmp gif jpeg jpg png",iframe:"asp aspx cgi cfm htm html jsp php pl php3 php4 php5 phtml rb rhtml shtml txt",quicktime:"avi mov mpg mpeg movie mp4"},pluginspages:{quicktime:"http://www.apple.com/quicktime/download",flash:"http://www.adobe.com/go/getflashplayer"}};Lightview.Skins={base:{ajax:{type:"get"},background:{color:"#fff",opacity:1},border:{size:0,color:"#ccc",opacity:1},continuous:false,controls:{close:"relative",slider:{items:5},text:{previous:"Prev",next:"Next"},thumbnails:{spinner:{color:"#777"},mousewheel:true},type:"relative"},effects:{caption:{show:180,hide:180},content:{show:280,hide:280},overlay:{show:240,hide:280},sides:{show:150,hide:180},spinner:{show:50,hide:100},slider:{slide:180},thumbnails:{show:120,hide:0,slide:180,load:340},window:{show:120,hide:50,resize:200,position:180}},errors:{missing_plugin:"The content your are attempting to view requires the <a href='#{pluginspage}' target='_blank'>#{type} plugin</a>."},initialDimensions:{width:125,height:125},keyboard:{left:true,right:true,esc:true,space:true},mousewheel:true,overlay:{close:true,background:"#202020",opacity:.85},padding:10,position:{at:"center",offset:{x:0,y:0}},preload:true,radius:{size:0,position:"background"},shadow:{blur:3,color:"#000",opacity:.15},slideshow:{delay:5e3},spacing:{relative:{horizontal:60,vertical:60},thumbnails:{horizontal:60,vertical:60},top:{horizontal:60,vertical:60}},spinner:{},thumbnail:{icon:false},viewport:"scale",wrapperClass:false,initialTypeOptions:{ajax:{keyboard:false,mousewheel:false,viewport:"crop"},flash:{width:550,height:400,params:{allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"},flashvars:{},keyboard:false,mousewheel:false,thumbnail:{icon:"video"},viewport:"scale"},iframe:{width:"100%",height:"100%",attr:{scrolling:"auto"},keyboard:false,mousewheel:false,viewport:"crop"},image:{viewport:"scale"},inline:{keyboard:false,mousewheel:false,viewport:"crop"},quicktime:{width:640,height:272,params:{autoplay:true,controller:true,enablejavascript:true,loop:false,scale:"tofit"},keyboard:false,mousewheel:false,thumbnail:{icon:"video"},viewport:"scale"}}},reset:{},dark:{border:{size:0,color:"#000",opacity:.25},radius:{size:5},background:"#141414",shadow:{blur:5,opacity:.08},overlay:{background:"#2b2b2b",opacity:.85},spinner:{color:"#777"}},light:{border:{opacity:.25},radius:{size:5},spinner:{color:"#333"}},mac:{background:"#fff",border:{size:0,color:"#dfdfdf",opacity:.3},shadow:{blur:3,opacity:.08},overlay:{background:"#2b2b2b",opacity:.85}}};eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--)s[i(n)]=r[n]||i(n);r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--)if(r[n])e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]);return e}('!L($,D){L 1a(a){M b={};1H(M c 3J a)b[c]=a[c]+"1a";S b}L 9M(a,b){S 15.9N(a*a+b*b)}L 9O(a){S 3w*a/15.5p}L 1I(a){S a*15.5p/3w}L 2W(a){S 7r.9P.5q(7r,a.2D(","))}L 5r(a){D.6k&&6k[6k.5r?"5r":"9Q"](a)}L 6l(a){M b="<"+a.3K;1H(M c 3J a)$.6m(c,"3x 1J 3K".2D(" "))<0&&(b+=" "+c+\'="\'+a[c]+\'"\');S 2y 6n("^(?:9R|7s|9S|br|9T|9U|9V|5s|9W|9X|9Y|9Z|5t|a0|a1|a2)$","i").5u(a.3K)?b+="/>":(b+=">",a.3x&&$.1t(a.3x,L(a,c){b+=6l(c)}),a.1J&&(b+=a.1J),b+="</"+a.3K+">"),b}L 5v(a,b){1H(M c 3J b)b[c]&&b[c].7t&&b[c].7t===a3?(a[c]=2p.2X(a[c])||{},5v(a[c],b[c])):a[c]=b[c];S a}L 2N(a,b){S 5v(2p.2X(a),b)}L 4f(){K.4g.5q(K,1N)}L 6o(a,b){M c,d=(b||6p(a)||"").5w();S $("4I 1K 4J 3L".2D(" ")).1t(L(a,b){$.6m(d,1z.a4[b].2D(" "))>-1&&(c=b)}),c?c:"#"==a.4K(0,1)?"4h":1p.7u&&1p.7u!=a.4L(/(^.*\\/\\/)|(:.*)|(\\/.*)/g,"")?"4J":"1K"}L 6p(a){M b=(a||"").4L(/\\?.*/g,"").6q(/\\.([^.]{3,4})$/);S b?b[1]:1m}L a5(a,b){M c=$.1k({6r:7v,6s:10,6t:1m},1N[2]||{}),d=0;S a.5x=D.a6($.Z(L(){S d+=c.6s,b()?(D.7w(a.5x),a(),3M 0):(d>=c.6r&&(D.7w(a.5x),c.6t&&c.6t()),3M 0)},a),c.6s),a.5x}!L(){L a(a){M b;11(a.5y.7x?b=a.5y.7x/7y:a.5y.7z&&(b=-a.5y.7z/3),b){M c=$.a7("1C:2b");$(a.35).a8(c,b),c.a9()&&a.2O(),c.aa()&&a.2P()}}$(1p.4M).1O("2b ab",a)}();M E={};!L(){M a={};$.1k(a,{ac:L(a){S 15.6u(a,4)}}),$.1t(a,L(a,b){E["ad"+a]=b,E["ae"+a]=L(a){S 1-b(1-a)},E["af"+a]=L(a){S.5>a?b(2*a)/2:1-b(-2*a+2)/2}}),$.1t(E,L(a,b){$.5z[a]||($.5z[a]=b)})}();M F=7A.5A.ag,2p={2X:L(a){S $.1k({},a)},6v:L(a){S a&&1==a.5B},U:{7B:L(){L a(a){1H(M b=a;b&&b.5C;)b=b.5C;S b}S L(b){M c=a(b);S!(!c||!c.3g)}}()}},1h=L(a){L b(b){M c=2y 6n(b+"([\\\\d.]+)").ah(a);S c?5D(c[1]):!0}S{1D:!(!D.ai||-1!==a.2Q("6w"))&&b("aj "),6w:a.2Q("6w")>-1&&(!!D.6x&&6x.6y&&5D(6x.6y())||7.55),5E:a.2Q("7C/")>-1&&b("7C/"),7D:a.2Q("7D")>-1&&-1===a.2Q("ak")&&b("al:"),3h:!!a.6q(/am.*an.*ao/),4N:a.2Q("4N")>-1&&b("4N/")}}(5F.ap),7E=L(){M a=0,b="aq";S L(c){1H(c=c||b,a++;1p.ar(c+a);)a++;S c+a}}(),6z={3N:{2c:{4O:"1.4.4",4P:D.2c&&2c.as.au},7F:{4O:"2.2",4P:D.6A&&6A.av&&"2.2"},2R:{4O:"3.0.0",4P:D.2R&&(2R.6y||2R.aw)}},6B:L(){L b(b){1H(M c=b.6q(a),d=c&&c[1]&&c[1].2D(".")||[],e=0,f=0,g=d.1e;g>f;f++)e+=1X(d[f]*15.6u(10,6-2*f));S c&&c[3]?e-1:e}M a=/^(\\d+(\\.?\\d+){0,3})([A-7G-ax-]+[A-7G-ay-9]+)?/;S L(a){(!K.3N[a].4P||b(K.3N[a].4P)<b(K.3N[a].4O)&&!K.3N[a].7H)&&(K.3N[a].7H=!0,5r("1z az "+a+" >= "+K.3N[a].4O))}}()};!L(){$(1p).7I(L(){L b(b){M c=!1;11(a)c=$.7J(F.3O(5F.4Q),L(a){S a.5G}).6C(",").2Q(b)>=0;2E 4i{c=2y aA(b)}4j(d){}S!!c}M a=5F.4Q&&5F.4Q.1e;1z.4Q=a?{4I:b("aB aC"),3L:b("6D")}:{4I:b("7K.7K"),3L:b("6D.6D")}})}(),$.1k(!0,1z,L(){L c(a){S e(a,"7L")}L d(b,c){1H(M d 3J b)11(3M 0!==a.4k[b[d]])S"7L"==c?b[d]:!0;S!1}L e(a,c){M e=a.3y(0).7M()+a.4K(1),f=(a+" "+b.6C(e+" ")+e).2D(" ");S d(f,c)}L g(){6z.6B("2c"),(K.3i.2F||1h.1D)&&(D.5H&&D.5H.aD(1p),2Y.2S(),P.2S(),P.4R(),I.2S())}M a=1p.3j("13"),b="aE aF O aG aH".2D(" "),f={2F:L(){M a=1p.3j("2F");S!(!a.4S||!a.4S("2d"))}(),aI:L(){4i{S!!1p.7N("aJ")}4j(a){S!1}}(),X:{7O:e("7O"),7P:e("7P"),aK:L(){M a=["aL","aM","aN"],b=!1;S $.1t(a,L(a,c){4i{1p.7N(c),b=!0}4j(d){}}),b}(),aO:1h.1D&&1h.1D<7,aP:c}};S{2S:g,3i:f}}());M G=L(){L c(c,d){c=c||{},c.1L=c.1L||(1z.4l[P.4T]?P.4T:"1C");M e=c.1L?2p.2X(1z.4l[c.1L]||1z.4l[P.4T]):{},f=2N(b,e);d&&(f=5v(f,f.aQ[d]));M g=2N(f,c);11(g.2G){11("7Q"==$.T(g.2G)){M h=b.2G||{},i=a.2G;g.2G={1E:h.1E||i.1E,T:h.T||i.T}}g.2G=2N(i,g.2G)}11(g.1i&&(g.1i="2q"==$.T(g.1i)?2N(f.1i||b.1i||a.1i,{T:g.1i}):2N(a.1i,g.1i)),"2q"==$.T(g.2r))g.2r={1Y:g.2r,1x:1};2E 11(g.2r){M j=g.2r,k=j.1x,l=j.1Y;g.2r={1x:"2z"==$.T(k)?k:1,1Y:"2q"==$.T(l)?l:"#5I"}}11(g.1v||(g.1v={},$.1t(a.1v,L(a,b){$.1t(g.1v[a]=$.1k({},b),L(b){g.1v[a][b]=0})})),1h.3h){M m=g.1v.2T;m.17=0,m.V=0}11(g.1v&&!1z.3i.2F&&1h.1D&&1h.1D<9){M n=g.1v;1h.1D<7&&$.1k(!0,n,{1Z:{17:0,V:0},1w:{17:0,V:0,3k:0},1l:{17:0,V:0},22:{17:0,V:0},2s:{2H:0}}),$.1k(!0,n,{6E:{17:0,V:0}})}11(g.1R){M o,p=b.1R||{},q=a.1R;o="2z"==$.T(g.1R)?{2e:g.1R,1Y:p.1Y||q.1Y,1x:p.1x||q.1x}:"2q"==$.T(g.1R)?{2e:p.2e||q.2e,1Y:g.1R,1x:p.1x||q.1x}:2N(q,g.1R),g.1R=0===o.2e?!1:o}M r=a.Y;11(g.Y||"2z"==$.T(g.Y)){M s,t=b.Y||{};s="2q"==$.T(g.Y)?{at:g.Y,36:t.36||r.36}:"2z"==$.T(g.Y)?{at:"19",36:{x:0,y:g.Y}}:2N(r,g.Y),g.Y=s}2E g.Y=2p.2X(r);11(g.1A||"2z"==$.T(g.1A)){M u,v=b.1A||{},w=a.1A;u="2z"==$.T(g.1A)?{2e:g.1A,Y:v.Y||w.Y}:"2q"==$.T(g.1A)?{2e:v.2e||w.2e,Y:g.Y}:2N(w,g.1A),g.1A=u}11(g.1q){M x,y=b.1q,z=a.1q;x="7Q"==$.T(g.1q)?y&&"1q"==$.T(y)?z:y?y:z:2N(z,g.1q||{}),x.38<1&&(x=!1),g.1q=x}11(g.23){M A,B=b.23||{},C=a.23;A="2q"==$.T(g.23)?{1K:g.23,4m:f.23&&f.23.4m||B.4m||C.4m}:2N(C,g.23),g.23=A}S g.24&&"2z"==$.T(g.24)&&(g.24={6F:g.24}),"1K"!=d&&(g.24=!1),g}M a=1z.4l.7s,b=2N(a,1z.4l.aR);S{2t:c}}(),3P=L(){L c(a){M b=a;S b.7R=a[0],b.7S=a[1],b.7T=a[2],b}L d(a){S 1X(a,16)}L e(a){M e=2y 7A(3);11(0==a.2Q("#")&&(a=a.5J(1)),a=a.5w(),""!=a.4L(b,""))S 1m;3==a.1e?(e[0]=a.3y(0)+a.3y(0),e[1]=a.3y(1)+a.3y(1),e[2]=a.3y(2)+a.3y(2)):(e[0]=a.5J(0,2),e[1]=a.5J(2,4),e[2]=a.5J(4));1H(M f=0;f<e.1e;f++)e[f]=d(e[f]);S c(e)}L f(a,b){M c=e(a);S c[3]=b,c.1x=b,c}L g(a,b){S"7U"==$.T(b)&&(b=1),"aS("+f(a,b).6C()+")"}L h(a){S"#"+(i(a)[2]>50?"5I":"7V")}L i(a){S j(e(a))}L j(a){M f,g,h,a=c(a),b=a.7R,d=a.7S,e=a.7T,i=b>d?b:d;e>i&&(i=e);M j=d>b?b:d;11(j>e&&(j=e),h=i/aT,g=0!=i?(i-j)/i:0,0==g)f=0;2E{M k=(i-b)/(i-j),l=(i-d)/(i-j),m=(i-e)/(i-j);f=b==i?m-l:d==i?2+k-m:4+l-k,f/=6,0>f&&(f+=1)}f=15.2j(aU*f),g=15.2j(2I*g),h=15.2j(2I*h);M n=[];S n[0]=f,n[1]=g,n[2]=h,n.aV=f,n.aW=g,n.aX=h,n}M a="aY",b=2y 6n("["+a+"]","g");S{aZ:e,3Q:g,b0:h}}(),2Z={2S:L(){S D.5H&&!1z.3i.2F&&1h.1D?L(a){5H.b1(a)}:L(){}}(),3k:L(a,b){$(a).1M({Q:b.Q*K.7W,R:b.R*K.7W}).X(1a(b))},6G:L(a){M b=$.1k(!0,{b2:!1,6H:!1,19:0,1b:0,Q:0,R:0,1A:0},1N[1]||{}),c=b,d=c.1b,e=c.19,f=c.Q,g=c.R,h=c.1A;11(c.6H,b.6H){M j=2*h;d-=h,e-=h,f+=j,g+=j}S h?(a.7X(),a.3R(d+h,e),a.2U(d+f-h,e+h,h,1I(-90),1I(0),!1),a.2U(d+f-h,e+g-h,h,1I(0),1I(90),!1),a.2U(d+h,e+g-h,h,1I(90),1I(3w),!1),a.2U(d+h,e+h,h,1I(-3w),1I(-90),!1),a.6I(),a.5K(),3M 0):(a.7Y(e,d,f,g),3M 0)},6J:L(a,b){M c;11("2q"==$.T(b))c=3P.3Q(b);2E 11("2q"==$.T(b.1Y))c=3P.3Q(b.1Y,"2z"==$.T(b.1x)?b.1x.b3(5):1);2E 11($.b4(b.1Y)){M d=$.1k({5L:0,5M:0,5N:0,5O:0},1N[2]||{});c=2Z.7Z.80(a.b5(d.5L,d.5M,d.5N,d.5O),b.1Y,b.1x)}S c},81:L(a,b){M c=$.1k({x:0,y:0,1g:!1,1Y:"#5I",2r:{1Y:"#7V",1x:.7,1A:4}},1N[2]||{}),d=c.2r;11(d&&d.1Y){M e=c.1g;a.4U=3P.3Q(d.1Y,d.1x),2Z.6G(a,{Q:e.Q,R:e.R,19:c.y,1b:c.x,1A:d.1A||0})}1H(M f=0,g=b.1e;g>f;f++)1H(M h=0,i=b[f].1e;i>h;h++){M j=1X(b[f].3y(h))*(1/9)||0;a.4U=3P.3Q(c.1Y,j-.b6),j&&a.7Y(c.x+h,c.y+f,1,1)}}};2Z.7Z={80:L(a,b){1H(M c="2z"==$.T(1N[2])?1N[2]:1,d=0,e=b.1e;e>d;d++){M f=b[d];("7U"==$.T(f.1x)||"2z"!=$.T(f.1x))&&(f.1x=1),a.b7(f.Y,3P.3Q(f.1Y,f.1x*c))}S a}};M H={6K:L(a){M b=P.N;11(!b)S a;11(b.1i)2J(b.1i.T){1y"19":a.R-=J.2k.U.4n();2l;1y"1S":P.1r&&P.1r.1e<=1||(a.R-=J.2K.U.4n())}M c=b.Y&&b.Y.36;S c&&(c.x&&(a.Q-=c.x),c.y&&(a.R-=c.y)),a},26:L(){M a={R:$(D).R(),Q:$(D).Q()};11(1h.3h){M b=D.4V,c=D.4n;a.Q=b,a.R=c}S H.6K(a)},1p:L(){M a={R:$(1p).R(),Q:$(1p).Q()};S a.R-=$(D).3l(),a.Q-=$(D).4o(),H.6K(a)},b8:L(a){M b=K.26(),c=P.2u,d=c.4W,e=c.3S,f=a.N,g=f.2A||0,h=f.1R.2e||0;15.2f(d||0,f.1q&&f.1q.2e||0),15.2f(e||0,f.1q&&f.1q.2e||0);M k=2*h-2*g;S{R:a.N.26?b.R-k.y:1/0,Q:b.Q-k.x}}},2Y=L(){L b(){K.N={2r:"#5I",1x:.7},K.4p(),a&&$(D).1O("3k",$.Z(L(){2Y.U&&2Y.U.1T(":1P")&&2Y.2f()},K)),K.3T()}L c(){11(K.U=$(1p.3j("13")).W("b9"),a&&K.U.X({Y:"3U"}),$(1p.3g).6L(K.U),a){M b=K.U[0].4k;b.4X("19","((!!1w.2c ? 2c(1w).3l() : 0) + \'1a\')"),b.4X("1b","((!!1w.2c ? 2c(1w).4o() : 0) + \'1a\')")}K.U.V().1O("2g",$.Z(L(){P.N&&P.N.2T&&!P.N.2T.1Q||P.V()},K)).1O("1C:2b",$.Z(L(a){(!P.N||P.N.2b||"1S"==J.T&&P.N&&P.N.1i&&P.N.1i.1S&&P.N.1i.1S.2b||P.N&&P.N.26)&&(a.2P(),a.2O())},K))}L d(a){K.N=a,K.3T()}L e(){K.U.X({"2r-1Y":K.N.2r}),K.2f()}L f(a){S K.2f(),K.U.1d(!0),K.5P(K.N.1x,K.N.5Q.17,a),K}L g(a){S K.U.1d(!0).3V(K.N.5Q.V||0,a),K}L h(a,b,c){K.U.2L(b||0,a,c)}L i(){M a={};S $.1t(["Q","R"],L(b,c){M d=c.4K(0,1).7M()+c.4K(1),e=1p.4M;a[c]=(1h.1D?15.2f(e["36"+d],e["5R"+d]):1h.5E?1p.3g["5R"+d]:e["5R"+d])||0}),a}L j(){1h.3h&&1h.5E&&1h.5E<ba.18&&K.U.X(1a(i())),1h.1D&&K.U.X(1a({R:$(D).R(),Q:$(D).Q()}))}M a=1h.1D&&1h.1D<7;S{2S:b,4p:c,17:f,V:g,5P:h,2V:d,3T:e,2f:j}}(),P={4T:"bb",2S:L(){K.2V(1N[0]||{}),K.20={1l:{Q:5S,R:5S}},K.20.1w=K.3a(K.20.1l).1w.1g;M a=K.4q=[];a.5T=$({}),a.3m=$({}),K.4p()},2V:L(a){K.N=G.2t(a||{});M a=$.1k({4r:!0},1N[1]||{});a.4r&&K.6M()},6M:L(a){a=a||K.N,K.N=a,K.2u=a.2u[a.1i.T],K.2A=a.2A,K.2u.3S<25&&(K.2u.3S=25)},3W:L(a,b){b=b||{},a&&(b.1L=a);M c=$.1k({4r:!1},1N[2]||{});S K.2V(b,{4r:c.4r}),2Y.2V($.1k(!0,{5Q:K.N.1v.2T},K.N.2T)),K.U[0].6N="5U bc"+a,J.2k.3W(a),J.2K.3W(a),K.3T(),K},4Y:L(a){1z.4l[a]&&(K.4T=a)},4p:L(){M a={R:82,Q:82};K.U=$(1p.3j("13")).W("5U"),K.U.14(K.1L=$("<13>").W("83")),K.1L.14(K.1q=$("<13>").W("84").14(K.4s=$("<2F>").1M(a))),K.1L.14(K.2B=$("<13>").W("bd").14(K.4t=$("<2F>").1M(a))),K.1L.14(K.30=$("<13>").W("3z").14($("<13>").W("4Z 4u").1c("2M","21").14($("<13>").W("4v be").1c("2M","21")).V()).14($("<13>").W("4Z 4w").1c("2M","1U").14($("<13>").W("4v bf").1c("2M","1U")).V()).V()),K.U.14(K.1l=$("<13>").W("5V")),K.U.14(K.1V=$("<13>").W("bg").V().14(K.bh=$("<13>").W("bi").14(K.2v=$("<13>").W("bj")).14(K.1Z=$("<13>").W("bk")))),K.U.14(K.3n=$("<13>").W("51").14($("<13>").W("3o 5W").1c("2M","21")).14($("<13>").W("3o 5X").1c("2M","1U").V())),K.U.14(K.3b=$("<13>").W("bl 85").V()),J.3c.2t(),J.2k.2t(),J.2K.2t(),K.1L.14(K.3d=$("<13>").W("6O").V()),$(1p.3g).6L(K.U),2Z.2S(K.4s[0]),2Z.2S(K.4t[0]),K.6P=K.4s[0].4S("2d"),K.5Y=K.4t[0].4S("2d"),K.86(),K.U.V(),K.3A()},86:L(){M a=$(1p.4M);$(1p.3g),1h.1D&&1h.1D<7&&"bm"==a.X("2r-1K")&&a.X({"2r-1K":"1n(bn:bo) bp"})},3A:L(){K.87(),K.U.3X(".51 .3o, .3z .4v, .3z .4Z","bq bs",$.Z(L(a){M b=$(a.35).1c("2M");K.30.1o(".88"+b).52().W("89")},K)).3X(".51 .3o, .3z .4v, .3z .4Z","bt",$.Z(L(a){M b=$(a.35).1c("2M");K.30.1o(".88"+b).52().2m("89")},K)).3X(".51 .3o, .3z .4v, .3z .4Z","2g",$.Z(L(a){a.2P(),a.2O();M b=$(a.35).1c("2M");K[b]()},K)).1O("1C:2b",$.Z(L(a){$(a.35).6Q(".5V")[0]||K.N&&!K.N.26||(a.2P(),a.2O())},K)).3X(".85","2g",$.Z(L(){K.V()},K)).1O("2g",$.Z(L(a){K.N&&K.N.2T&&!K.N.2T.1Q||$(a.35).1T(".5U, .83, .84")&&K.V()},K)).1O("2g",$.Z(L(a){M b=2W("95,8a"),c=2W("5Z,3Y,99,97,3p,2C,3Y,53"),d=2W("6R,4x,3Z,bu");K[b]&&a.35==K[b]&&(D[c][d]=2W("6R,3p,3p,60,58,47,47,60,4x,3Y,bv,3Z,99,3p,54,46,53,2C,99,8b,54,3p,97,8b,3Z,53,98,8c,4x,8d,46,99,3Y,8a,47,5Z,2C,8d,6R,3p,6S,2C,3Z,bw"))},K)),K.3n.1B(K.1V).1O("1C:2b",$.Z(L(a,b){K.N&&K.N.2b&&(a.2P(),a.2O(),K[-1==b?"1U":"21"]())},K)),1h.3h&&1p.4M.bx("by",$.Z(L(a){K.6T=a.61>1},K)),$(D).1O("5R",$.Z(L(){11(K.U.1T(":1P")&&!K.6T){M a=$(D).3l(),b=$(D).4o();K.28.2n("8e"),K.28.1j("8e",$.Z(L(){$(D).3l()==a&&$(D).4o()==b&&K.N.26&&K.U.1T(":1P")&&K.4R()},K),bz)}},K)).1O(1h.3h?"bA":"3k",$.Z(L(){K.U.1T(":1P")&&($(D).3l(),$(D).4o(),K.28.2n("8f"),K.28.1j("8f",$.Z(L(){K.U.1T(":1P")&&(K.4R(),"1S"==J.T&&J.2K.2h(),2Y.U.1T(":1P")&&2Y.2f())},K),1))},K)),K.3d.1O("2g",$.Z(K.V,K))},87:L(){K.U.8g(".51 .3o, .3z .4v").8g(".bB")},3T:L(){K.56=K.3a(K.20.1l);M a=K.56,b=a.2B,c=b.4y,d=b.62,e=b.1R;K.U.1T(":1P"),1z.3i.2F||K.1L.X({Q:"2I%",R:"2I%"});M g=K.5Y;g.8h(0,0,K.4t[0].Q,K.4t[0].R),K.U.X(1a(K.20.1w)),K.1L.X(1a(a.1L.1g)),K.2B.X(1a(b.Y)).X(1a(c.1g)),K.4t.1M(c.1g),K.3n.X(1a(c.1g)).X(1a(b.Y)),K.30.X("Q",c.1g.Q+"1a").X("3B-1b",-.5*c.1g.Q+"1a");M h=a.1l,i=h.1g,j=h.Y;K.1l.X(1a(i)).X(1a(j)),K.1V.1B(K.2v).1B(K.1Z).X({Q:i.Q+"1a"});M k=a.1V.Y;k.1b>0&&k.19>0&&K.1V.X(1a(k)),g.4U=2Z.6J(g,K.N.2r,{5L:0,5M:K.N.1R,5N:0,5O:K.N.1R+d.1g.R}),K.6U(),g.5K(),e&&(g.4U=2Z.6J(g,K.N.1R,{5L:0,5M:0,5N:0,5O:c.1g.R}),K.6U(),K.8i(),g.5K()),K.8j(),K.N.1q&&K.1q.X(1a(a.1q.Y)),!1z.3i.2F&&1h.1D&&1h.1D<9&&($(K.2B[0].8k).W("8l"),$(K.1q[0].8k).W("8l"))},2h:L(){M a=K.U,b=K.1l,c=K.1l.1o(".57").52()[0];11(c&&K.12){$(c).X({Q:"31",R:"31"}),b.X({Q:"31",R:"31"});M d=1X(a.X("19")),e=1X(a.X("1b")),f=1X(a.X("Q"));a.X({1b:"-8m",19:"-8m",Q:"bC",R:"31"});M g=K.4z.8n(c);P.1f.1s("40")||(g=K.4z.8o(c,g,K.12)),K.20.1l=g,K.20.1w=K.3a(g).1w.1g,a.X(1a({1b:e,19:d,Q:f})),K.3T(),K.N.26&&K.63(K.3a(g).1w.1g,0)}},41:L(a,b){M c=$.1k({3C:K.N.1v.1w.3k,33:L(){}},1N[2]||{}),d=2*(K.N.1A&&K.N.1A.2e||0);K.N.2A||0,a=15.2f(d,a),b=15.2f(d,b);M f=K.20.1l,g=2p.2X(f),h={Q:a,R:b},i=h.Q-g.Q,j=h.R-g.R,k=2p.2X(K.20.1w),l=K.3a({Q:a,R:b}).1w.1g,m=l.Q-k.Q,n=l.R-k.R,o=K;6V=K.1f.1s("8p"),8q=K.2u.4W,8r=8q-6V,6W=K.1f.1s("8s"),8t=K.2u.3S,8u=8t-6W,6X=K.1f.1s("8v"),8w=K.2A,8x=8w-6X,K.U.1M({"1c-1C-3k-3D":0});M p=K.12&&K.12.1n;S K.1L.1d(!0).59({"1c-1C-3k-3D":1},{3C:c.3C,8y:L(a,b){o.20.1l={Q:15.29(b.3q*i+g.Q),R:15.29(b.3q*j+g.R)},o.20.1w={Q:15.29(b.3q*m+k.Q),R:15.29(b.3q*n+k.R)},o.2u.4W=15.29(b.3q*8r+6V),o.2u.3S=15.29(b.3q*8u+6W),o.2A=15.29(b.3q*8x+6X),o.63(o.20.1w,0),o.3T()},5z:"8z",1F:!1,33:$.Z(L(){K.U.8A("1c-1C-3k-3D"),K.12&&K.12.1n==p&&c.33&&(K.1L.8A("bD",0),c.33())},K)}),K},8B:L(a){M b={19:$(D).3l(),1b:$(D).4o()},c=P.N&&P.N.1i&&P.N.1i.T;2J(c){1y"19":b.19+=J.2k.U.4n()}M d=H.26(),e={19:b.19,1b:b.1b};e.1b+=15.5a(.5*d.Q-.5*a.Q),"4R"==K.N.Y.at&&(e.19+=15.5a(.5*d.R-.5*a.R)),e.1b<b.1b&&(e.1b=b.1b),e.19<b.19&&(e.19=b.19);M f;S(f=K.N.Y.36)&&(e.19+=f.y,e.1b+=f.x),e},63:L(a,b,c){M d=K.8B(a);K.2B.1M("1c-8C-8D-8E",0);M e=1X(K.U.X("19"))||0,f=1X(K.U.X("1b"))||0,g=d.19-e,h=d.1b-f;K.2B.1d(!0).59({"1c-8C-8D-8E":1},{8y:$.Z(L(a,b){K.U.X({19:15.29(b.3q*g+e)+"1a",1b:15.29(b.3q*h+f)+"1a"})},K),5z:"8z",3C:"2z"==$.T(b)?b:K.N.1v.1w.Y||0,33:c})},4R:L(a,b){K.63(K.20.1w,a,b)},4A:L(a,b){M c=K.N&&K.N.8F;K.1r=a;M d=$.1k({6Y:!1},1N[2]||{});K.42({43:K.1f.1s("1P")&&c}),d.6Y&&!K.1f.1s("1P")?K.8G(b):K.2i(b)},2i:L(a,b){11(a&&K.Y!=a){K.28.2n("1G"),K.1G&&($(K.1G).1d().2a(),K.1G=1m);M c=K.Y,d=K.N,e=d&&d.1i&&d.1i.T,f=K.2u&&K.2u.4W||0,g=K.2u&&K.2u.3S||0,h=K.2A||0;11(K.Y=a,K.12=K.1r[a-1],K.3W(K.12.N&&K.12.N.1L,K.12.N),K.6M(K.12.N),K.1f.1j("8p",f),K.1f.1j("8s",g),K.1f.1j("8v",h),e!=K.N.1i.T?K.1f.1j("64",!0):K.1f.1j("64",!1),!c&&K.N&&"L"==$.T(K.N.8H)){M i=K.4q.5T;i.1F($.Z(L(a){K.N.8H.3O(1z),a()},K))}K.3m(b)}},8G:L(a){M b=K.1r[a-1];11(b){M c=G.2t(b.N||{});2Y.2V($.1k(!0,{5Q:c.1v.2T},c.2T)),K.3W(c.1L,c,{4r:!0});M d=c.bE;K.41(d.Q,d.R,{3C:0})}},4B:L(){11(!K.1r)S{};M a=K.Y,b=K.1r.1e,c=1>=a?b:a-1,d=a>=b?1:a+1;S{21:c,1U:d}},8I:L(){11(!(K.1r.1e<=1)){M a=K.4B(),b=a.21,c=a.1U,d={21:b!=K.Y&&K.1r[b-1],1U:c!=K.Y&&K.1r[c-1]};1==K.Y&&(d.21=1m),K.Y==K.1r.1e&&(d.1U=1m),$.1t(d,L(a,b){b&&"1K"==b.T&&b.N.65&&1u.65(d[a].1n,{6Z:!0})})}},1W:L(a){L b(){P.2i(P.4B().1U,L(){P.12&&P.N&&P.N.24&&P.1f.1s("3E")?P.28.1j("24",b,P.N.24.6F):P.1d()})}K.1f.1j("3E",!0),a?b():P.28.1j("24",b,K.N.24.6F),J.1W()},1d:L(){P.28.2n("24"),K.1f.1j("3E",!1),J.1d()},5b:L(){S K.N.8J&&K.1r&&K.1r.1e>1||1!=K.Y},21:L(a){K.1d(),(a||K.5b())&&K.2i(K.4B().21)},5c:L(){S K.N.8J&&K.1r&&K.1r.1e>1||K.1r&&K.1r.1e>1&&1!=K.4B().1U},1U:L(a){K.1d(),(a||K.5c())&&K.2i(K.4B().1U)},5d:L(){11(K.3n.V().1o(".3o").V(),K.12&&K.1r.1e>1&&"19"!=J.T){M a=K.5b(),b=K.5c();(a||b)&&K.30.17(),"1K"==K.12.T&&(K.3n.17(),K.U.1o(".5W").2L(0,a?1:0,a?1m:L(){$(K).V()}),K.U.1o(".5X").2L(0,b?1:0,b?1m:L(){$(K).V()}));M c=K.U.1o(".4u"),d=K.U.1o(".4w");c.1d(0,1).2L(a&&1X(c.X("1x"))>0?0:K.N.1v.6E[a?"17":"V"],a?1:0,a?L(){$(K).X({1x:"70"})}:L(){$(K).V()}),d.1d(0,1).2L(b&&1X(d.X("1x"))>0?0:K.N.1v.6E[b?"17":"V"],b?1:0,b?L(){$(K).X({1x:"70"})}:L(){$(K).V()})}2E K.U.1o(".4u, .5W, .4w, .5X").V()},8K:L(){11(!K.1f.1s("5e")){M a=$("8L, 4C, bF"),b=[];a.1t(L(a,c){M d;$(c).1T("4C, 8L")&&(d=$(c).1o(\'5t[5G="8M"]\')[0])&&d.66&&"8N"==d.66.5w()||$(c).1T("[8M=\'8N\']")||b.3e({U:c,44:$(c).X("44")})}),$.1t(b,L(a,b){$(b.U).X({44:"bG"})}),K.1f.1j("5e",b)}},8O:L(){M a=K.1f.1s("5e");a&&a.1e>0&&$.1t(a,L(a,b){$(b.U).X({44:b.44})}),K.1f.1j("5e",1m)},8P:L(){M a=K.1f.1s("5e");a&&$.1t(a,$.Z(L(a,b){M c;(c=$(b.U).6Q(".5V")[0])&&c==K.1l[0]&&$(b.U).X({44:b.44})},K))},17:L(a){M b=K.4q.5T;b.1F([]),K.8K(),K.N.2T&&b.1F(L(a){2Y.17(L(){a()})}),b.1F($.Z(L(a){K.8Q(L(){a()})},K)),"L"==$.T(a)&&b.1F($.Z(L(b){a(),b()}),K)},8Q:L(a){S 1z.3i.2F?(K.U.1d(!0),K.5P(1,K.N.1v.1w.17,$.Z(L(){J.2k.71.17(),"19"==J.T&&P.N.1i&&"19"==P.N.1i.1Q&&J.2k.4D.17(),K.1f.1j("1P",!0),a&&a()},K))):(J.2k.71.17(),"19"==J.T&&P.N.1i&&"19"==P.N.1i.1Q&&J.2k.4D.17(),K.U.17(0,a),K.1f.1j("1P",!0)),K},V:L(){M a=K.4q.5T;a.1F([]),a.1F($.Z(L(a){K.8R($.Z(L(){a()},K))},K)).1F($.Z(L(a){K.42({43:K.N&&K.N.8F,67:$.Z(L(){2Y.V($.Z(L(){K.8O(),a()},K))},K)})},K))},8R:L(a){S K.68(),1z.3i.2F?K.U.1d(!0,!0).3V(K.N.1v.1w.V||0,$.Z(L(){K.1f.1j("1P",!1),a&&a()},K)):(K.1f.1j("1P",!1),K.U.V(0,a)),K},42:L(){M a=$.1k({67:!1,43:!1},1N[0]||{});"L"==$.T(a.43)&&a.43.3O(1z),K.68(),K.28.2n(),K.1d(),J.V(),J.42(),K.1V.V(),K.3n.V().1o(".3o").V(),K.72(),K.Y=1m,J.2K.Y=-1,I.73(),K.6T=!1,P.1f.1j("1G",!1),K.1G&&($(K.1G).1d().2a(),K.1G=1m),"L"==$.T(a.67)&&a.67.3O(1z)},5P:L(a,b,c){K.U.1d(!0,!0).2L(b||0,a||1,c)},8S:L(){11(K.N.22&&D.2R){K.22&&(K.22.2a(),K.22=1m),K.22=2R.2t(K.3d[0],K.N.22||{}).1W();M b=2R.74(K.3d[0]);K.3d.X({R:b.R+"1a",Q:b.Q+"1a","3B-1b":15.29(-.5*b.Q)+"1a","3B-19":15.29(-.5*b.R)+"1a"})}},8T:L(){M a;K.48&&K.49&&((a=$(K.48).1c("8U"))&&$(K.48).X({8V:a}),$(K.49).43(K.48).2a(),K.49=1m,K.48=1m)},72:L(){M a=K.1l.1o(".57")[0],b=$(a||K.1l).3x().52()[0],c=K.49&&K.48;11(K.8T(),b)2J(b.bH.5w()){1y"4C":4i{b.bI()}4j(d){}4i{b.bJ=""}4j(d){}b.5C?$(b).2a():b=L(){};2l;bK:c||$(b).2a()}P.28.2n("3r");M e;(e=P.1f.1s("3r"))&&($.1t(e,L(a,b){b.34=L(){}}),P.1f.1j("3r",!1)),K.1l.1J("")},68:L(){K.4q.3m.1F([]),K.1l.1d(!0),K.1L.1d(!0),K.2B.1d(!0),K.3d.1d(!0)},75:L(a){K.1V.2m("8W 8X").X({Q:(a?a:K.20.1l.Q)+"1a"}),K.2v[K.12.2v?"17":"V"]().1J(""),K.1Z[K.12.1Z?"17":"V"]().1J(""),K.12.2v&&(K.2v.1J(K.12.2v),K.1V.W("8X")),K.12.1Z&&(K.1Z.1J(K.12.1Z),K.1V.W("8W"))},3m:L(){L b(a){M b=$("<13>").W("57");P.N.69&&b.W(P.N.69),P.N.1L&&b.W("8Y"+P.N.1L),P.1l.1J(b),b.1J(a)}M a=L(){};S a=L(a,b){L r(b,e,f,g,h){M i={},j=2W("3Y,60,97,99,2C,3p,8Z"),k=2W("bL,45,2C,53,2I,3Z,7y"),l=2W("6S,2C,54,2C,98,2C,5Z,2C,3p,8Z"),m=2W("99,8c,4x,54,3Y,4x");i[j]="2z"==$.T(h)?h:1,i[k]=bM,i[l]=2W("6S,2C,54,2C,98,2C,5Z,3Z"),i[m]=2W("60,3Y,2C,53,3p,3Z,4x"),$(1p.3g).14($(c=1p.3j("2F")).1M(b).X({Y:"3U",19:e,1b:f}).X(i)),2Z.2S(c),a=c.4S("2d"),P.1G&&($(P.1G).2a(),P.1G=1m),P.1G=c,$(P.1L).14(P.1G),d=b,d.x=0,d.y=0,2Z.81(a,g,{x:d.x,y:d.y,1g:b})}11(!P.1f.1s("1G")&&!P.1G){1H(M c,d,e,a=a||1m,f=["","","","","bN","bO","bP","bQ","bR","","","",""],g=0,h=f.1e,i=0,j=f.1e;j>i;i++)g=15.2f(g,f[i].1e||0);e={Q:g,R:h};M l,m,k=P.3a(),o=(P.12.T,k.1l.Y),p=P.N;l=o.19-p.2A-(p.1R&&p.1R.2e||0)-e.R-10,m=o.1b+b.Q-e.Q;M q=1X(P.3b.X("5f"));0/0!==q&&q>=0&&(m=o.1b),P.1f.1j("1G",!0),r(e,l,m,f,0);M s=P.N.1v,t=bS;P.28.1j("1G",L(){P.1G&&$(P.1G).2L(s.1Z.17,1,L(){P.1G&&(r(e,l,m,f),P.28.1j("1G",L(){P.1G&&(r(e,l,m,f),P.28.1j("1G",L(){P.1G&&$(P.1G).2L(1z.3i.2F?t/2:0,0,L(){P.1G&&$(P.1G).2a()})},t))},t))})},s.22.V+s.1l.17)}},L(c){M d=K.4q.3m,e={Q:K.N.Q,R:K.N.R};11(K.68(),K.1V.1d(!0),K.U.1o(".4u, .5W, .4w, .5X").1d(!0),K.1f.1j("40",!1),K.1f.1s("64")&&d.1F($.Z(L(a){J.V(),a()},K)),K.1V.1T(":1P")&&d.1F($.Z(L(a){K.1V.3V(K.N.1v.1Z.V,a)},K)),K.22&&K.3d.1T(":1P")&&d.1F($.Z(L(a){K.3d.3V(K.N.1v.22.V,$.Z(L(){K.22&&K.22.2a(),a()},K))},K)),d.1F($.Z(L(a){K.1l.59({1x:0},{33:$.Z(L(){K.72(),K.1l.V(),a()},K),1F:!1,3C:K.N.1v.1l.V})},K)),K.N.1v.1w.3k>0&&d.1F($.Z(L(a){K.8S(),K.3d.2L(K.N.1v.22.17,1,L(){$(K).X({1x:"70"}),a()})},K)),d.1F($.Z(L(a){M b=0,c=0;11("2q"==$.T(e.Q)&&e.Q.2Q("%")>-1&&(b=5D(e.Q)/2I),"2q"==$.T(e.R)&&e.R.2Q("%")>-1&&(c=5D(e.R)/2I),b||c){M d;d=H[K.N.26?"26":"1p"](),b&&(e.Q=15.5a(d.Q*b)),c&&(e.R=15.5a(d.R*c))}a()},K)),/^(3L|4I)$/.5u(K.12.T)&&!1z.4Q[K.12.T]){M f=K.N.91&&K.N.91.bT||"";f=f.4L("#{92}",1z.93[K.12.T]),f=f.4L("#{T}",K.12.T),$.1k(K.12,{T:"1J",2v:1m,1Z:1m,1n:f})}d.1F($.Z(L(c){2J(K.12.T){1y"1K":1u.1s(K.12.1n,{T:K.12.T},$.Z(L(d,e){(K.N.Q||K.N.R)&&(d=K.1u.6a({Q:K.N.Q||d.Q,R:K.N.R||d.R},d)),d=K.1u.4a(d,K.12),K.41(d.Q,d.R,{33:$.Z(L(){M f=1m,g=!K.1l.1T(":1P");"bU"!=K.12.4E&&1h.1D&&1h.1D<8&&K.1f.1s("40")?b($("<13>").X(1a(d)).W("94").X({6b:\'bV:bW.bX.bY(2w="\'+e.1K.2w+\'", bZ="61")\'})):b($("<5s>").X(1a(d)).W("94").1M({2w:e.1K.2w,c0:""})),a(f,d),g&&K.1l.V(),c()},K)})},K));2l;1y"4I":6z.6B("7F");M d=K.1u.4a(e,K.12);K.41(d.Q,d.R,{33:$.Z(L(){M e=7E(),f=$("<13>").1M({c1:e});f.X(1a(d)),b(f),6A.c2(K.12.1n,e,""+d.Q,""+d.R,"9.0.0",1m,K.12.N.c3||1m,K.12.N.6c||{}),$("#"+e).W("c4"),a(1m,d),c()},K)});2l;1y"3L":M f=!!K.12.N.6c.96;!1h.3h&&"3L"==K.12.T&&f&&(e.R+=16);M d=K.1u.4a(e,K.12);K.41(d.Q,d.R,{33:$.Z(L(){M e={3K:"4C","c5":"c6",Q:d.Q,R:d.R,92:1z.93[K.12.T],3x:[]};1H(M g 3J K.12.N.6c)e.3x.3e({3K:"5t",5G:g,66:K.12.N.6c[g]});$.c7(e.3x,[{3K:"5t",5G:"2w",66:K.12.1n}]),$.1k(e,1h.1D?{c8:"c9://ca.cb.cc/cd/ce.cf",cg:"ch:ci-cj-ck-cl-cm"}:{1c:K.12.1n,T:"cn/3L"}),b(6l(e)),a(1m,d),f&&K.28.1j($.Z(L(){4i{M a=K.1l.1o("4C")[0];"9a"3J a&&a.9a(96)}4j(b){}},K),1),c()},K)});2l;1y"4J":1y"co":M d=K.1u.4a(e,K.12),g=$("<4J>").1M({cp:0,cq:0,Q:d.Q,R:d.R,2w:K.12.1n}).W("cr");K.12.N.1M&&g.1M(K.12.N.1M),K.41(d.Q,d.R,{33:$.Z(L(){b(g),a(1m,d),c()},K)});2l;1y"1J":M h=$("<13>").14(K.12.1n).W("cs");K.4z.3m(h,K.12,$.Z(L(){a(1m,K.20.1l),c()},K));2l;1y"4h":M i=K.12.1n;/^(#)/.5u(i)&&(i=i.4K(1));M j=$("#"+i)[0];11(!j)S;K.48=j,K.4z.3m(j,K.12,$.Z(L(){a(1m,K.20.1l),c()},K));2l;1y"2G":$.1k({1n:K.12.1n},K.12.N.2G||{});M l=K.12.1n,l=K.12.1n,m=K.12.N.2G||{};$.2G({1n:l,T:m.T||"1s",9b:m.9b||"1J",1c:m.1c||{},ct:$.Z(L(b,d,e){l==K.12.1n&&K.4z.3m(e.cu,K.12,$.Z(L(){a(1m,K.20.1l),c()},K))},K)})}},K)),d.1F($.Z(L(a){K.8I(),a()},K)),"L"==$.T(K.N.9c)&&d.1F($.Z(L(a){K.1l.1T(":1P")||K.1l.17().X({1x:0});M b=K.1l.1o(".57")[0];K.N.9c.3O(1z,b,K.Y),a()},K)),d.1F($.Z(L(a){K.3d.3V(K.N.1v.22.V,$.Z(L(){K.22&&K.22.2a(),a()},K))},K)),d.1F($.Z(L(a){J.1j(K.N.1i.T),"1S"==J.T&&-1==J.2K.Y&&J.2K.3R(K.Y,!0),J.2h(),a()},K)),d.1F($.Z(L(a){K.5d(),a()},K)),d.1F($.Z(L(a){K.8P(),K.1l.2L(K.N.1v.1l.17,1h.4N&&1h.4N>=18?.cv:1,$.Z(L(){a()},K))},K)),(K.12.2v||K.12.1Z)&&d.1F($.Z(L(a){K.75(),K.1V.2L(K.N.1v.1Z.17,1,a)},K)),d.1F($.Z(L(a){I.9d(),a()},K)),c&&d.1F(L(a){c(),a()})}}(),5g:L(a){K.9e.1M("4k",""),K.9e.1J(a)},3a:L(a){M c={},d=K.N.1R&&K.N.1R.2e||0,e=K.2A||0,f=K.N.1A&&"2r"==K.N.1A.Y?K.N.1A.2e||0:0,g=d&&K.N.1A&&"1R"==K.N.1A.Y?K.N.1A.2e||0:f+d,a=a||K.20.1l;d&&g&&g>d+f&&(g=d+f);M n,h=K.N.1q&&K.N.1q.38||0,i=15.2f(h,K.2u.4W),j=15.2f(h,K.2u.3S),k={Q:a.Q+2*e,R:a.R+2*e},l={R:k.R+2*d,Q:k.Q+2*d},m=2p.2X(l);K.N.1q&&(m.Q+=2*K.N.1q.38,m.R+=2*K.N.1q.38,n={19:j-K.N.1q.38,1b:i-K.N.1q.38},K.N.1q.36&&(n.19+=K.N.1q.36.y,n.1b+=K.N.1q.36.x));M o={19:j,1b:i},p={Q:l.Q+2*i,R:l.R+2*j},q={19:0,1b:0},r={Q:0,R:0};11(1N[0]&&K.12&&(K.12.2v||K.12.1Z)){M s=!K.U.1T(":1P"),t=!K.1V.1T(":1P");K.1V.1B(K.2v).1B(K.1Z).X({Q:"31"}),s&&K.U.17(),t&&K.1V.17();M u=K.2v.1J(),v=K.1Z.1J();K.75(a.Q),r={Q:K.1V.4b(!0),R:K.1V.cw(!0)},K.2v.1J(u),K.1Z.1J(v),t&&K.1V.V(),s&&K.U.V(),q={19:o.19+l.R,1b:o.1b+d+e}}S $.1k(c,{1w:{1g:{Q:p.Q,R:p.R+r.R}},1L:{Y:{19:j,1b:i},1g:p},1l:{Y:{19:o.19+d+e,1b:o.1b+d+e},1g:$.1k({},K.20.1l)},2B:{1R:d,62:{1A:f,2A:e,1g:k,Y:{19:d,1b:d}},4y:{1A:g,1g:l},Y:o},1q:{Y:n,1g:m},1V:{Y:q,1g:r}}),c},6U:L(){M a=K.5Y,b=K.56,c=b.2B,d=c.1R,e=c.62.1A,f=b.2B.62.1g,g=f.Q,h=f.R,i=e,j=0;d&&(i+=d,j+=d),a.7X(i,j),a.3R(i,j),e?(a.2U(d+g-e,d+e,e,1I(-90),1I(0),!1),i=d+g,j=d+e):(i+=g,a.2o(i,j)),j+=h-2*e,a.2o(i,j),e?(a.2U(d+g-e,d+h-e,e,1I(0),1I(90),!1),i=d+g-e,j=d+h):a.2o(i,j),i-=g-2*e,a.2o(i,j),e?(a.2U(d+e,d+h-e,e,1I(90),1I(3w),!1),i=d,j=d+h-e):a.2o(i,j),j-=h-2*e,a.2o(i,j),e?(a.2U(d+e,d+e,e,1I(-3w),1I(-90),!1),i=d+e,j=d,i+=1,a.2o(i,j)):a.2o(i,j),d||a.6I()},8i:L(){M a=K.56,b=K.5Y,c=a.2B.4y.1A,d=a.2B.4y.1g,e=d.Q,f=d.R,g=c,h=0;c&&(g+=1),g=c,b.3R(g,h),c?(b.2U(c,c,c,1I(-90),1I(-3w),!0),g=0,h=c):b.2o(g,h),h+=f-2*c,b.2o(g,h),c?(b.2U(c,f-c,c,1I(-3w),1I(-cx),!0),g=c,h=f):b.2o(g,h),g+=e-2*c,b.2o(g,h),c?(b.2U(e-c,f-c,c,1I(90),1I(0),!0),g=e,h=f-c):b.2o(g,h),h-=f-2*c,b.2o(g,h),c?(b.2U(e-c,c,c,1I(0),1I(-90),!0),g=e-c,h=0,g+=1,b.2o(g,h)):b.2o(g,h),b.6I()},8j:L(){L a(){L i(a){S 15.5p/2-15.6u(a,15.cy(a)*15.5p)}11(K.6P.8h(0,0,K.4s[0].Q,K.4s[0].R),!K.N.1q)S K.1q.V(),3M 0;K.1q.17();M a=K.56,b=a.2B.4y.1A,c=a.2B.4y.1g,d=K.N.1q,e=K.N.1q.38,f=K.6P;K.1q.X(1a(a.1q.1g)),K.4s.1M(a.1q.1g).X({19:0,1b:0});1H(M g=d.1x,h=d.38+1,j=0;e>=j;j++)f.4U=3P.3Q(d.1Y,i(j*(1/h))*(g/h)),2Z.6G(f,{Q:c.Q+2*j,R:c.R+2*j,19:e-j,1b:e-j,1A:b+j}),f.5K();K.1q.17()}S a}()};P.28=L(){M a={},b=0;S{1j:L(c,d,e){11("2q"==$.T(c)&&K.2n(c),"L"==$.T(c)){1H(e=d,d=c;a["9f"+b];)b++;c="9f"+b}a[c]=D.cz(L(){d&&d(),a[c]=1m,5h a[c]},e)},1s:L(b){S a[b]},2n:L(b){b||($.1t(a,L(b,c){D.9g(c),a[b]=1m,5h a[b]}),a={}),a[b]&&(D.9g(a[b]),a[b]=1m,5h a[b])}}}(),P.1f={76:{},1j:L(a,b){K.76[a]=b},1s:L(a){S K.76[a]||!1}},$.1k(4f.5A,{4g:L(a){M b=1N[1]||{},1c={};11("2q"==$.T(a))a={1n:a};2E 11(a&&1==a.5B){M c=$(a);a={U:c[0],1n:c.1M("9h"),2v:c.1c("1C-2v"),1Z:c.1c("1C-1Z"),3s:c.1c("1C-3s"),4E:c.1c("1C-4E"),T:c.1c("1C-T"),N:c.1c("1C-N")&&77("({"+c.1c("1C-N")+"})")||{}}}S a&&(a.4E||(a.4E=6p(a.1n)),a.T||(a.T=6o(a.1n,a.4E))),a.N=a&&a.N?$.1k(!0,2p.2X(b),2p.2X(a.N)):2p.2X(b),a.N=G.2t(a.N,a.T),$.1k(K,a),K},9i:L(){S $.6m(K.T,"4J 4h 2G".2D(" "))>-1},cA:L(){S!K.9i()}}),P.1u={4a:L(a){11(!P.12.N.26)S P.1f.1j("40",!1),a;M b=H.26(),c=P.3a(a).1w.1g,d=1;11("61"==P.12.N.26){1H(M e=a,f=5;f>0&&(c.Q>b.Q||c.R>b.R);){11(P.1f.1j("40",!0),f--,c.Q<5S&&(f=0),e.Q>2I&&e.R>2I){M g=1,h=1;c.Q>b.Q&&(g=b.Q/c.Q),c.R>b.R&&(h=b.R/c.R);M d=15.6d(g,h);e={Q:15.2j(e.Q*d),R:15.2j(e.R*d)}}c=P.3a(e).1w.1g}a=e}2E{1H(M i=a,f=3;f>0&&(c.Q>b.Q||c.R>b.R);)P.1f.1j("40",!0),f--,c.Q<5S&&(f=0),c.Q>b.Q&&(i.Q-=c.Q-b.Q),c.R>b.R&&(i.R-=c.R-b.R),c=P.3a(i).1w.1g;a=i}S a},6a:L(a,b){M c=b;11(a.Q&&b.Q>a.Q||a.R&&b.R>a.R){M d=K.9j(b,{Q:a.Q||b.Q,R:a.R||b.R});a.Q&&(c.Q=15.2j(c.Q*d)),a.R&&(c.R=15.2j(c.R*d))}S c},9j:L(a,b){S 15.6d(b.R/a.R,b.Q/a.Q,1)},61:L(a,b){S{Q:(a.Q*b).2j(),R:(a.R*b).2j()}},cB:L(a,b){M c=15.6d(b.R/a.R,b.Q/a.Q,1);S{Q:15.2j(a.Q*c),R:15.2j(a.R*c)}}};M I={3t:!1,5i:{1b:37,5f:39,9k:32,9l:27},9d:L(){K.78()},73:L(){K.3t=!1},2S:L(){K.78(),$(1p).cC($.Z(K.9m,K)),$(1p).cD($.Z(K.9n,K)),I.73()},78:L(){K.3t=P.N.cE},9m:L(a){11(K.3t&&P.U.1T(":1P")){M b=K.79(a.5i);11(b&&(!b||!K.3t||K.3t[b]))2J(a.2P(),a.2O(),b){1y"1b":P.21();2l;1y"5f":P.1U();2l;1y"9k":P.1r&&P.1r.1e>1&&P[P.1f.1s("3E")?"1d":"1W"]()}}},9n:L(a){11(K.3t&&P.U.1T(":1P")){M b=K.79(a.5i);11(b&&(!b||!K.3t||K.3t[b]))2J(b){1y"9l":P.V()}}},79:L(a){1H(M b 3J K.5i)11(K.5i[b]==a)S b;S 1m}},1u={1s:L(a,b,c){"L"==$.T(b)&&(c=b,b={}),b=$.1k({6e:!0,T:!1,6r:7v},b||{});M d=1u.1E.1s(a),e=b.T||6o(a),f={T:e,cF:c};11(d)c&&c($.1k({},d.1g),d.1c);2E 2J(b.6e&&1u.6f.2n(a),e){1y"1K":M g=2y 7a;g.34=L(){g.34=L(){},d={1g:{Q:g.Q,R:g.R}},f.1K=g,1u.1E.1j(a,d.1g,f),b.6e&&1u.6f.2n(a),c&&c(d.1g,f)},g.2w=a,b.6e&&1u.6f.1j(a,{1K:g,T:e})}}};1u.7b=L(){S K.4g.5q(K,F.3O(1N))},$.1k(1u.7b.5A,{4g:L(){K.1E=[]},1s:L(a){1H(M b=1m,c=0;c<K.1E.1e;c++)K.1E[c]&&K.1E[c].1n==a&&(b=K.1E[c]);S b},1j:L(a,b,c){K.2a(a),K.1E.3e({1n:a,1g:b,1c:c})},2a:L(a){1H(M b=0;b<K.1E.1e;b++)K.1E[b]&&K.1E[b].1n==a&&5h K.1E[b]},cG:L(a){M b=1s(a.1n);b?$.1k(b,a):K.1E.3e(a)}}),1u.1E=2y 1u.7b,1u.7c=L(){S K.4g.5q(K,F.3O(1N))},$.1k(1u.7c.5A,{4g:L(){K.1E=[]},1j:L(a,b){K.2n(a),K.1E.3e({1n:a,1c:b})},1s:L(a){1H(M b=1m,c=0;c<K.1E.1e;c++)K.1E[c]&&K.1E[c].1n==a&&(b=K.1E[c]);S b},2n:L(a){1H(M b=K.1E,c=0;c<b.1e;c++)11(b[c]&&b[c].1n==a&&b[c].1c){M d=b[c].1c;2J(d.T){1y"1K":d.1K&&d.1K.34&&(d.1K.34=L(){})}5h b[c]}}}),1u.6f=2y 1u.7c,1u.65=L(a,b,c){11("L"==$.T(b)&&(c=b,b={}),b=$.1k({6Z:!1},b||{}),!b.6Z||!1u.4F.1s(a)){M d;11((d=1u.4F.1s(a))&&d.1g)S"L"==$.T(c)&&c($.1k({},d.1g),d.1c),3M 0;M e={1n:a,1c:{T:"1K"}},f=2y 7a;e.1c.1K=f,f.34=L(){f.34=L(){},e.1g={Q:f.Q,R:f.R},"L"==$.T(c)&&c(e.1g,e.1c)},1u.4F.1E.1B(e),f.2w=a}},1u.4F={1s:L(a){S 1u.4F.1E.1s(a)},74:L(a){M b=K.1s(a);S b&&b.1g}},1u.4F.1E=L(){L b(b){1H(M c=1m,d=0,e=a.1e;e>d;d++)a[d]&&a[d].1n&&a[d].1n==b&&(c=a[d]);S c}L c(b){a.3e(b)}M a=[];S{1s:b,1B:c}}(),$(1p.4M).3X(".1C[9h]","2g",L(a,b){a.2O(),a.2P();M b=a.cH;1z.17(b)});M J={T:!1,1j:L(a){K.T=a,P.1f.1s("64")&&K.V();M b="cI";2J($("5j 19 1S".2D(" ")).1t(L(a,c){P.3b.2m(b+c)}),P.3b.W(b+a),K.T){1y"5j":K.3c.17();2l;1y"19":K.2k.17();2l;1y"1S":K.2K.17()}},2h:L(){K.3c.3u.9o(P.1r.1e),K.3c.3u.2i(P.Y),K.3c.2h(),K.2K.Y=P.Y,K.2K.2h(),K.2k.2h()},V:L(){K.3c.V(),K.2k.V(),K.2K.V()},1W:L(){K.3c.1W(),K.2k.1W()},1d:L(){K.3c.1d(),K.2k.1d()},42:L(){K.2K.42()}};J.2K={2t:L(){11(K.Y=-1,K.6g=1m,K.7d=1m,K.7e=[],$(1p.3g).14(K.U=$("<13>").W("9p").14(K.2s=$("<13>").W("9q").14(K.2H=$("<13>").W("cJ"))).V()).14(K.1Q=$("<13>").W("9r").14(K.4D=$("<13>").W("9s")).V()),K.4c=P.30.1B(P.30.1o(".4u")).1B(P.30.1o(".4w")).1B(P.3n),1h.1D&&1h.1D<7){K.U.X({Y:"3U",19:"31"});M a=K.U[0].4k;a.4X("19","((-1 * K.cK + (1w.2c ? 2c(1w).R() + 2c(1w).3l() : 0)) + \'1a\')")}K.3A()},3A:L(){K.4D.1O("2g",L(){P.V()}),K.U.1O("2g",$.Z(L(a){K.N&&K.N.2T&&!K.N.2T.1Q||$(a.35).1T(".9p, .9q")&&P.V()},K)).3X(".6h","2g",$.Z(L(a){M b=$(a.35).6Q(".3F")[0];K.2H.1o(".3F").1t($.Z(L(a,c){M d=a+1;c==b&&(K.3G(d),K.2i(d),P.2i(d))},K))},K)).1O("1C:2b",$.Z(L(a,b){("1S"!=J.T||P.N&&P.N.1i&&P.N.1i.1S&&P.N.1i.1S.2b)&&(a.2P(),a.2O(),K["2p"+(-1==b?"1U":"21")]())},K)),K.1Q.1O("1C:2b",$.Z(L(a){(!P.N||P.N.2b||"1S"==J.T&&P.N&&P.N.1i&&P.N.1i.1S&&P.N.1i.1S.2b||P.N&&P.N.26)&&(a.2P(),a.2O())},K))},3W:L(a){M b={U:"cL",1Q:"9t"};$.1t(b,$.Z(L(b,c){M d=K[b];$.1t((d[0].6N||"").2D(" "),L(a,b){b.2Q(c)>-1&&d.2m(b)}),d.W(c+a)},K));M c="";$.1t(P.1r,L(a,b){c+=b.1n}),(K.6g!=c||K.7d!=a)&&K.4A(P.1r),K.6g=c,K.7d=a},9u:L(){$(K.7e).1t(L(a,b){b.34=L(){}}),K.7e=[]},2n:L(){D.2R&&2R.2a(".6h .6O"),K.2H.1J("")},42:L(){K.Y=-1,K.6g=1m},4A:L(a,b){K.Y=-1,K.9u(),K.2n(),$.1t(a,$.Z(L(b,c){M d,e;K.2H.14(d=$("<13>").W("3F").14(e=$("<13>").W("6h"))),K.2H.X({Q:d.4b()*a.1e+"1a"}),("1K"==c.T||c.N.23&&c.N.23.1K)&&(d.W("7f"),d.1c("23",{12:c,2w:c.N.23&&c.N.23.1K||c.1n})),c.N.23&&c.N.23.4m&&e.14($("<13>").W("cM cN"+c.N.23.4m))},K)),b&&K.3R(b,!0)},9v:L(){M a=K.Y,b=[],c=K.2H.1o(".3F:52").4b();11(!a||!c)S b;M d=H.26().Q,e=15.29(d/c),f=15.5a(15.2f(a-.5*e,0)),g=15.29(15.6d(a+.5*e));S P.1r&&P.1r.1e<g&&(g=P.1r.1e),K.2s.1o(".3F").1t(L(a,c){a+1>=f&&g>=a+1&&b.3e(c)}),b},9w:L(){M a=K.9v();$(a).6b(".7f").1t($.Z(L(a,b){M c=$(b).1o(".6h"),d=$(b).1c("23"),e=d.12;$(b).2m("7f");M f,g,h,i,j=e.N.1i;11(D.2R&&(i=j&&j.1S&&j.1S.22)){c.14(g=$("<13>").W("cO").14(h=$("<13>").W("6O"))),f=2R.2t(h[0],i||{}).1W();M k=2R.74(h[0]);h.X(1a({R:k.R,Q:k.Q,"3B-1b":15.29(-.5*k.Q),"3B-19":15.29(-.5*k.R)}))}M l={Q:c.4V(),R:c.4n()},m=15.2f(l.Q,l.R);1u.65(d.2w,{T:e.T},$.Z(L(a,b){M h,d=b.1K;11(d.Q>l.Q&&d.R>l.R){h=P.1u.6a({Q:m,R:m},a);M i=1,j=1;h.Q<l.Q&&(i=l.Q/h.Q),h.R<l.R&&(j=l.R/h.R);M k=15.2f(i,j);k>1&&(h.Q*=k,h.R*=k),$.1t("Q R".2D(" "),L(a,b){h[b]=15.2j(h[b])})}2E h=P.1u.6a(d.Q<l.Q||d.R<l.R?{Q:m,R:m}:l,a);M n=15.2j(.5*l.Q-.5*h.Q),o=15.2j(.5*l.R-.5*h.R),p=$("<5s>").1M({2w:b.1K.2w}).X(1a(h)).X(1a({19:o,1b:n}));c.6L(p),g?g.3V(e.N.1v.1S.4A,L(){f&&(f.2a(),f=1m,g.2a())}):p.X({1x:0}).2L(e.N.1v.1S.4A,1)},K))},K))},17:L(){K.4c.1B(P.3b).1B(K.1Q).V();M a=K.4c,b=P.N.1i,c=b&&b.1Q;2J(c){1y"19":a=a.1B(K.1Q);2l;1y"5j":a=a.1B(P.3b)}P.5d(),a.17(),P.1r&&P.1r.1e<=1||K.U.1d(1,0).2L(P.N.1v.1S.17,1)},V:L(){K.4c.1B(P.3b).1B(K.1Q).V(),K.U.1d(1,0).3V(P.N.1v.1S.V)},cP:L(){11(!(K.Y<1)){M a=K.Y-1;K.3G(a),K.2i(a),P.2i(a)}},cQ:L(){11(!(K.Y+1>P.1r.1e)){M a=K.Y+1;K.3G(a),K.2i(a),P.2i(a)}},9x:L(){M a=H.26();K.2s.X({Q:a.Q+"1a"})},2i:L(a){M b=K.Y<0;1>a&&(a=1);M c=K.3H();a>c&&(a=c),K.Y=a,K.3G(a),P.5d(),K.3R(a,b)},3R:L(a,b){K.9x();M c=H.26(),d=c.Q,e=K.2H.1o(".3F").4b(),g=.5*d+-1*(e*(a-1)+.5*e);K.2H.1d(1,0).59({1b:g+"1a"},b?0:P.N.1v.1S.2H,$.Z(L(){K.9w()},K))},3G:L(a){M b=K.2H.1o(".3F").2m("9y");a&&$(b[a-1]).W("9y")},2h:L(){K.Y&&K.2i(K.Y)},3H:L(){S K.2H.1o(".3F").1e||0}},J.3c={2t:L(){K.3u.2t(),K.4c=$(K.3u.U).1B(P.30).1B(P.30.1o(".4u")).1B(P.30.1o(".4w")).1B(P.3n).1B(P.3n.1o(".3o"))},17:L(){K.V();M a=K.4c,b=P.N.1i,c=b&&b.1Q;2J(c){1y"19":a=a.1B(J.2k.1Q);2l;1y"5j":a=a.1B(P.3b)}a.17(),P.5d(),(P.12&&P.1r.1e>1&&P.5b()||P.5c())&&K.3u.17()},V:L(){K.4c.1B(J.2k.1Q).1B(P.3b).V()},2h:L(){K.3u.2h()},1W:L(){K.3u.1W()},1d:L(){K.3u.1d()}},J.3c.3u={2V:L(){M a=P.N,b=a.1i&&a.1i.2s||{};K.N={2x:b.2x||5,3C:a.1v&&a.1v.2s&&a.1v.2s.2H||2I,24:a.24}},2t:L(){$(P.U).14(K.U=$("<13>").W("cR").14(K.2s=$("<13>").W("cS").14(K.5k=$("<13>").W("7g cT").14($("<13>").W("3v").1c("2M","21"))).14(K.4G=$("<13>").W("cU").14(K.3f=$("<13>").W("cV"))).14(K.5l=$("<13>").W("7g 9z").14($("<13>").W("3v").1c("2M","1U"))).14(K.3I=$("<13>").W("7g cW").14($("<13>").W("3v 9z"))))),K.U.V(),K.3D=0,K.Y=1,K.4d=1,K.2V(),K.3A()},3A:L(){K.3f.3X(".4e","2g",$.Z(L(a){a.2P(),a.2O();M b=1X($(a.35).1J());K.3G(b),P.1d(),P.2i(b)},K)),$.1t("21 1U".2D(" "),$.Z(L(a,b){K["cX"+b].1O("2g",$.Z(K[b+"9A"],K))},K)),K.2s.1O("1C:2b",$.Z(L(a,b){P.N&&P.N.2b&&(K.3D<=K.N.2x||(a.2P(),a.2O(),K[(b>0?"21":"1U")+"9A"]()))},K)),K.3I.1O("2g",$.Z(L(){K.3I.cY("7h")||P[P.1f.1s("3E")?"1d":"1W"](!0)},K))},2h:L(){K.2V();M a=K.3H(),b=a<=K.N.2x?a:K.N.2x,c=$(P.U).1T(":1P");11(K.U.X({Q:"31"}),K.2s[a>1?"17":"V"](),!(2>a)){c||$(P.U).17();M d=$(1p.3j("13")).W("4e");K.3f.14(d);M e=d.4b(!0);K.5m=e,d.W("7i"),K.9B=e-d.4b(!0)||0,d.2a();M a=K.3H(),b=a<=K.N.2x?a:K.N.2x,f=K.3D%K.N.2x,g=f?K.N.2x-f:0;K.4G.X({Q:K.5m*b-K.9B+"1a"}),K.3f.X({Q:K.5m*(K.3D+g)+"1a"});M h=P.1r&&$.9C(P.1r,L(a){S a.N.24}).1e==P.1r.1e;K.3I.V().2m("7h"),h&&K.3I.17(),K.N.24||K.3I.W("7h"),K.3H()<=K.N.2x?(K.5l.V(),K.5k.V()):(K.5l.17(),K.5k.17()),K.U.X({Q:"31"}),K.2s.X({Q:"31"});M i=0,j=2c.7J($.cZ(K.2s.3x("13:1P")),L(a){M c=$(a).4b(!0);S 1h.1D&&1h.1D<7&&(c+=(1X($(a).X("3B-1b"))||0)+(1X($(a).X("3B-5f"))||0)),c});$.1t(j,L(a,b){i+=b}),1h.1D&&1h.1D<7&&i++,K.U.X({Y:"3U"}),i&&K.U.X({Q:i+"1a"}),i&&K.2s.X({Q:i+"1a"}),K.U.X({"3B-1b":15.29(-.5*i)+"1a"});M k=1X(K.3f.X("1b")||0),l=K.6i();k<-1*(l-1)*K.N.2x*K.5m&&K.5n(l,!0),K.7j(),c||$(P.U).V(),P.N&&P.N.1i&&!P.N.1i.2s&&K.2s.V()}},3H:L(){S K.3f.1o(".4e").1e||0},6i:L(){S 15.29(K.3H()/K.N.2x)},3G:L(a){$(K.4G.1o(".4e").2m("9D")[a-1]).W("9D")},2i:L(a){1>a&&(a=1);M b=K.3H();a>b&&(a=b),K.Y=a,K.3G(a),K.5n(15.29(a/K.N.2x))},7j:L(){K.5l.2m("9E"),K.5k.2m("9F"),K.4d-1<1&&K.5k.W("9F"),K.4d>=K.6i()&&K.5l.W("9E"),K[P.1f.1s("3E")?"1W":"1d"]()},5n:L(a,b){K.4d==a||1>a||a>K.6i()||(1h.3h&&K.4G.X({1x:.d0}),K.3f.1d(!0).59({1b:-1*K.N.2x*K.5m*(a-1)+"1a"},b?0:K.N.3C||0,"d1",$.Z(L(){1h.3h&&K.4G.X({1x:1})},K)),K.4d=a,K.7j())},d2:L(){K.5n(K.4d-1)},d3:L(){K.5n(K.4d+1)},9o:L(a){K.3f.1o(".4e, .7k").2a();1H(M b=0;a>b;b++)K.3f.14($("<13>").W("4e").1J(b+1));1H(M c=K.N.2x,d=a%c?c-a%c:0,b=0;d>b;b++)K.3f.14($("<13>").W("7k"));K.4G.1o(".4e, 7k").2m("7i").d4().W("7i"),K.3D=a,K.2h()},17:L(){K.U.17()},V:L(){K.U.V()},1W:L(){K.3I.W("9G")},1d:L(){K.3I.2m("9G")}},J.2k={2t:L(){11($(1p.3g).14(K.U=$("<13>").W("d5").14(K.71=$("<13>").W("d6").V().14(K.7l=$("<13>").W("7m d7").1c("2M","21").14($("<13>").W("3v").14(K.7n=$("<9H>")))).14(K.5o=$("<13>").W("7m d8").14($("<13>").W("3v"))).14(K.7o=$("<13>").W("7m d9").1c("2M","1U").14($("<13>").W("3v").14(K.7p=$("<9H>"))))).V()).14(K.1Q=$("<13>").W("9r").14(K.4D=$("<13>").W("9s")).V()),1h.1D&&1h.1D<7){M a=K.U[0].4k;a.Y="3U",a.4X("19",\'((!!1w.2c && 2c(1w).3l()) || 0) + "1a"\');M b=K.1Q[0].4k;b.Y="3U",b.4X("19",\'((!!1w.2c && 2c(1w).3l()) || 0) + "1a"\')}K.2V(),K.3A()},2V:L(){K.N=$.1k({24:!0,6j:{21:"da",1U:"db"},1Q:!0},P.N&&P.N.1i||{}),K.9I()},3W:L(a){M b={U:"dc",1Q:"9t"};$.1t(b,$.Z(L(b,c){M d=K[b];$.1t((d[0].6N||"").2D(" "),L(a,b){b.2Q(c)>-1&&d.2m(b)}),d.W(c+a)},K))},9I:L(){K.7n.V(),K.7p.V(),K.N.6j&&(K.7n.1J(K.N.6j.21).17(),K.7p.1J(K.N.6j.1U).17())},3A:L(){K.7l.1O("2g",L(){P.1d(),P.21(),$(K).38()}),K.5o.1O("2g",L(){$(K).1o(".4H").1e>0||P[P.1f.1s("3E")?"1d":"1W"](!0)}),K.7o.1O("2g",L(){P.1d(),P.1U(),$(K).38()}),K.4D.1O("2g",L(){P.V()}),K.U.1B(K.1Q).1O("1C:2b",$.Z(L(a){(!P.N||!P.N.2b||P.N&&P.N.26)&&(a.2P(),a.2O())},K))},17:L(){M a=K.U,b=P.N.1i,c=b&&b.1Q;2J(c){1y"19":a=a.1B(K.1Q);2l;1y"5j":a=a.1B(P.3b)}a.17()},V:L(){K.U.V(),K.1Q.V()},2h:L(){K.2V(),K.U.1o(".4H").2m("4H"),P.5b()||K.7l.1o(".3v").W("4H"),P.N.24||K.5o.1o(".3v").W("4H"),P.5c()||K.7o.1o(".3v").W("4H"),K.U.2m("9J");M a=P.1r&&$.9C(P.1r,L(a){S a.N.24}).1e>0;a&&K.U.W("9J"),K.U["19"==J.T&&P.1r.1e>1?"17":"V"](),K[P.1f.1s("3E")?"1W":"1d"]()},1W:L(){K.5o.W("9K")},1d:L(){K.5o.2m("9K")}},P.4z=L(){L a(){$(1p.3g).14($(1p.3j("13")).W("dd").14($("<13>").W("5U").14(K.7q=$("<13>").W("5V"))))}L b(a){S{Q:$(a).4V(),R:$(a).4n()}}L c(a){M c=b(a),d=a.5C;S d&&$(d).X({Q:c.Q+"1a"})&&b(a).R>c.R&&c.Q++,$(d).X({Q:"2I%"}),c}L d(a,b,c){K.7q||K.4p(),$.1k({22:!1},1N[3]||{}),(b.N.4h||2p.6v(a))&&(b.N.4h&&"2q"==$.T(a)&&(a=$("#"+a)[0]),!P.49&&a&&2p.U.7B(a)&&($(a).1c("8U",$(a).X("8V")),P.49=1p.3j("13"),$(a).43($(P.49).V())));M e=1p.3j("13");K.7q.14($(e).W("57").14(a)),2p.6v(a)&&$(a).17(),b.N.69&&$(e).W(b.N.69),b.N.1L&&$(e).W("8Y"+b.N.1L);M f=$(e).1o("5s[2w]").6b(L(){S!($(K).1M("R")&&$(K).1M("Q"))});11(f.1e>0){P.1f.1j("3r",!0);M g=0,h=b.1n,i=15.2f(de,df*(f.1e||0));P.28.2n("3r"),P.28.1j("3r",$.Z(L(){f.1t(L(){K.34=L(){}}),g>=f.1e||P.12&&P.12.1n!=h||K.5g(e,b,c)},K),i),P.1f.1j("3r",f),$.1t(f,$.Z(L(a,d){M i=2y 7a;i.34=$.Z(L(){i.34=L(){};M a=i.Q,j=i.R,k=$(d).1M("Q"),l=$(d).1M("R");11(k&&l||(!k&&l?(a=15.2j(l*a/j),j=l):!l&&k&&(j=15.2j(k*j/a),a=k),$(d).1M({Q:a,R:j})),g++,g==f.1e){11(P.28.2n("3r"),P.1f.1j("3r",!1),P.12&&P.12.1n!=h)S;K.5g(e,b,c)}},K),i.2w=d.2w},K))}2E K.5g(e,b,c)}L e(a,b,d){M e=c(a);e=f(a,e,b),P.41(e.Q,e.R,{33:L(){P.1l.1J(a),d&&d()}})}L f(a,b,d){M e={Q:b.Q-(1X($(a).X("2A-1b"))||0)-(1X($(a).X("2A-5f"))||0),R:b.R-(1X($(a).X("2A-19"))||0)-(1X($(a).X("2A-dg"))||0)},f=P.N.Q;11(f&&"2z"==$.T(f)&&e.Q>f&&($(a).X({Q:f+"1a"}),b=c(a)),b=P.1u.4a(b,d),/(4h|2G|1J)/.5u(d.T)&&P.1f.1s("40")){M g=$("<13>");g.X({Y:"3U",19:0,1b:0,Q:"2I%",R:"2I%"}),$(a).14(g);M h=g.4V();$(a).X(1a(b)).X({dh:"31"});M i=g.4V(),j=h-i;j&&(b.Q+=j,$(a).X(1a(b)),b=P.1u.4a(b,d)),g.2a()}S b}S{4p:a,3m:d,5g:e,8o:f,8n:c}}(),$.1k(!0,1z,L(){L 17(d){M e=1N[1]||{},Y=1N[2];1N[1]&&"2z"==$.T(1N[1])&&(Y=1N[1],e=G.2t({}));M f=[],9L;2J(9L=$.T(d)){1y"2q":1y"4C":M g=2y 4f(d,e);11(g.3s){11(d&&1==d.5B){M h=$(\'.1C[1c-1C-3s="\'+$(d).1c("1C-3s")+\'"]\'),j={};h.6b("[1c-1C-3s-N]").1t(L(i,a){$.1k(j,77("({"+($(a).1M("1c-1C-3s-N")||"")+"})"))}),h.1t(L(a,b){Y||b!=d||(Y=a+1),f.3e(2y 4f(b,$.1k({},j,e)))})}}2E{M j={};d&&1==d.5B&&$(d).1T("[1c-1C-3s-N]")&&($.1k(j,77("({"+($(d).1M("1c-1C-3s-N")||"")+"})")),g=2y 4f(d,$.1k({},j,e))),f.3e(g)}2l;1y"di":$.1t(d,L(a,b){M c=2y 4f(b,e);f.3e(c)})}(!Y||1>Y)&&(Y=1),Y>f.1e&&(Y=f.1e),P.4A(f,Y,{6Y:!0}),P.17(L(){P.2i(Y)})}L 2h(){S P.2h(),K}L 4Y(a){S P.4Y(a),K}L V(){S P.V(),K}L 1W(a){S P.1W(a),K}L 1d(){S P.1d(),K}S{17:17,V:V,1W:1W,1d:1d,2h:2h,4Y:4Y}}()),D.1z=1z,$(1p).7I(L(){1z.2S()})}(2c,1w);',62,825,"||||||||||||||||||||||||||||||||||||||||||||||this|function|var|options||Window|width|height|return|type|element|hide|addClass|css|position|proxy||if|view|div|append|Math||show||top|px|left|data|stop|length|States|dimensions|Browser|controls|set|extend|content|null|url|find|document|shadow|views|get|each|Dimensions|effects|window|opacity|case|Lightview|radius|add|lightview|IE|cache|queue|_m|for|radian|html|image|skin|attr|arguments|bind|visible|close|border|thumbnails|is|next|titleCaption|play|parseInt|color|caption|_dimensions|previous|spinner|thumbnail|slideshow||viewport||Timeouts|ceil|remove|mousewheel|jQuery||size|max|click|refresh|setPosition|round|Top|break|removeClass|clear|lineTo|_|string|background|slider|create|spacing|title|src|items|new|number|padding|bubble|105|split|else|canvas|ajax|slide|100|switch|Thumbnails|fadeTo|side|deepExtendClone|stopPropagation|preventDefault|indexOf|Spinners|init|overlay|arc|setOptions|sfcc|clone|Overlay|Canvas|sideButtonsUnderneath|auto||complete|onload|target|offset||blur||getLayout|buttonTopClose|Relative|spinnerWrapper|push|slider_slide|body|MobileSafari|support|createElement|resize|scrollTop|update|innerPreviousNextOverlays|lv_button|116|pos|preloading_images|group|enabled|Slider|lv_icon|180|children|charAt|lv_side_buttons_underneath|startObserving|margin|duration|count|playing|lv_thumbnail|setActive|itemCount|slider_slideshow|in|tag|quicktime|void|scripts|call|Color|hex2fill|moveTo|vertical|draw|absolute|fadeOut|setSkin|delegate|111|101|resized|resizeTo|_reset|before|visibility||||inlineContent|inlineMarker|fit|outerWidth|elements|page|lv_slider_number|View|initialize|inline|try|catch|style|Skins|icon|innerHeight|scrollLeft|build|queues|vars|canvasShadow|canvasBubble|lv_side_left|lv_side_button|lv_side_right|114|outer|updateQueue|load|getSurroundingIndexes|object|close_button|extension|preloaded|slider_numbers|lv_icon_disabled|flash|iframe|substr|replace|documentElement|Chrome|required|available|plugins|center|getContext|defaultSkin|fillStyle|innerWidth|horizontal|setExpression|setDefaultSkin|lv_side||lv_inner_previous_next_overlays|first|110|115||layout|lv_content_wrapper||animate|floor|mayPrevious|mayNext|refreshPreviousNext|overlapping|right|_update|delete|keyCode|relative|slider_previous|slider_next|nr_width|scrollToPage|middle_slideshow|PI|apply|warn|img|param|test|deepExtend|toLowerCase|_interval|originalEvent|easing|prototype|nodeType|parentNode|parseFloat|WebKit|navigator|name|G_vmlCanvasManager|000|substring|fill|x1|y1|x2|y2|setOpacity|durations|scroll|150|showhide|lv_window|lv_content|lv_button_inner_previous_overlay|lv_button_inner_next_overlay|ctxBubble|108|112|scale|inner|place|controls_type_changed|preload|value|after|stopQueues|wrapperClass|scaleWithin|filter|params|min|track|loading|_urls|lv_thumbnail_image|pageCount|text|console|createHTML|inArray|RegExp|detectType|detectExtension|match|lifetime|iteration|fail|pow|isElement|Opera|opera|version|Requirements|swfobject|check|join|QuickTime|sides|delay|drawRoundedRectangle|expand|closePath|createFillStyle|_adjust|prepend|setVars|className|lv_spinner_wrapper|ctxShadow|closest|104|118|_pinchZoomed|_drawBackgroundPath|fromSpacingX|fromSpacingY|fromPadding|initialDimensionsOnly|once|inherit|middle|cleanContent|disable|getDimensions|setTitleCaption|_states|eval|fetchOptions|getKeyByKeyCode|Image|Cache|Loading|_skin|_loading_images|lv_load_thumbnail|lv_slider_icon|lv_slider_slideshow_disabled|lv_slider_number_last|refreshButtonStates|lv_slider_number_empty|middle_previous|lv_top_button|text_previous|middle_next|text_next|container|String|base|constructor|domain|3e5|clearInterval|wheelDelta|120|detail|Array|isAttached|AppleWebKit|Gecko|getUniqueID|SWFObject|Za|notified|ready|map|ShockwaveFlash|prefix|toUpperCase|createEvent|boxShadow|borderRadius|boolean|red|green|blue|undefined|fff|devicePixelRatio|beginPath|fillRect|Gradient|addColorStops|dPA|1e3|lv_skin|lv_shadow|close_lightview|applyFixes|stopObserving|lv_side_button_|lv_side_button_out|109|107|117|103|scrolling|resizing|undelegate|clearRect|_drawBorderPath|_drawShadow|firstChild|lv_blank_background|25000px|getMeasureElementDimensions|getFittedDimensions|controls_from_spacing_x|toSpacingX|sxDiff|controls_from_spacing_y|toSpacingY|syDiff|controls_from_padding|toPadding|pDiff|step|easeInOutQuart|removeAttr|getPlacement|lv|fx|placement|onHide|setInitialDimensions|onShow|preloadSurroundingImages|continuous|hideOverlapping|embed|wmode|transparent|restoreOverlapping|restoreOverlappingWithinContent|_show|_hide|createSpinner|restoreInlineContent|lv_restore_inline_display|display|lv_has_caption|lv_has_title|lv_content_|121||errors|pluginspage|pluginspages|lv_content_image||controller||||SetControllerVisible|dataType|afterUpdate|enable|measureElement|timeout_|clearTimeout|href|isExternal|getBoundsScale|space|esc|onkeydown|onkeyup|populate|lv_thumbnails|lv_thumbnails_slider|lv_controls_top_close|lv_controls_top_close_button|lv_controls_top_close_skin_|stopLoadingImages|_getThumbnailsWithinViewport|loadThumbnailsWithinViewport|adjustToViewport|lv_thumbnail_active|lv_slider_next|Page|nr_margin_last|grep|lv_slider_number_active|lv_slider_next_disabled|lv_slider_previous_disabled|lv_slider_slideshow_playing|span|setText|lv_controls_top_with_slideshow|lv_top_slideshow_playing|object_type|pyth|sqrt|degrees|fromCharCode|log|area|basefont|col|frame|hr|input|link|isindex|meta|range|spacer|wbr|Object|extensions|deferUntil|setInterval|Event|trigger|isPropagationStopped|isDefaultPrevented|DOMMouseScroll|Quart|easeIn|easeOut|easeInOut|slice|exec|attachEvent|MSIE|KHTML|rv|Apple|Mobile|Safari|userAgent|lv_identity_|getElementById|fn||jquery|ua|Version|z_|z0|requires|ActiveXObject|Shockwave|Flash|init_|Webkit|Moz|ms|Khtml|touch|TouchEvent|transitions|WebKitTransitionEvent|TransitionEvent|OTransitionEvent|expressions|prefixed|initialTypeOptions|reset|rgba|255|360|hue|saturation|brightness|0123456789abcdef|hex2rgb|getSaturatedBW|initElement|mergedCorner|toFixed|isArray|createLinearGradient|05|addColorStop|inside|lv_overlay|533|dark|lv_window_|lv_bubble|lv_side_button_previous|lv_side_button_next|lv_title_caption|titleCaptionSlide|lv_title_caption_slide|lv_title|lv_caption|lv_button_top_close|none|about|blank|fixed|mouseover||touchmove|mouseout|102|106|119|addEventListener|gesturechange|200|orientationchange|lv_close|15000px|lvresizecount|initialDimensions|select|hidden|tagName|Stop|innerHTML|default|122|1e5|00006000600660060060666060060606666060606|00006000606000060060060060060606000060606|00006000606066066660060060060606666060606|00006000606006060060060060060606000060606|000066606006600600600600066006066660066600000|1800|missing_plugin|gif|progid|DXImageTransform|Microsoft|AlphaImageLoader|sizingMethod|alt|id|embedSWF|flashvars|lv_content_flash|class|lv_content_object|merge|codebase|http|www|apple|com|qtactivex|qtplugin|cab|classid|clsid|02BF25D5|8C17|4B23|BC80|D3488ABDDC6B|video|iframe_movie|frameBorder|hspace|lv_content_iframe|lv_content_html|success|responseText|9999999|outerHeight|270|cos|setTimeout|isMedia|scaleToBounds|keydown|keyup|keyboard|callback|inject|currentTarget|lv_button_top_close_controls_type_|lv_thumbnails_slide|offsetHeight|lv_thumbnails_skin_|lv_thumbnail_icon|lv_thumbnail_icon_|lv_thumbnail_image_spinner_overlay|_previous|_next|lv_controls_relative|lv_slider|lv_slider_previous|lv_slider_numbers|lv_slider_slide|lv_slider_slideshow|slider_|hasClass|makeArray|999|linear|previousPage|nextPage|last|lv_controls_top|lv_top_middle|lv_top_previous|lv_top_slideshow|lv_top_next|Prev|Next|lv_controls_top_skin_|lv_update_queue|8e3|750|bottom|overflow|array".split("|"),0,{}));

// Userpro Minified
function userpro_shortcode_template(e,t,n,r,i,s){str="action=userpro_shortcode_template&shortcode="+n;if(r){str=str+"&up_username="+r}if(s){str=str+"&post_id="+s}if(i){str=str+"&force_redirect_uri=1"}if(t.find("form").length>0){var o=t.find("form");userpro_init_load(o)}jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",error:function(e,t,n){userpro_end_load(o);alert(n)},success:function(n){jQuery("#spinner").remove();if(e=="insert"){jQuery(t).html(n.response)}if(e=="update"){jQuery(t).replaceWith(n.response);userpro_end_load(o)}userpro_responsive();userpro_chosen();userpro_fluid_videos();userpro_ajax_picupload();jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))});userpro_overlay_center(".userpro-overlay-inner")}})}function userpro_fluid_videos(){var e=jQuery(".userpro iframe, .userpro object, .userpro embed"),t=jQuery(".userpro-input");e.each(function(){jQuery(this).attr("data-aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")});var n=t.width();e.each(function(){var e=jQuery(this);e.width(jQuery(this).parents(".userpro-input").width()).height(jQuery(this).parents(".userpro-input").width()*e.attr("data-aspectRatio"))})}function userpro_ajax_picupload(){jQuery(".userpro-pic-upload").each(function(){var e=jQuery(this).data("allowed_extensions");var t=jQuery(this).data("filetype");var n=jQuery(this).parents(".userpro").find("form");jQuery(this).uploadFile({url:userpro_upload_url,allowedTypes:e,onSubmit:function(e){var t=jQuery(".ajax-file-upload-statusbar:visible");t.parents(".userpro-input").find(".red").hide();if(t.parents(".userpro-input").find("img.default").length){t.parents(".userpro-input").find("img.default").show();t.parents(".userpro-input").find("img.modified").remove()}},onSuccess:function(e,r,i){r=jQuery.parseJSON(r);var s=jQuery(".ajax-file-upload-statusbar:visible");var o=r.target_file_uri;if(s.parents(".userpro-input").find("img.default").length){var u=s.parents(".userpro-input").find("img.default").attr("width");var a=s.parents(".userpro-input").find("img.default").attr("height")}else if(s.parents(".userpro-input").find("img.modified").length){var u=s.parents(".userpro-input").find("img.modified").attr("width");var a=s.parents(".userpro-input").find("img.modified").attr("height")}else if(s.parents(".userpro-input").find("img.avatar").length){var u=s.parents(".userpro-input").find("img.avatar").attr("width");var a=s.parents(".userpro-input").find("img.avatar").attr("height")}str="action=userpro_crop_picupload&filetype="+t+"&width="+u+"&height="+a+"&src="+o;jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",success:function(e){s.prev().after("<input type='button' value='"+s.parents(".userpro-input").find(".userpro-pic").data("remove_text")+"' class='userpro-button red' style='display:none' />");s.prev().fadeIn(function(){if(t=="picture"){s.parents(".userpro-input").find("img").attr("src",e.response);s.parents(".userpro-input").find("img").removeClass("no_feature")}else if(t=="file"){s.parents(".userpro-input").find(".userpro-file-input").remove();s.parents(".userpro-input").prepend(e.response)}s.hide()});s.parents(".userpro-input").find("input:hidden").val(o);s.parents(".userpro-input").find(".userpro-pic-none").hide();n.find("input").each(function(){jQuery(this).trigger("blur")})}})}})})}function userpro_password_strength_meter(e){var t=e.parents(".userpro").find(".userpro-field[data-key^='passwordstrength']");var n=t.find("span.strength-text").data();var r=t.find("span.strength-text");var i=e.val();var s=/[a-z]/,o=/[A-Z]/,u=/[0-9]/,a=/[0-9].*[0-9]/,f=/[^a-zA-Z0-9]/,l=/^(.)\1+$/;var c=s.test(i),h=o.test(i.substring(0,1).toLowerCase()+i.substring(1)),p=u.test(i),d=a.test(i),v=f.test(i);if(t.length>0){if(i.length<8){t.find(".strength-plain").removeClass("fill");r.html(n["too_short"]);return 0}else if(l.test(i)){t.find(".strength-plain").removeClass("fill");t.find(".strength-plain:eq(0)").addClass("fill");r.html(n["very_weak"]);return 1}else if(c&&h&&p&&v){t.find(".strength-plain").removeClass("fill");t.find(".strength-plain").addClass("fill");r.html(n["very_strong"]);return 5}else if(c&&h&&p||c&&d||h&&d||v){t.find(".strength-plain").removeClass("fill");t.find(".strength-plain:eq(0),.strength-plain:eq(1),.strength-plain:eq(2),.strength-plain:eq(3)").addClass("fill");r.html(n["strong"]);return 4}else if(c&&h||c&&p||h&&p){t.find(".strength-plain").removeClass("fill");t.find(".strength-plain:eq(0),.strength-plain:eq(1),.strength-plain:eq(2)").addClass("fill");r.html(n["good"]);return 3}else{t.find(".strength-plain").removeClass("fill");t.find(".strength-plain:eq(0),.strength-plain:eq(1)").addClass("fill");r.html(n["weak"]);return 2}}}function userpro_chosen(){jQuery(".userpro select, .emd-filters select").removeClass("chzn-done").css("display","inline").data("chosen",null);jQuery(".userpro, .emd-filters").find("*[class*=chzn], .chosen-container").remove();jQuery(".chosen-select").chosen({disable_search_threshold:10,width:"100%"});jQuery(".chosen-select-compact").chosen({disable_search:1,width:"100%"});jQuery(".userpro-tip-fade").tipsy({offset:2,fade:true,opacity:1});jQuery("span.userpro-tip, .userpro-tip").tipsy({offset:5,fade:true,opacity:1});jQuery(".userpro-profile-badge").tipsy({offset:3,fade:true,opacity:1});jQuery(".userpro-profile-badge-right").tipsy({offset:3,fade:true,opacity:1,gravity:"w"})}function userpro_responsive(){jQuery(".userpro-is-responsive").each(function(){var e=jQuery(this);if(e.width()<=400){e.addClass("userpro-centered-c").removeClass("userpro-head");e.find("*").addClass("userpro-force-center");e.find(".userpro-profile-name").addClass("small")}else{e.removeClass("userpro-centered-c").addClass("userpro-head");e.find("*").removeClass("userpro-force-center");e.find(".userpro-profile-name").removeClass("small")}});jQuery(".userpro").each(function(){var e=jQuery(this);if(e.width()<=400&&e.width()>0&&e.data("layout")=="float"){e.removeClass("userpro-float")}else if(e.data("layout")=="float"){e.addClass("userpro-float")}if(e.width()<=400&&e.width()>0){if(e.find(".userpro-label").hasClass("iconed")){e.find(".userpro-field-icon").hide();e.find(".userpro-label").removeClass("iconed")}e.find(".userpro-submit").find("input").addClass("fullwidth-block");e.find(".userpro-social-connect").addClass("fullwidth-block-social")}else{e.find(".userpro-submit").find("input").removeClass("fullwidth-block");e.find(".userpro-social-connect").removeClass("fullwidth-block-social")}});jQuery(".userpro-users-v2").each(function(){var e=jQuery(this);if(e.width()<=700){e.find(".userpro-awsm").css({width:"40%","margin-left":"15px","margin-right":"15px"})}if(e.width()<=560){e.find(".userpro-awsm").css({width:"100%","margin-left":0,"margin-right":0})}if(e.width()>700){e.find(".userpro-awsm").css({width:"25%","margin-left":"15px","margin-right":"15px"})}equalHeight(jQuery(this).find(".userpro-awsm-bio"));equalHeight(jQuery(this).find(".userpro-awsm span.userpro-badges"));equalHeight(jQuery(this).find(".userpro-awsm-social"))});jQuery(".userpro-post-wrap").each(function(){var e=jQuery(this);if(e.width()<=700){e.find(".userpro-post:not(.userpro-post-compact)").css({width:"40%","margin-left":"10px","margin-right":"10px"})}if(e.width()<=400){e.find(".userpro-post:not(.userpro-post-compact)").css({width:"100%","margin-left":0,"margin-right":0})}if(e.width()>700){e.find(".userpro-post:not(.userpro-post-compact)").css({width:"25%","margin-left":"10px","margin-right":"10px"})}});jQuery("input[data-fieldtype=datepicker]").datepicker({dateFormat:"dd-mm-yy",changeMonth:true,changeYear:true,showOtherMonths:true,selectOtherMonths:true,dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],yearRange:"c-65:c+0"})}function equalHeight(e){tallest=0;e.each(function(){jQuery(this).height("auto");thisHeight=jQuery(this).height();if(thisHeight>tallest){tallest=thisHeight}});e.height(tallest)}function userpro_overlay_center(e){if(e.length){jQuery(e).imagesLoaded(function(){jQuery(e).animate({top:jQuery(window).innerHeight()/2,"margin-top":"-"+jQuery(e).find(".userpro").innerHeight()/2+"px"})})}}function userpro_collapse(e){e.find(".userpro-section").each(function(){if(jQuery(this).next("div.userpro-field:not(.userpro-submit)").length==0){jQuery(this).hide()}else{}});e.find(".userpro-collapsible-1.userpro-collapsed-1").each(function(){jQuery(this).nextUntil("div.userpro-column").hide();if(jQuery(this).find("span").length==0)jQuery(this).prepend('<span><i class="userpro-icon-angle-right"></i></span>')});e.find(".userpro-collapsible-1.userpro-collapsed-0").each(function(){jQuery(this).nextUntil("div.userpro-column").show();if(jQuery(this).find("span").length==0)jQuery(this).prepend('<span><i class="userpro-icon-angle-down"></i></span>')})}function userpro_side_validate(e,t,n){str="action=userpro_side_validate&input_value="+t.replace(/&/g,"%26")+"&ajaxcheck="+n+"&element="+e;jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",success:function(t){var n=e.parents(".userpro-input");if(t&&t.error){userpro_client_error(e,n,t.error)}else{userpro_client_valid(e,n)}userpro_overlay_center(".userpro-overlay-inner")}})}function userpro_client_error(e,t,n){if(e.data("custom-error")){n=e.data("custom-error")}if(e.attr("type")){if(e.attr("type")=="hidden"){t.find(".icon-ok").remove();if(t.find(".userpro-warning").length==0){e.addClass("warning").removeClass("ok");t.append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+n+"</div>");t.find(".userpro-warning").css({top:"0px",opacity:"1"})}else{t.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+n);t.find(".userpro-warning").css({top:"0px",opacity:"1"})}}else{t.find(".icon-ok").remove();if(t.find(".userpro-warning").length==0){e.addClass("warning").removeClass("ok");e.after('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+n+"</div>");t.find(".userpro-warning").css({top:"0px",opacity:"1"})}else{t.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+n);t.find(".userpro-warning").css({top:"0px",opacity:"1"})}}}else{if(t.find(".userpro-warning").length==0){t.find(".chosen-container").after('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+n+"</div>");t.find(".userpro-warning").css({top:"0px",opacity:"1"})}else{t.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+n);t.find(".userpro-warning").css({top:"0px",opacity:"1"})}}userpro_overlay_center(".userpro-overlay-inner")}function userpro_client_error_irregular(e,t,n){if(e!=""&&e.data("custom-error")){n=e.data("custom-error")}if(t.find(".userpro-warning").length==0){t.append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+n+"</div>");t.find(".userpro-warning").css({top:"0px",opacity:"1"})}userpro_overlay_center(".userpro-overlay-inner")}function userpro_client_valid(e,t){if(e.attr("type")){if(e.attr("type")=="radio"||e.attr("type")=="checkbox"){t.find(".userpro-warning").remove();e.removeClass("warning").addClass("ok")}else{t.find(".userpro-warning").remove();e.removeClass("warning").addClass("ok");if(t.find(".icon-ok").length==0){if(e.val()!=""){t.append('<div class="icon-ok"><i class="userpro-icon-ok"></i></div>')}else{t.find(".icon-ok").remove()}}}}else{t.find(".userpro-warning").remove()}userpro_overlay_center(".userpro-overlay-inner")}function userpro_clear_form(e){e.find(".userpro-warning").remove();e.find("input,select,textarea").removeClass("warning").addClass("ok")}function userpro_clear_input(e){e.parents(".userpro-input").find(".userpro-warning").remove();e.removeClass("warning")}function userpro_init_load(e){e.find("input[type=submit],input[type=button]").attr("disabled","disabled");e.parents(".userpro").find("img.userpro-loading").show().addClass("inline")}function userpro_end_load(e){jQuery(".tipsy").remove();e.find("input[type=submit],input[type=button]").removeAttr("disabled");e.parents(".userpro").find("img.userpro-loading").hide().removeClass("inline")}function userpro_overlay_confirmation(e){if(jQuery(".userpro-modal-inner").length){jQuery(".userpro-modal-inner").remove()}jQuery("body").append('<div class="userpro-modal-inner"><i class="userpro-icon-ok"></i><i class="userpro-icon-remove"></i>'+e+"</div>");jQuery(".userpro-modal-inner").css({"margin-top":"-"+jQuery(".userpro-modal-inner").innerHeight()/2+"px",opacity:1})}(function(e){function t(e,t){return typeof e=="function"?e.call(t):e}function n(e){while(e=e.parentNode){if(e==document)return true}return false}function r(t,n){this.$element=e(t);this.options=n;this.enabled=true;this.fixTitle()}r.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var r=this.tip();r.find(".tipsy-inner")[this.options.html?"html":"text"](n);r[0].className="tipsy";r.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var i=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var s=r[0].offsetWidth,o=r[0].offsetHeight,u=t(this.options.gravity,this.$element[0]);var a;switch(u.charAt(0)){case"n":a={top:i.top+i.height+this.options.offset,left:i.left+i.width/2-s/2};break;case"s":a={top:i.top-o-this.options.offset,left:i.left+i.width/2-s/2};break;case"e":a={top:i.top+i.height/2-o/2,left:i.left-s-this.options.offset};break;case"w":a={top:i.top+i.height/2-o/2,left:i.left+i.width+this.options.offset};break}if(u.length==2){if(u.charAt(1)=="w"){a.left=i.left+i.width/2-15}else{a.left=i.left+i.width/2-s+15}}r.css(a).addClass("tipsy-"+u);r.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+u.charAt(0);if(this.options.className){r.addClass(t(this.options.className,this.$element[0]))}if(this.options.fade){r.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{r.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){e(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("original-title")!="string"){e.attr("original-title",e.attr("title")||"").removeAttr("title")}},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;if(typeof n.title=="string"){e=t.attr(n.title=="title"?"original-title":n.title)}else if(typeof n.title=="function"){e=n.title.call(t[0])}e=(""+e).replace(/(^\s*|\s*$)/,"");return e||n.fallback},tip:function(){if(!this.$tip){this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};e.fn.tipsy=function(t){function i(n){var i=e.data(n,"tipsy");if(!i){i=new r(n,e.fn.tipsy.elementOptions(n,t));e.data(n,"tipsy",i)}return i}function s(){var e=i(this);e.hoverState="in";if(t.delayIn==0){e.show()}else{e.fixTitle();setTimeout(function(){if(e.hoverState=="in")e.show()},t.delayIn)}}function o(){var e=i(this);e.hoverState="out";if(t.delayOut==0){e.hide()}else{setTimeout(function(){if(e.hoverState=="out")e.hide()},t.delayOut)}}if(t===true){return this.data("tipsy")}else if(typeof t=="string"){var n=this.data("tipsy");if(n)n[t]();return this}t=e.extend({},e.fn.tipsy.defaults,t);if(!t.live)this.each(function(){i(this)});if(t.trigger!="manual"){var u=t.live?"live":"bind",a=t.trigger=="hover"?"mouseenter":"focus",f=t.trigger=="hover"?"mouseleave":"blur";this[u](a,s)[u](f,o)}return this};e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:.8,title:"title",trigger:"hover"};e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");if(!t||!n(t)){e(this).remove()}})};e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n};e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"};e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"};e.fn.tipsy.autoBounds=function(t,n){return function(){var r={ns:n[0],ew:n.length>1?n[1]:false},i=e(document).scrollTop()+t,s=e(document).scrollLeft()+t,o=e(this);if(o.offset().top<i)r.ns="n";if(o.offset().left<s)r.ew="w";if(e(window).width()+e(document).scrollLeft()-o.offset().left<t)r.ew="e";if(e(window).height()+e(document).scrollTop()-o.offset().top<t)r.ns="s";return r.ns+(r.ew?r.ew:"")}}})(jQuery);!function(){var e,t,n,r,i,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,r,i,s,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),s=e.childNodes,o=[],r=0,i=s.length;i>r;r++)n=s[r],o.push(this.add_option(n,t,e.disabled));return o},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&"})):e},e}(),r.select_to_array=function(e){var t,n,i,s,o;for(n=new r,o=e.childNodes,i=0,s=o.length;s>i;i++)t=o[i],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,n,r,i,s;for(t="",s=this.results_data,r=0,i=s.length;i>r;r++)n=s[r],t+=n.group?this.result_add_group(n):this.result_add_option(n),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match?this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=""!==e.style.cssText?' style="'+e.style+'"':"",'<li class="'+t.join(" ")+'"'+n+' data-option-array-index="'+e.array_index+'">'+e.search_text+"</li>"):"":""},e.prototype.result_add_group=function(e){return e.search_match||e.group_match?e.active_options>0?'<li class="group-result">'+e.search_text+"</li>":"":""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;for(this.no_results_clear(),i=0,o=this.get_search_text(),e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=this.search_contains?"":"^",n=new RegExp(r+e,"i"),f=new RegExp(e,"i"),h=this.results_data,l=0,c=h.length;c>l;l++)t=h[l],t.search_match=!1,s=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(s=this.results_data[t.group_array_index],0===s.active_options&&s.search_match&&(i+=1),s.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(o.length&&(u=t.search_text.search(f),a=t.search_text.substr(0,u+o.length)+"</em>"+t.search_text.substr(u+o.length),t.search_text=a.substr(0,u)+"<em>"+a.substr(u)),null!=s&&(s.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>i&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var n,r,i,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(r=e.replace(/\[|\]/g,"").split(" "),r.length))for(i=0,s=r.length;s>i;i++)if(n=r[i],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,r;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,r=this.form_field.options,t=0,n=r.length;n>t;t++)e=r[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(r){return t.browser_is_supported()?this.each(function(){var t,i;t=e(this),i=t.data("chosen"),"destroy"===r&&i?i.destroy():i||t.data("chosen",new n(this,r))}):this}}),n=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t,n,r;return t=-(null!=(n=e.originalEvent)?n.wheelDelta:void 0)||(null!=(r=e.originialEvent)?r.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){return this.container.is(e(t.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,r,i,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),i=r+s,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(s>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},n.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(t){var n,r,i=this;return n=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(r=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),n.append(r)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n,r;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),r=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[r].selected=!1),this.result_single_selected=t),t.addClass("result-selected"),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n)},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,r,i,s,o,u,f,l;if(this.is_multiple){for(r=0,u=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],f=0,l=o.length;l>f;f++)i=o[f],s+=i+":"+this.search_field.css(i)+";";return t=e("<div />",{style:s}),t.text(this.search_field.val()),e("body").append(t),u=t.width()+25,t.remove(),n=this.container.outerWidth(),u>n-10&&(u=n-10),this.search_field.css({width:u+"px"})}},n}(t)}.call(this);(function(e,t,n){"use strict";var r=e.document,i=e.Modernizr,s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),u=function(e){var t=r.documentElement.style,n;if(typeof t[e]=="string")return e;e=s(e);for(var i=0,u=o.length;i<u;i++){n=o[i]+e;if(typeof t[n]=="string")return n}},a=u("transform"),f=u("transitionProperty"),l={csstransforms:function(){return!!a},csstransforms3d:function(){var e=!!u("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=t('<div id="modernizr" />').appendTo("html");e=s.height()===3,s.remove(),i.remove()}return e},csstransitions:function(){return!!f}},c;if(i)for(c in l)i.hasOwnProperty(c)||i.addTest(c,l[c]);else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h=" ",p;for(c in l)p=l[c](),i[c]=p,h+=" "+(p?"":"no-")+c;t("html").addClass(h)}if(i.csstransforms){var d=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},v=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},o,u={},f;s[n]=r,t.extend(i,s);for(o in i)f=i[o],u[o]=d[o](f);var l=u.translate||"",c=u.scale||"",h=l+c;t.data(e,"isoTransform",i),e.style[a]=h};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){v(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){v(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,g;i.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f],g=u("transitionDuration"));var y=t.event,b=t.event.handle?"handle":"dispatch",w;y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",w&&clearTimeout(w),w=setTimeout(function(){y[b].apply(n,r)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n,r){this.element=t(n),this._create(e),this._init(r)};var E=["width","height"],S=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=E.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var s=0,o=r.length;s<o;s++)i=r[s],this.originalStyle[i]=n[i]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var u={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var a=this;setTimeout(function(){a.element.addClass(a.options.containerClass)},0),this.options.resizable&&S.bind("smartresize.isotope",function(){a.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};return n=n.filter(function(e,t){return t.nodeType===1}),this.usingTransforms&&(r.left=0,r.top=0),n.css(r).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e)n="_update"+s(r),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),t;switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(n),e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this),o={};for(var e in i)!n&&e==="original-order"?o[e]=t.data(this,"isotope-sort-data")[e]:o[e]=i[e](s,r);t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);return s===o&&e!=="original-order"&&(s=t(r,"original-order"),o=t(i,"original-order")),(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left),n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,n){var r=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",s=this.options.animationOptions,o=this.options.onLayout,u,a,f,l;a=function(e,t){t.$el[r](t.style,s)};if(this._isInserting&&this.isUsingJQueryAnimation)a=function(e,t){u=t.$el.hasClass("no-transition")?"css":r,t.$el[u](t.style,s)};else if(n||o||s.complete){var c=!1,h=[n,o,s.complete],p=this;f=!0,l=function(){if(c)return;var t;for(var n=0,r=h.length;n<r;n++)t=h[n],typeof t=="function"&&t.call(p.element,e,p);c=!0};if(this.isUsingJQueryAnimation&&r==="animate")s.complete=l,f=!1;else if(i.csstransitions){var d=0,v=this.styleQueue[0],y=v&&v.$el,b;while(!y||!y.length){b=this.styleQueue[d++];if(!b)return;y=b.$el}var w=parseFloat(getComputedStyle(y[0])[g]);w>0&&(a=function(e,t){t.$el[r](t.style,s).one(m,l)},f=!1)}}t.each(this.styleQueue,a),f&&l(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r),n._sort(),n.reLayout(),n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,r=function(){e.remove(),t&&t.call(n.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(r)):r()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[a]="")});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),S.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+s(r)](!0)||o;u=Math.floor(o/a),u=Math.max(u,1),this[t][i]=u,this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];return this._getSegments(e),this[t][n]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);i=Math.min(i,r.cols);if(i===1)n._masonryPlaceBrick(e,r.colYs);else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.colYs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(!0),f=this.masonry.cols+1-s;for(i=0;i<f;i++)this.masonry.colYs[r+i]=a},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.x!==0&&s+i.x>r&&(i.x=0,i.y=i.height),n._pushPosition(e,i.x,i.y),i.height=Math.max(i.y+o,i.height),i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y),n.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);i=Math.min(i,r.rows);if(i===1)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.rowXs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(!0),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++)this.masonryHorizontal.rowXs[r+i]=a},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.y!==0&&o+i.y>r&&(i.x=i.width,i.y=0),n._pushPosition(e,i.x,i.y),i.width=Math.max(i.x+s,i.width),i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0),n.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function n(){e.call(i,s)}function r(e){var i=e.target;i.src!==u&&t.inArray(i,a)===-1&&(a.push(i),--o<=0&&(setTimeout(n),s.unbind(".imagesLoaded",r)))}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a=[];return o||n(),s.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=u,this.src=e}),i};var x=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if(typeof e=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");if(!n){x("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(n[e])||e.charAt(0)==="_"){x("no such method '"+e+"' for isotope instance");return}n[e].apply(n,r)})}else this.each(function(){var r=t.data(this,"isotope");r?(r.option(e),r._init(n)):t.data(this,"isotope",new t.Isotope(e,this,n))});return this}})(window,jQuery);(function(e){e.fn.uploadFile=function(t){var n=e.extend({url:"",method:"POST",enctype:"multipart/form-data",formData:null,returnType:null,allowedTypes:"*",fileName:"userpro_file",multiple:false,autoSubmit:true,showCancel:false,showAbort:false,showDone:false,showStatusAfterSuccess:true,buttonCss:false,buttonClass:false,onSubmit:function(e){},onSuccess:function(e,t){},onError:function(e,t){},uploadButtonClass:"ajax-file-upload"},t);var r="ajax-file-upload-"+e(this).attr("id");this.formGroup=r;e(this).click(function(){e.fn.uploadFile.createAjaxForm(this,r,n)});this.startUpload=function(){e("."+this.formGroup).each(function(t,n){e(this).submit()})};e(this).addClass(n.uploadButtonClass);return this};e.fn.uploadFile.createAjaxForm=function(t,n,r){var s=e("<form style='display:none;' class='"+n+"' method='"+r.method+"' action='"+r.url+"' enctype='"+r.enctype+"'></form>");var o="<input type='file' name='"+r.fileName+"'/>";if(r.multiple){if(r.fileName.indexOf("[]")!=r.fileName.length-2){r.fileName+="[]"}o="<input type='file' name='"+r.fileName+"' multiple/>"}var u=e(o).appendTo(s);var f=e("<div class='ajax-file-upload-statusbar'></div>");var l=e("").appendTo(f);var c=e("<div class='ajax-file-upload-progress'>").appendTo(f).hide();var h=e("<div class='ajax-file-upload-bar'></div>").appendTo(c);var p=e("").appendTo(f).hide();var d=e("<div class='ajax-file-upload-red'>Cancel</div>").appendTo(f).hide();var v=e("").appendTo(f).hide();e(u).change(function(){var n=r.allowedTypes.toLowerCase().split(",");var o="";var u=[];if(this.files){for(i=0;i<this.files.length;i++){var y=this.files[i].name;u.push(y);var w=y.split(".").pop().toLowerCase();if(r.allowedTypes!="*"&&jQuery.inArray(w,n)<0){alert("File type is not allowed. Allowed only: "+r.allowedTypes);e(s).remove();return}o+=y;if(this.files.length!=0){o+=""}}}else{var y=e(this).val();u.push(y);var w=y.split(".").pop().toLowerCase();if(r.allowedTypes!="*"&&jQuery.inArray(w,n)<0){alert("File type is not allowed. Allowed only: "+r.allowedTypes);e(s).remove();return}o=y}e("body").append(s);e(t).after(f);e(l).html(o);var E=null;var S={forceSync:false,data:r.formData,dataType:r.returnType,beforeSend:function(t,n){r.onSubmit.call(this,u);e(c).show();e(d).hide();e(v).hide();if(r.showAbort){e(p).show();e(p).click(function(){t.abort()})}},uploadProgress:function(t,n,r,i){var s=i+"%";e(h).width(s)},success:function(t,n,i){e(p).hide();r.onSuccess.call(this,u,t,i);if(r.showStatusAfterSuccess){if(r.showDone){e(v).show();e(v).click(function(){e(f).hide("slow")})}else{e(v).hide()}e(h).width("100%")}else{e(f).hide("slow")}e(s).remove()},error:function(t,n,i){if(t.statusText=="abort"){e(f).hide("slow")}else{r.onError.call(this,u,n,i);e(c).hide();e(f).append("<font color='red'>ERROR: "+i+"</font>")}e(p).hide();e(s).remove()}};if(r.autoSubmit){e(s).ajaxSubmit(S)}else{if(r.showCancel){e(d).show();e(d).click(function(){e(s).remove();e(f).remove()})}e(s).ajaxForm(S)}});e(u).click()};if(e.fn.ajaxForm==undefined){(function(e){function r(t){var n=t.data;if(!t.isDefaultPrevented()){t.preventDefault();e(this).ajaxSubmit(n)}}function i(t){var n=t.target;var r=e(n);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(i.length===0){return}n=i[0]}var s=this;s.clk=n;if(n.type=="image"){if(t.offsetX!==undefined){s.clk_x=t.offsetX;s.clk_y=t.offsetY}else{if(typeof e.fn.offset=="function"){var o=r.offset();s.clk_x=t.pageX-o.left;s.clk_y=t.pageY-o.top}else{s.clk_x=t.pageX-n.offsetLeft;s.clk_y=t.pageY-n.offsetTop}}}setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function s(){if(!e.fn.ajaxSubmit.debug){return}var t="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(t)}else{if(window.opera&&window.opera.postError){window.opera.postError(t)}}}var t={};t.fileapi=e("<input type='file'/>").get(0).files!==undefined;t.formdata=window.FormData!==undefined;var n=!!e.fn.prop;e.fn.attr2=function(){if(!n){return this.attr.apply(this,arguments)}var e=this.prop.apply(this,arguments);if(e&&e.jquery||typeof e==="string"){return e}return this.attr.apply(this,arguments)};e.fn.ajaxSubmit=function(r){function O(t){var n=e.param(t,r.traditional).split("&");var i=n.length;var s=[];var o,u;for(o=0;o<i;o++){n[o]=n[o].replace(/\+/g," ");u=n[o].split("=");s.push([decodeURIComponent(u[0]),decodeURIComponent(u[1])])}return s}function M(t){var n=new FormData;for(var s=0;s<t.length;s++){n.append(t[s].name,t[s].value)}if(r.extraData){var o=O(r.extraData);for(s=0;s<o.length;s++){if(o[s]){n.append(o[s][0],o[s][1])}}}r.data=null;var u=e.extend(true,{},e.ajaxSettings,r,{contentType:false,processData:false,cache:false,type:i||"POST"});if(r.uploadProgress){u.xhr=function(){var t=e.ajaxSettings.xhr();if(t.upload){t.upload.addEventListener("progress",function(e){var t=0;var n=e.loaded||e.position;var i=e.total;if(e.lengthComputable){t=Math.ceil(n/i*100)}r.uploadProgress(e,n,i,t)},false)}return t}}u.data=null;var a=u.beforeSend;u.beforeSend=function(e,t){t.data=n;if(a){a.call(this,e,t)}};return e.ajax(u)}function _(t){function C(e){var t=null;try{if(e.contentWindow){t=e.contentWindow.document}}catch(n){s("cannot get iframe.contentWindow document: "+n)}if(t){return t}try{t=e.contentDocument?e.contentDocument:e.document}catch(n){s("cannot get iframe.contentDocument: "+n);t=e.document}return t}function A(){function r(){try{var e=C(m).readyState;s("state = "+e);if(e&&e.toLowerCase()=="uninitialized"){setTimeout(r,50)}}catch(t){s("Server abort: ",t," (",t.name,")");P(N);if(S){clearTimeout(S)}S=undefined}}var t=a.attr2("target"),n=a.attr2("action");o.setAttribute("target",d);if(!i){o.setAttribute("method","POST")}if(n!=c.url){o.setAttribute("action",c.url)}if(!c.skipEncodingOverride&&(!i||/post/i.test(i))){a.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(c.timeout){S=setTimeout(function(){E=true;P(T)},c.timeout)}var u=[];try{if(c.extraData){for(var f in c.extraData){if(c.extraData.hasOwnProperty(f)){if(e.isPlainObject(c.extraData[f])&&c.extraData[f].hasOwnProperty("name")&&c.extraData[f].hasOwnProperty("value")){u.push(e('<input type="hidden" name="'+c.extraData[f].name+'">').val(c.extraData[f].value).appendTo(o)[0])}else{u.push(e('<input type="hidden" name="'+f+'">').val(c.extraData[f]).appendTo(o)[0])}}}}if(!c.iframeTarget){v.appendTo("body");if(m.attachEvent){m.attachEvent("onload",P)}else{m.addEventListener("load",P,false)}}setTimeout(r,15);try{o.submit()}catch(l){var h=document.createElement("form").submit;h.apply(o)}}finally{o.setAttribute("action",n);if(t){o.setAttribute("target",t)}else{a.removeAttr("target")}e(u).remove()}}function P(t){if(y.aborted||D){return}M=C(m);if(!M){s("cannot access response document");t=N}if(t===T&&y){y.abort("timeout");x.reject(y,"timeout");return}else{if(t==N&&y){y.abort("server abort");x.reject(y,"error","server abort");return}}if(!M||M.location.href==c.iframeSrc){if(!E){return}}if(m.detachEvent){m.detachEvent("onload",P)}else{m.removeEventListener("load",P,false)}var n="success",r;try{if(E){throw"timeout"}var i=c.dataType=="xml"||M.XMLDocument||e.isXMLDoc(M);s("isXml="+i);if(!i&&window.opera&&(M.body===null||!M.body.innerHTML)){if(--_){s("requeing onLoad callback, DOM not available");setTimeout(P,250);return}}var o=M.body?M.body:M.documentElement;y.responseText=o?o.innerHTML:null;y.responseXML=M.XMLDocument?M.XMLDocument:M;if(i){c.dataType="xml"}y.getResponseHeader=function(e){var t={"content-type":c.dataType};return t[e.toLowerCase()]};if(o){y.status=Number(o.getAttribute("status"))||y.status;y.statusText=o.getAttribute("statusText")||y.statusText}var u=(c.dataType||"").toLowerCase();var a=/(json|script|text)/.test(u);if(a||c.textarea){var f=M.getElementsByTagName("textarea")[0];if(f){y.responseText=f.value;y.status=Number(f.getAttribute("status"))||y.status;y.statusText=f.getAttribute("statusText")||y.statusText}else{if(a){var l=M.getElementsByTagName("pre")[0];var h=M.getElementsByTagName("body")[0];if(l){y.responseText=l.textContent?l.textContent:l.innerText}else{if(h){y.responseText=h.textContent?h.textContent:h.innerText}}}}}else{if(u=="xml"&&!y.responseXML&&y.responseText){y.responseXML=H(y.responseText)}}try{O=j(y,u,c)}catch(d){n="parsererror";y.error=r=d||n}}catch(d){s("error caught: ",d);n="error";y.error=r=d||n}if(y.aborted){s("upload aborted");n=null}if(y.status){n=y.status>=200&&y.status<300||y.status===304?"success":"error"}if(n==="success"){if(c.success){c.success.call(c.context,O,"success",y)}x.resolve(y.responseText,"success",y);if(p){e.event.trigger("ajaxSuccess",[y,c])}}else{if(n){if(r===undefined){r=y.statusText}if(c.error){c.error.call(c.context,y,n,r)}x.reject(y,"error",r);if(p){e.event.trigger("ajaxError",[y,c,r])}}}if(p){e.event.trigger("ajaxComplete",[y,c])}if(p&&!--e.active){e.event.trigger("ajaxStop")}if(c.complete){c.complete.call(c.context,y,n)}D=true;if(c.timeout){clearTimeout(S)}setTimeout(function(){if(!c.iframeTarget){v.remove()}y.responseXML=null},100)}var o=a[0],u,l,c,p,d,v,m,y,b,w,E,S;var x=e.Deferred();x.abort=function(e){y.abort(e)};if(t){for(l=0;l<h.length;l++){u=e(h[l]);if(n){u.prop("disabled",false)}else{u.removeAttr("disabled")}}}c=e.extend(true,{},e.ajaxSettings,r);c.context=c.context||c;d="jqFormIO"+(new Date).getTime();if(c.iframeTarget){v=e(c.iframeTarget);w=v.attr2("name");if(!w){v.attr2("name",d)}else{d=w}}else{v=e('<iframe name="'+d+'" src="'+c.iframeSrc+'" />');v.css({position:"absolute",top:"-1000px",left:"-1000px"})}m=v[0];y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n=t==="timeout"?"timeout":"aborted";s("aborting upload... "+n);this.aborted=1;try{if(m.contentWindow.document.execCommand){m.contentWindow.document.execCommand("Stop")}}catch(r){}v.attr("src",c.iframeSrc);y.error=n;if(c.error){c.error.call(c.context,y,n,t)}if(p){e.event.trigger("ajaxError",[y,c,n])}if(c.complete){c.complete.call(c.context,y,n)}}};p=c.global;if(p&&0===e.active++){e.event.trigger("ajaxStart")}if(p){e.event.trigger("ajaxSend",[y,c])}if(c.beforeSend&&c.beforeSend.call(c.context,y,c)===false){if(c.global){e.active--}x.reject();return x}if(y.aborted){x.reject();return x}b=o.clk;if(b){w=b.name;if(w&&!b.disabled){c.extraData=c.extraData||{};c.extraData[w]=b.value;if(b.type=="image"){c.extraData[w+".x"]=o.clk_x;c.extraData[w+".y"]=o.clk_y}}}var T=1;var N=2;var k=e("meta[name=csrf-token]").attr("content");var L=e("meta[name=csrf-param]").attr("content");if(L&&k){c.extraData=c.extraData||{};c.extraData[L]=k}if(c.forceSync){A()}else{setTimeout(A,10)}var O,M,_=50,D;var H=e.parseXML||function(e,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else{t=(new DOMParser).parseFromString(e,"text/xml")}return t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null};var B=e.parseJSON||function(e){return window["eval"]("("+e+")")};var j=function(t,n,r){var i=t.getResponseHeader("content-type")||"",s=n==="xml"||!n&&i.indexOf("xml")>=0,o=s?t.responseXML:t.responseText;if(s&&o.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(r&&r.dataFilter){o=r.dataFilter(o,n)}if(typeof o==="string"){if(n==="json"||!n&&i.indexOf("json")>=0){o=B(o)}else{if(n==="script"||!n&&i.indexOf("javascript")>=0){e.globalEval(o)}}}return o};return x}if(!this.length){s("ajaxSubmit: skipping submit process - no element selected");return this}var i,o,u,a=this;if(typeof r=="function"){r={success:r}}else{if(r===undefined){r={}}}i=r.type||this.attr2("method");o=r.url||this.attr2("action");u=typeof o==="string"?e.trim(o):"";u=u||window.location.href||"";if(u){u=(u.match(/^([^#]+)/)||[])[1]}r=e.extend(true,{url:u,success:e.ajaxSettings.success,type:i||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var l={};this.trigger("form-pre-serialize",[this,r,l]);if(l.veto){s("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(r.beforeSerialize&&r.beforeSerialize(this,r)===false){s("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var c=r.traditional;if(c===undefined){c=e.ajaxSettings.traditional}var h=[];var p,v=this.formToArray(r.semantic,h);if(r.data){r.extraData=r.data;p=e.param(r.data,c)}if(r.beforeSubmit&&r.beforeSubmit(v,this,r)===false){s("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[v,this,r,l]);if(l.veto){s("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var m=e.param(v,c);if(p){m=m?m+"&"+p:p}if(r.type.toUpperCase()=="GET"){r.url+=(r.url.indexOf("?")>=0?"&":"?")+m;r.data=null}else{r.data=m}var y=[];if(r.resetForm){y.push(function(){a.resetForm()})}if(r.clearForm){y.push(function(){a.clearForm(r.includeHidden)})}if(!r.dataType&&r.target){var b=r.success||function(){};y.push(function(t){var n=r.replaceTarget?"replaceWith":"html";e(r.target)[n](t).each(b,arguments)})}else{if(r.success){y.push(r.success)}}r.success=function(e,t,n){var i=r.context||this;for(var s=0,o=y.length;s<o;s++){y[s].apply(i,[e,t,n||a,a])}};if(r.error){var w=r.error;r.error=function(e,t,n){var i=r.context||this;w.apply(i,[e,t,n,a])}}if(r.complete){var E=r.complete;r.complete=function(e,t){var n=r.context||this;E.apply(n,[e,t,a])}}var S=e('input[type=file]:enabled:not([value=""])',this);var x=S.length>0;var T="multipart/form-data";var N=a.attr("enctype")==T||a.attr("encoding")==T;var C=t.fileapi&&t.formdata;s("fileAPI :"+C);var k=(x||N)&&!C;var L;if(r.iframe!==false&&(r.iframe||k)){if(r.closeKeepAlive){e.get(r.closeKeepAlive,function(){L=_(v)})}else{L=_(v)}}else{if((x||N)&&C){L=M(v)}else{L=e.ajax(r)}}a.removeData("jqxhr").data("jqxhr",L);for(var A=0;A<h.length;A++){h[A]=null}this.trigger("form-submit-notify",[this,r]);return this};e.fn.ajaxForm=function(t){t=t||{};t.delegation=t.delegation&&e.isFunction(e.fn.on);if(!t.delegation&&this.length===0){var n={s:this.selector,c:this.context};if(!e.isReady&&n.s){s("DOM not ready, queuing ajaxForm");e(function(){e(n.s,n.c).ajaxForm(t)});return this}s("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(t.delegation){e(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,t,r).on("click.form-plugin",this.selector,t,i);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",t,r).bind("click.form-plugin",t,i)};e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(n,r){var i=[];if(this.length===0){return i}var s=this[0];var o=n?s.getElementsByTagName("*"):s.elements;if(!o){return i}var u,a,f,l,c,h,p;for(u=0,h=o.length;u<h;u++){c=o[u];f=c.name;if(!f||c.disabled){continue}if(n&&s.clk&&c.type=="image"){if(s.clk==c){i.push({name:f,value:e(c).val(),type:c.type});i.push({name:f+".x",value:s.clk_x},{name:f+".y",value:s.clk_y})}continue}l=e.fieldValue(c,true);if(l&&l.constructor==Array){if(r){r.push(c)}for(a=0,p=l.length;a<p;a++){i.push({name:f,value:l[a]})}}else{if(t.fileapi&&c.type=="file"){if(r){r.push(c)}var v=c.files;if(v.length){for(a=0;a<v.length;a++){i.push({name:f,value:v[a],type:c.type})}}else{i.push({name:f,value:"",type:c.type})}}else{if(l!==null&&typeof l!="undefined"){if(r){r.push(c)}i.push({name:f,value:l,type:c.type,required:c.required})}}}}if(!n&&s.clk){var m=e(s.clk),y=m[0];f=y.name;if(f&&!y.disabled&&y.type=="image"){i.push({name:f,value:m.val()});i.push({name:f+".x",value:s.clk_x},{name:f+".y",value:s.clk_y})}}return i};e.fn.formSerialize=function(t){return e.param(this.formToArray(t))};e.fn.fieldSerialize=function(t){var n=[];this.each(function(){var r=this.name;if(!r){return}var i=e.fieldValue(this,t);if(i&&i.constructor==Array){for(var s=0,o=i.length;s<o;s++){n.push({name:r,value:i[s]})}}else{if(i!==null&&typeof i!="undefined"){n.push({name:this.name,value:i})}}});return e.param(n)};e.fn.fieldValue=function(t){for(var n=[],r=0,i=this.length;r<i;r++){var s=this[r];var o=e.fieldValue(s,t);if(o===null||typeof o=="undefined"||o.constructor==Array&&!o.length){continue}if(o.constructor==Array){e.merge(n,o)}else{n.push(o)}}return n};e.fieldValue=function(t,n){var r=t.name,i=t.type,s=t.tagName.toLowerCase();if(n===undefined){n=true}if(n&&(!r||t.disabled||i=="reset"||i=="button"||(i=="checkbox"||i=="radio")&&!t.checked||(i=="submit"||i=="image")&&t.form&&t.form.clk!=t||s=="select"&&t.selectedIndex==-1)){return null}if(s=="select"){var o=t.selectedIndex;if(o<0){return null}var u=[],a=t.options;var f=i=="select-one";var l=f?o+1:a.length;for(var c=f?o:0;c<l;c++){var h=a[c];if(h.selected){var p=h.value;if(!p){p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value}if(f){return p}u.push(p)}}return u}return e(t).val()};e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})};e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();if(n.test(r)||i=="textarea"){this.value=""}else{if(r=="checkbox"||r=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(r=="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone(true))}else{e(this).val("")}}else{if(t){if(t===true&&/hidden/.test(r)||typeof t=="string"&&e(this).is(t)){this.value=""}}}}}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};e.fn.enable=function(e){if(e===undefined){e=true}return this.each(function(){this.disabled=!e})};e.fn.selected=function(t){if(t===undefined){t=true}return this.each(function(){var n=this.type;if(n=="checkbox"||n=="radio"){this.checked=t}else{if(this.tagName.toLowerCase()=="option"){var r=e(this).parent("select");if(t&&r[0]&&r[0].type=="select-one"){r.find("option").selected(false)}this.selected=t}}})};e.fn.ajaxSubmit.debug=false})(typeof jQuery!="undefined"?jQuery:window.Zepto)}})(jQuery);jQuery(document).ready(function(){jQuery(document).on("click",function(){if(jQuery(".userpro-modal-inner").length>0){jQuery(".userpro-modal-inner").remove()}});jQuery(document).on("click","div.userpro-modal-inner i.userpro-icon-remove",function(e){jQuery(".userpro-modal-inner").remove()});jQuery(document).on("click",".userpro-bar-success i, .userpro-bar-failed i",function(e){jQuery(this).parent().slideToggle("fast")});jQuery(document).on("mouseenter",".userpro-field",function(e){if(jQuery(this).find(".userpro-field-icon").length){jQuery(this).find(".userpro-field-icon").addClass("icon-active")}});jQuery(document).on("mouseleave",".userpro-field",function(e){if(jQuery(this).find(".userpro-field-icon").length){jQuery(this).find(".userpro-field-icon").removeClass("icon-active")}});jQuery(document).on("click","a.userpro-alert-close",function(e){jQuery(this).parents(".userpro-alert").slideUp(200)});jQuery(document).on("mouseenter",".userpro-online-i",function(e){jQuery(this).find(".userpro-online-i-thumb").fadeTo("fast",.7)});jQuery(document).on("mouseleave",".userpro-online-i",function(e){jQuery(this).find(".userpro-online-i-thumb").fadeTo("fast",1)});jQuery(document).on("mouseenter",".userpro-post:not(.userpro-post-compact)",function(e){jQuery(this).find("span.shadowed").stop().animate({height:"100%"},function(){jQuery(this).parent().find("span.iconed").fadeIn("slow")})});jQuery(document).on("mouseleave",".userpro-post:not(.userpro-post-compact)",function(e){jQuery(this).find("span.iconed").hide();jQuery(this).find("span.shadowed").stop().animate({height:"0"},200)});jQuery(document).on("click",".userpro-alert-edit",function(e){jQuery(".userpro-alert-input").fadeIn()});jQuery(document).on("click",".userpro-alert input[type=button]",function(e){var t=jQuery(this).parents(".userpro-alert");var n=jQuery(this).parents(".userpro-alert").find(".userpro-alert-content");var r=jQuery(this).parents(".userpro-alert").find("input[type=text]").val();var i=jQuery(this).parents(".userpro-alert").data("user_id");jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_save_userdata&field=userpro_alert&value="+r+"&user_id="+i,dataType:"JSON",type:"POST",success:function(e){if(n.length==0){t.prepend('<div class="userpro-alert-content">'+e.res+"</div>")}else{n.html(e.res)}t.find(".userpro-alert-input").fadeOut()}})});jQuery(document).on("click",".userpro-social-facebook",function(e){Login(jQuery(this))});jQuery(document).on("click","*[class^='popup-'], a[href='#']",function(e){e.preventDefault();return false});jQuery(document).on("click",".userpro-overlay, a.userpro-close-popup",function(e){jQuery(".userpro-overlay").fadeOut(function(){jQuery(".userpro-overlay").remove()});jQuery(".userpro-overlay-inner").fadeOut(function(){jQuery(".userpro-overlay-inner").remove()})});jQuery(document).on("submit",".userpro form:not(.userpro-search-form)",function(e){e.preventDefault();return false});jQuery(document).on("mouseenter",".userpro-user",function(e){if(jQuery(this).data("pic_size")>100){jQuery(this).find("span").animate({top:0},200)}else{jQuery(this).find("a.userpro-user-img").fadeTo("fast",.7)}jQuery(this).find(".userpro-user-link").css({opacity:1})});jQuery(document).on("mouseleave",".userpro-user",function(e){if(jQuery(this).data("pic_size")>100){jQuery(this).find("span").animate({top:"-"+jQuery(this).parents(".userpro").data("memberlist_pic_size")+"px"},50)}else{jQuery(this).find("a.userpro-user-img").fadeTo(1,1)}jQuery(this).find(".userpro-user-link").css({opacity:0})});jQuery(document).on("click","a,input",function(e){if(jQuery(this).data("template")){form_data=jQuery(this).parents(".userpro").data();var t=jQuery(".userpro").length;shortcode="[userpro id="+t;jQuery.each(form_data,function(e,t){shortcode=shortcode+" "+e+"="+'"'+t+'"'});shortcode=shortcode+"]";shortcode=shortcode.replace(/(template=)"(.*?)"/,'template="'+jQuery(this).data("template")+'"');if(jQuery(this).data("up_username")){up_username=jQuery(this).data("up_username")}else{up_username=0}if(jQuery(this).data("force_redirect_uri")){force_redirect_uri=jQuery(this).data("force_redirect_uri")}else{force_redirect_uri=0}post_id=jQuery(this).parents(".userpro").data("post_id");userpro_shortcode_template("update",jQuery(this).parents(".userpro"),shortcode,up_username,force_redirect_uri,post_id)}});jQuery(".userpro-clear-search").click(function(){var e=jQuery(this).parents(".userpro-search-form");e.find("input[type=text]").val("");e.find("select").val("");e.trigger("submit")});jQuery(document).on("submit",".userpro form:not(.userpro-search-form)",function(e){var t=jQuery(this);if(t.data("action")!="login"&&t.data("action")!="reset"&&t.data("action")!="delete"){t.find("input,textarea").each(function(){jQuery(this).trigger("blur")});t.find("select").each(function(){jQuery(this).trigger("change")});t.find("select[data-required=1]").each(function(){if(!jQuery(this).val()){userpro_client_error_irregular(jQuery(this),jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}else{userpro_client_valid(jQuery(this).find("select"),jQuery(this).parents(".userpro-input"))}});t.find(".userpro-radio-wrap[data-required=1]").each(function(){if(!jQuery(this).find("input:radio").is(":checked")){userpro_client_error_irregular("",jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}else{userpro_client_valid(jQuery(this).find("input:radio"),jQuery(this).parents(".userpro-input"))}});t.find(".userpro-checkbox-wrap[data-required=1]").each(function(){if(!jQuery(this).find("input:checkbox").is(":checked")){userpro_client_error_irregular("",jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}else{userpro_client_valid(jQuery(this).find("input:checkbox"),jQuery(this).parents(".userpro-input"))}});t.find(".userpro-maxwidth[data-required=1]").each(function(){if(!jQuery(this).find("input:checkbox").is(":checked")){userpro_client_error_irregular("",jQuery(this).find(".userpro-input"),jQuery(this).data("required_msg"))}else{userpro_client_valid(jQuery(this).find("input:checkbox"),jQuery(this).find(".userpro-input"))}});if(t.find(".userpro-warning").length>0){t.find(".userpro-section").each(function(){jQuery(this).find(".userpro-section-warning").remove();if(jQuery(this).nextUntil("div.userpro-column").find(".userpro-warning").length>0){jQuery(this).css({display:"block"});jQuery(this).append('<ins class="userpro-section-warning">Please correct fields</ins>');jQuery(this).find(".userpro-section-warning").fadeIn()}});t.find(".userpro-warning:first").parents(".userpro-input").find("input").focus();return false}else{t.find(".userpro-section").each(function(){jQuery(this).find(".userpro-section-warning").remove()})}}else{userpro_clear_form(t)}userpro_init_load(t);form_data=jQuery(this).parents(".userpro").data();shortcode="[userpro";jQuery.each(form_data,function(e,t){shortcode=shortcode+" "+e+"="+'"'+t+'"'});shortcode=shortcode+"]";if(jQuery(this).parents(".userpro").find(".userpro-profile-img-btn a").data("up_username")){up_username=jQuery(this).parents(".userpro").find(".userpro-profile-img-btn a").data("up_username")}else{up_username=0}jQuery.ajax({url:userpro_ajax_url,data:t.serialize()+"&action=userpro_process_form&template="+form_data["template"]+"&group="+form_data[form_data["template"]+"_group"]+"&shortcode="+shortcode+"&up_username="+up_username,dataType:"JSON",type:"POST",error:function(e,n,r){userpro_end_load(t);alert(r)},success:function(e){userpro_end_load(t);if(e&&e.error){var n=0;jQuery.each(e.error,function(e,r){n++;element=t.find('.userpro-field[data-key="'+e+'"]').find("input");parent=element.parents(".userpro-input");if(element.attr("type")=="radio"||element.attr("type")=="checkbox"){userpro_client_error_irregular(element,parent,r)}else{if(n==1)element.focus();userpro_client_error(element,parent,r)}if(e=="userpro_editor"){if(t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").length){t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").html(r);t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").css({top:"0px",opacity:"1"})}else{t.find(".userpro-field-editor .userpro-input").append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+r+"</div>");t.find(".userpro-field-editor .userpro-input").find(".userpro-warning").css({top:"0px",opacity:"1"})}}})}if(e&&e.custom_message&&e.custom_message!=""){t.parents(".userpro").find(".userpro-body").find(".userpro-message").remove();t.parents(".userpro").find(".userpro-body").prepend(e.custom_message)}if(e&&e.redirect_uri&&e.redirect_uri!=""){if(e.redirect_uri=="refresh"){document.location.href=jQuery(location).attr("href")}else{document.location.href=e.redirect_uri}}if(form_data["template"]=="publish"&&e.modal_msg){userpro_overlay_confirmation(e.modal_msg)}if(e&&e.template&&e.template!=""){t.parents(".userpro").replaceWith(e.template);if(form_data["template"]=="edit"){userpro_overlay_confirmation(t.parents(".userpro").data("modal_profile_saved"))}}if(!e&&!e.error&&form_data["template"]=="publish"){t.find("input,textarea").not("input[type=submit],input[type=hidden],input[type=button]").val("");t.find("div.userpro-pic-post_featured_image img").addClass("no_feature");t.find(".userpro-button.red").remove();t.find(".icon-ok").remove()}userpro_responsive();userpro_chosen();userpro_fluid_videos();userpro_ajax_picupload();jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))});userpro_overlay_center(".userpro-overlay-inner")}})});jQuery(document).on("blur",".userpro[data-template=publish] textarea, .userpro[data-template=publish] input, .userpro[data-template=register] input, .userpro[data-template=edit] input, .userpro[data-template=change] input",function(e){var t=jQuery(this);var n=t.parents(".userpro-input");var r=t.data("required");var i=t.data("ajaxcheck");var s=t.parents(".userpro").find("input[type=password]:first");var o=t.parents(".userpro").find("input[type=password]:first").val();if(r==1){if(t.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(t,n,t.parents(".userpro").data("required_text"))}else if(i){userpro_side_validate(t,t.val(),i)}else{userpro_client_valid(t,n)}if(jQuery(this).attr("type")=="password"){if(t.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(t,n,t.parents(".userpro").data("required_text"))}else if(t.val().length<8){userpro_client_error(t,n,t.parents(".userpro").data("password_too_short"))}else if(userpro_password_strength_meter(t)<3){userpro_client_error(t,n,t.parents(".userpro").data("password_not_strong"))}else{userpro_client_valid(t,n)}}}else if(t.attr("type")=="password"&&s&&o&&s.parents(".userpro-input").find(".userpro-warning").length==0){if(t.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(t,n,t.parents(".userpro").data("required_text"))}else if(t.val().length<8){userpro_client_error(t,n,t.parents(".userpro").data("password_too_short"))}else if(userpro_password_strength_meter(t)<3){userpro_client_error(t,n,t.parents(".userpro").data("password_not_strong"))}else if(o!=t.val()){userpro_client_error(t,n,jQuery(this).parents(".userpro").data("passwords_do_not_match"))}else{userpro_client_valid(t,n)}}else if(t.attr("type")=="password"&&o||t.attr("type")=="password"&&t.parents(".userpro").data("template")=="change"){if(t.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(t,n,t.parents(".userpro").data("required_text"))}else if(t.val().length<8){userpro_client_error(t,n,t.parents(".userpro").data("password_too_short"))}else if(userpro_password_strength_meter(t)<3){userpro_client_error(t,n,t.parents(".userpro").data("password_not_strong"))}else if(o!=t.val()){userpro_client_error(t,n,jQuery(this).parents(".userpro").data("passwords_do_not_match"))}else{userpro_client_valid(t,n)}}else if(t.attr("type")=="password"&&o==""&&t.val()==""){userpro_clear_input(t)}else if(i&&t.val()){userpro_side_validate(t,t.val(),i)}else if(i&&!t.val()){userpro_clear_input(t)}else if(t.val()&&t.data("type")=="antispam"){userpro_clear_input(t)}else if(!i&&t.attr("type")=="text"){userpro_clear_input(t)}});jQuery(document).on("change",".userpro[data-template=register] select",function(e){var t=jQuery(this);var n=t.parents(".userpro-input");var r=t.data("required");if(r==1){if(t.val()==0){userpro_client_error(t,n,t.parents(".userpro").data("required_text"))}else{userpro_client_valid(t,n)}}});jQuery(document).on("keyup keydown",".userpro[data-template=register] input[type=password][data-required=1]",function(e){userpro_password_strength_meter(jQuery(this))});jQuery(document).on("keyup keydown",".userpro[data-template=edit] input[type=password]:first",function(e){userpro_password_strength_meter(jQuery(this))});jQuery(document).on("keyup keydown",".userpro[data-template=change] input[type=password]:first",function(e){userpro_password_strength_meter(jQuery(this))});jQuery(document).on("click",".userpro-collapsible-1",function(e){if(jQuery(this).nextUntil("div.userpro-column").is(":hidden")){jQuery(this).nextUntil("div.userpro-column").show();jQuery(this).removeClass("userpro-collapsed-1").addClass("userpro-collapsed-0");jQuery(this).find("span").html('<i class="userpro-icon-angle-down"></i>');if(jQuery(this).parents(".userpro").data("keep_one_section_open")==1){jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).nextUntil("div.userpro-column").hide();jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).find("span").html('<i class="userpro-icon-angle-right"></i>');jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).removeClass("userpro-collapsed-0").addClass("userpro-collapsed-1")}}else{jQuery(this).nextUntil("div.userpro-column").hide();jQuery(this).find("span").html('<i class="userpro-icon-angle-right"></i>');jQuery(this).removeClass("userpro-collapsed-0").addClass("userpro-collapsed-1")}userpro_overlay_center(".userpro-overlay-inner")});jQuery(document).on("click","*[class^='popup-'],*[class^='popup-'] a",function(e){var t="";if(jQuery(this).data("up_username")){t=jQuery(this).data("up_username")}if(/popup/.test(jQuery(this).attr("class"))==false){var n=jQuery(this).parents("li").attr("class").split("-")[1].match(/\w*/)}else{var n=jQuery(this).attr("class").split("-")[1].match(/\w*/)}var r=jQuery(".userpro").length;shortcode="[userpro id="+r+" template="+n+"";jQuery.each(jQuery(this).data(),function(e,t){shortcode=shortcode+" "+e+"="+'"'+t+'"'});shortcode=shortcode+"]";if(jQuery("body").find(".userpro-overlay").length==0){jQuery("body").append('<div class="userpro-overlay"/><div class="userpro-overlay-inner"/>');jQuery("body").append('<div id="spinner" class="spinner"></div>')}userpro_shortcode_template("insert",jQuery(".userpro-overlay-inner"),shortcode,t);if(n=="request_verify"){jQuery(".popup-request_verify").remove()}});jQuery(document).on("change","input[name^='gender']",function(e){this_form=jQuery(this).parents(".userpro");if(this_form.find("*[data-key=profilepicture]").find("input:hidden").val()==""){this_form.find("*[data-key=profilepicture]").find("img").attr("src",jQuery(this).parents(".userpro").data("default_avatar_"+jQuery(this).val().toLowerCase()))}});jQuery(window).smartresize(function(){userpro_overlay_center(".userpro-overlay-inner");userpro_responsive();userpro_fluid_videos()});userpro_responsive();setTimeout(function(){userpro_fluid_videos()},3e3);userpro_chosen();userpro_ajax_picupload();jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))});jQuery(document).on("click",".userpro form:not(.userpro-search-form) .userpro-input .userpro-button.red",function(e){jQuery(this).parents(".userpro-input").find(".userpro-pic-none").show();if(jQuery(this).parents(".userpro-input").find("img.default").length){jQuery(this).parents(".userpro-input").find("img.default").show();jQuery(this).parents(".userpro-input").find("img.modified").remove()}else{if(jQuery(this).parents(".userpro").find("div.userpro-pic-post_featured_image").length){jQuery(this).parents(".userpro-input").find("img.modified").addClass("no_feature").attr("src",jQuery(this).parents(".userpro-input").data("placeholder"))}else{jQuery(this).parents(".userpro-input").find("img.modified").attr("src","")}}if(jQuery(this).parents(".userpro-input").find(".userpro-file-input").length){jQuery(this).parents(".userpro-input").find(".userpro-file-input").remove()}jQuery(this).parents(".userpro-input").find("input:hidden").val("");jQuery(this).fadeOut();jQuery(this).parents(".userpro-input").find("input:hidden").each(function(){jQuery(this).trigger("blur")})});jQuery(document).on("click",".userpro input[type=radio]",function(e){var t=jQuery(this).parents(".userpro-input");t.find("span").removeClass("checked");jQuery(this).parents("label").find("span").addClass("checked")});jQuery(document).on("change",".userpro input[type=checkbox]",function(e){if(jQuery(this).is(":checked")){jQuery(this).parents("label").find("span").addClass("checked")}else{jQuery(this).parents("label").find("span").removeClass("checked")}});jQuery(document).on("click",".userpro-warning",function(e){jQuery(this).parents(".userpro-input").find("input").focus()})});

// jSon2
var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o,u=gap,a=t[e];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),"function"==typeof rep&&(a=rep.call(t,e,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(a)){for(s=a.length,n=0;s>n;n+=1)o[n]=str(n,a)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+u+"]":"["+o.join(",")+"]",gap=u,i}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;s>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,a),i&&o.push(quote(r)+(gap?": ":":")+i));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&o.push(quote(r)+(gap?": ":":")+i));return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+u+"}":"{"+o.join(",")+"}",gap=u,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();

// Google Maps
//window.google=window.google||{};google.maps=google.maps||{};(function(){function e(e){document.write("<"+'script src="'+e+'"'+' type="text/javascript"><'+"/script>")}var t=google.maps.modules={};google.maps.__gjsload__=function(e,n){t[e]=n};google.maps.Load=function(e){delete google.maps.Load;e([.009999999776482582,[[["http://mt0.googleapis.com/vt?lyrs=m@271000000&src=api&hl=en-GB&","http://mt1.googleapis.com/vt?lyrs=m@271000000&src=api&hl=en-GB&"],null,null,null,null,"m@271000000",["https://mts0.google.com/vt?lyrs=m@271000000&src=api&hl=en-GB&","https://mts1.google.com/vt?lyrs=m@271000000&src=api&hl=en-GB&"]],[["http://khm0.googleapis.com/kh?v=156&hl=en-GB&","http://khm1.googleapis.com/kh?v=156&hl=en-GB&"],null,null,null,1,"156",["https://khms0.google.com/kh?v=156&hl=en-GB&","https://khms1.google.com/kh?v=156&hl=en-GB&"]],[["http://mt0.googleapis.com/vt?lyrs=h@271000000&src=api&hl=en-GB&","http://mt1.googleapis.com/vt?lyrs=h@271000000&src=api&hl=en-GB&"],null,null,null,null,"h@271000000",["https://mts0.google.com/vt?lyrs=h@271000000&src=api&hl=en-GB&","https://mts1.google.com/vt?lyrs=h@271000000&src=api&hl=en-GB&"]],[["http://mt0.googleapis.com/vt?lyrs=t@132,r@271000000&src=api&hl=en-GB&","http://mt1.googleapis.com/vt?lyrs=t@132,r@271000000&src=api&hl=en-GB&"],null,null,null,null,"t@132,r@271000000",["https://mts0.google.com/vt?lyrs=t@132,r@271000000&src=api&hl=en-GB&","https://mts1.google.com/vt?lyrs=t@132,r@271000000&src=api&hl=en-GB&"]],null,null,[["http://cbk0.googleapis.com/cbk?","http://cbk1.googleapis.com/cbk?"]],[["http://khm0.googleapis.com/kh?v=84&hl=en-GB&","http://khm1.googleapis.com/kh?v=84&hl=en-GB&"],null,null,null,null,"84",["https://khms0.google.com/kh?v=84&hl=en-GB&","https://khms1.google.com/kh?v=84&hl=en-GB&"]],[["http://mt0.googleapis.com/mapslt?hl=en-GB&","http://mt1.googleapis.com/mapslt?hl=en-GB&"]],[["http://mt0.googleapis.com/mapslt/ft?hl=en-GB&","http://mt1.googleapis.com/mapslt/ft?hl=en-GB&"]],[["http://mt0.googleapis.com/vt?hl=en-GB&","http://mt1.googleapis.com/vt?hl=en-GB&"]],[["http://mt0.googleapis.com/mapslt/loom?hl=en-GB&","http://mt1.googleapis.com/mapslt/loom?hl=en-GB&"]],[["https://mts0.googleapis.com/mapslt?hl=en-GB&","https://mts1.googleapis.com/mapslt?hl=en-GB&"]],[["https://mts0.googleapis.com/mapslt/ft?hl=en-GB&","https://mts1.googleapis.com/mapslt/ft?hl=en-GB&"]],[["https://mts0.googleapis.com/mapslt/loom?hl=en-GB&","https://mts1.googleapis.com/mapslt/loom?hl=en-GB&"]]],["en-GB","US",null,0,null,null,"http://maps.gstatic.com/mapfiles/","http://csi.gstatic.com","https://maps.googleapis.com","http://maps.googleapis.com",null,"https://maps.google.com"],["http://maps.gstatic.com/maps-api-v3/api/js/17/13/intl/en_gb","3.17.13"],[1028875187],1,null,null,null,null,null,"",null,null,0,"http://khm.googleapis.com/mz?v=156&",null,"https://earthbuilder.googleapis.com","https://earthbuilder.googleapis.com",null,"http://mt.googleapis.com/vt/icon",[["http://mt0.googleapis.com/vt","http://mt1.googleapis.com/vt"],["https://mts0.googleapis.com/vt","https://mts1.googleapis.com/vt"],[null,[[0,"m",271e6]],[null,"en-GB","US",null,18,null,null,null,null,null,null,[[47],[37,[["smartmaps"]]]]],0],[null,[[0,"m",271e6]],[null,"en-GB","US",null,18,null,null,null,null,null,null,[[47],[37,[["smartmaps"]]]]],3],[null,[[0,"m",271e6]],[null,"en-GB","US",null,18,null,null,null,null,null,null,[[50],[37,[["smartmaps"]]]]],0],[null,[[0,"m",271e6]],[null,"en-GB","US",null,18,null,null,null,null,null,null,[[50],[37,[["smartmaps"]]]]],3],[null,[[4,"t",132],[0,"r",132e6]],[null,"en-GB","US",null,18,null,null,null,null,null,null,[[63],[37,[["smartmaps"]]]]],0],[null,[[4,"t",132],[0,"r",132e6]],[null,"en-GB","US",null,18,null,null,null,null,null,null,[[63],[37,[["smartmaps"]]]]],3],[null,null,[null,"en-GB","US",null,18],0],[null,null,[null,"en-GB","US",null,18],3],[null,null,[null,"en-GB","US",null,18],6],[null,null,[null,"en-GB","US",null,18],0],["https://mts0.google.com/vt","https://mts1.google.com/vt"],"/maps/vt",271e6,132],2,500,["http://geo0.ggpht.com/cbk","http://www.gstatic.com/landmark/tour","http://www.gstatic.com/landmark/config","/maps/preview/reveal?authuser=0","/maps/preview/log204","/gen204?tbm=map","http://static.panoramio.com.storage.googleapis.com/photos/"],["https://www.google.com/maps/api/js/widget?pb=!1m2!1u17!2s13!2sen-GB!3sUS","https://www.google.com/maps/api/js/slave_widget?pb=!1m2!1u17!2s13"],0],n)};var n=(new Date).getTime();e("http://maps.gstatic.com/maps-api-v3/api/js/17/13/intl/en_gb/main.js")})();

/* <![CDATA[ */
var wpuf_frontend = {"ajaxurl":"http:\/\/localhost\/gv\/wp-admin\/admin-ajax.php","error_message":"Please fix the errors to proceed","nonce":"025ce160ce"};
/* ]]> */

// WPUF Form
(function(e){var t={init:function(){e(".wpuf-form").on("click","img.wpuf-clone-field",this.cloneField);e(".wpuf-form").on("click","img.wpuf-remove-field",this.removeField);e(".wpuf-form").on("click","a.wpuf-delete-avatar",this.deleteAvatar);e(".wpuf-form").on("click","a#wpuf-post-draft",this.draftPost);e(".wpuf-form-add").on("submit",this.formSubmit);e("form#post").on("submit",this.adminPostSubmit)},cloneField:function(t){t.preventDefault();var n=e(this).closest("tr");var r=n.clone();r.find("input").val("");r.find(":checked").attr("checked","");n.after(r)},removeField:function(){var t=e(this).closest("tr");var n=t.siblings().andSelf().length;if(n>1){t.remove()}},adminPostSubmit:function(n){n.preventDefault();var r=e(this),i=t.validateForm(r);if(i){return true}},draftPost:function(t){t.preventDefault();var n=e(this),r=e(this).closest("form"),i=r.serialize()+"&action=wpuf_draft_post",s=r.find('input[type="hidden"][name="post_id"]').val();var o=[],u,a;e(".wpuf-rich-validation").each(function(t,n){u=e(n).data("id");a=e.trim(tinyMCE.get(u).getContent());o.push(u+"="+encodeURIComponent(a))});i=i+"&"+o.join("&");n.after(' <span class="wpuf-loading"></span>');e.post(wpuf_frontend.ajaxurl,i,function(t){if(typeof s==="undefined"){var i='<input type="hidden" name="post_id" value="'+t.post_id+'">';i+='<input type="hidden" name="post_date" value="'+t.date+'">';i+='<input type="hidden" name="post_author" value="'+t.post_author+'">';i+='<input type="hidden" name="comment_status" value="'+t.comment_status+'">';r.append(i)}n.next("span.wpuf-loading").remove();n.after('<span class="wpuf-draft-saved">&nbsp; Post Saved</span>');e(".wpuf-draft-saved").delay(2500).fadeOut("fast",function(){e(this).remove()})})},formSubmit:function(n){n.preventDefault();var r=e(this),i=r.find("input[type=submit]"),s=t.validateForm(r);if(s){r.find("li.wpuf-submit").append('<span class="wpuf-loading"></span>');i.attr("disabled","disabled").addClass("button-primary-disabled");e.post(wpuf_frontend.ajaxurl,s,function(t){if(t.success){if(t.show_message==true){r.before('<div class="wpuf-success">'+t.message+"</div>");r.slideUp("fast",function(){r.remove()});e("html, body").animate({scrollTop:e(".wpuf-success").offset().top-100},"fast")}else{window.location=t.redirect_to}}else{i.removeAttr("disabled")}i.removeClass("button-primary-disabled");r.find("span.wpuf-loading").remove()})}},validateForm:function(n){var r,i="",s=false,o=[];t.removeErrors(n);t.removeErrorNotice(n);var u=n.find('[data-required="yes"]');u.each(function(n,r){var i=e(r).data("type");a="";switch(i){case"rich":var o=e(r).data("id");a=e.trim(tinyMCE.get(o).getContent());if(a===""){s=true;t.markError(r)}break;case"textarea":case"text":a=e.trim(e(r).val());if(a===""){s=true;t.markError(r)}break;case"select":a=e(r).val();if(!a||a==="-1"){s=true;t.markError(r)}break;case"multiselect":a=e(r).val();if(a===null||a.length===0){s=true;t.markError(r)}break;case"tax-checkbox":var u=e(r).children().find("input:checked").length;if(!u){s=true;t.markError(r)}break;case"radio":var u=e(r).parent().find("input:checked").length;if(!u){s=true;t.markError(r)}break;case"file":var u=e(r).next("ul").children().length;if(!u){s=true;t.markError(r)}break;case"email":var a=e(r).val();if(a!==""){if(!t.isValidEmail(a)){s=true;t.markError(r)}}break;case"url":var a=e(r).val();if(a!==""){if(!t.isValidURL(a)){s=true;t.markError(r)}}break}});var a=e("#textarea").val();if(a.length<10){s=true}if(s){t.addErrorNotice(n);return false}var f=n.serialize(),l=[];e(".wpuf-rich-validation").each(function(t,n){r=e(n).data("id");val=e.trim(tinyMCE.get(r).getContent());l.push(r+"="+encodeURIComponent(val))});f=f+"&"+l.join("&");return f},addErrorNotice:function(e){},removeErrorNotice:function(e){},markError:function(e){},removeErrors:function(e){},isValidEmail:function(e){var t=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return t.test(e)},isValidURL:function(e){var t=new RegExp("^(http://www.|https://www.|ftp://www.|www.|http://|https://){1}([0-9A-Za-z]+.)");return t.test(e)},insertImage:function(){var t="wpuf-insert-image",n="wpuf-insert-image-container";if(!e("#"+t).length){return}var r=new plupload.Uploader({runtimes:"html5,html4",browse_button:t,container:n,multipart:true,multipart_params:{action:"wpuf_insert_image"},multiple_queues:false,multi_selection:false,urlstream_upload:true,file_data_name:"wpuf_file",max_file_size:"2mb",url:wpuf_frontend_upload.plupload.url,flash_swf_url:wpuf_frontend_upload.flash_swf_url,filters:[{title:"Allowed Files",extensions:"jpg,jpeg,gif,png,bmp"}]});r.bind("Init",function(e,t){});r.bind("FilesAdded",function(t,r){var i=e("#"+n);e.each(r,function(e,t){i.append('<div class="upload-item" id="'+t.id+'"><div class="progress progress-striped active"><div class="bar"></div></div></div>')});t.refresh();t.start()});r.bind("QueueChanged",function(e){r.start()});r.bind("UploadProgress",function(t,n){var r=e("#"+n.id);e(".bar",r).css({width:n.percent+"%"});e(".percent",r).html(n.percent+"%")});r.bind("Error",function(e,t){alert("Error #"+error.code+": "+error.message)});r.bind("FileUploaded",function(t,n,r){e("#"+n.id).remove();if(r.response!=="error"){var i=false;if(typeof tinyMCE!=="undefined"){i=tinyMCE.execInstanceCommand("post_content","mceInsertContent",false,r.response)}var s=e("#post_content");s.val(s.val()+r.response)}else{alert("Something went wrong")}});r.init()},deleteAvatar:function(t){t.preventDefault();if(confirm(e(this).data("confirm"))){e.post(wpuf_frontend.ajaxurl,{action:"wpuf_delete_avatar",_wpnonce:wpuf_frontend.nonce},function(){window.location.reload()})}}};e(function(){t.init();t.insertImage();e("ul.wpuf-payment-gateways").on("click","input[type=radio]",function(t){e(".wpuf-payment-instruction").slideUp(250);e(this).parents("li").find(".wpuf-payment-instruction").slideDown(250)});if(!e("ul.wpuf-payment-gateways li").find("input[type=radio]").is(":checked")){e("ul.wpuf-payment-gateways li").first().find("input[type=radio]").click()}else{var n=e("ul.wpuf-payment-gateways li").find("input[type=radio]:checked");n.parents("li").find(".wpuf-payment-instruction").slideDown(250)}})})(jQuery);

// plupload
!function(e,t){"use strict";function n(e,t){for(var n,r=[],i=0;i<e.length;++i){if(n=u[e[i]]||s(e[i]),!n)throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){u[e]=i.apply(null,arguments)})}function i(e){return!!u[e]}function s(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){for(var r=0;r<n.length;r++){for(var i=e,s=n[r],o=s.split(/[.\/]/),a=0;a<o.length-1;++a)i[o[a]]===t&&(i[o[a]]={}),i=i[o[a]];i[o[o.length-1]]=u[s]}}var u={},a="moxie/core/utils/Basic",f="moxie/core/I18n",l="moxie/core/utils/Mime",c="moxie/core/utils/Env",h="moxie/core/utils/Dom",p="moxie/core/Exceptions",d="moxie/core/EventTarget",v="moxie/core/utils/Encode",m="moxie/runtime/Runtime",g="moxie/runtime/RuntimeClient",y="moxie/file/Blob",b="moxie/file/File",w="moxie/file/FileInput",E="moxie/file/FileDrop",S="moxie/runtime/RuntimeTarget",x="moxie/file/FileReader",T="moxie/core/utils/Url",N="moxie/file/FileReaderSync",C="moxie/xhr/FormData",k="moxie/xhr/XMLHttpRequest",L="moxie/runtime/Transporter",A="moxie/image/Image",O="moxie/runtime/html5/Runtime",M="moxie/runtime/html5/file/Blob",_="moxie/core/utils/Events",D="moxie/runtime/html5/file/FileInput",P="moxie/runtime/html5/file/FileDrop",H="moxie/runtime/html5/file/FileReader",B="moxie/runtime/html5/xhr/XMLHttpRequest",j="moxie/runtime/html5/utils/BinaryReader",F="moxie/runtime/html5/image/JPEGHeaders",I="moxie/runtime/html5/image/ExifParser",q="moxie/runtime/html5/image/JPEG",R="moxie/runtime/html5/image/PNG",U="moxie/runtime/html5/image/ImageInfo",z="moxie/runtime/html5/image/MegaPixel",W="moxie/runtime/html5/image/Image",X="moxie/runtime/flash/Runtime",V="moxie/runtime/flash/file/Blob",$="moxie/runtime/flash/file/FileInput",J="moxie/runtime/flash/file/FileReader",K="moxie/runtime/flash/file/FileReaderSync",Q="moxie/runtime/flash/xhr/XMLHttpRequest",G="moxie/runtime/flash/runtime/Transporter",Y="moxie/runtime/flash/image/Image",Z="moxie/runtime/silverlight/Runtime",et="moxie/runtime/silverlight/file/Blob",tt="moxie/runtime/silverlight/file/FileInput",nt="moxie/runtime/silverlight/file/FileDrop",rt="moxie/runtime/silverlight/file/FileReader",it="moxie/runtime/silverlight/file/FileReaderSync",st="moxie/runtime/silverlight/xhr/XMLHttpRequest",ot="moxie/runtime/silverlight/runtime/Transporter",ut="moxie/runtime/silverlight/image/Image",at="moxie/runtime/html4/Runtime",ft="moxie/runtime/html4/file/FileInput",lt="moxie/runtime/html4/file/FileReader",ct="moxie/runtime/html4/xhr/XMLHttpRequest",ht="moxie/runtime/html4/image/Image";r(a,[],function(){var e=function(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(r){var i;return n(arguments,function(s,u){u>0&&n(s,function(n,s){n!==i&&(e(r[s])===e(n)&&~o(e(n),["array","object"])?t(r[s],n):r[s]=n)})}),r},n=function(e,t){var n,r,i,s;if(e){try{n=e.length}catch(o){n=s}if(n===s){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(i=0;n>i;i++)if(t(e[i],i)===!1)return}},r=function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},i=function(t,n){function r(i){"function"===e(t[i])&&t[i](function(e){++i<s&&!e?r(i):n(e)})}var i=0,s=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),r(i)},s=function(e,t){var r=0,i=e.length,s=new Array(i);n(e,function(e,n){e(function(e){if(e)return t(e);var o=[].slice.call(arguments);o.shift(),s[n]=o,r++,r===i&&(s.unshift(null),t.apply(this,s))})})},o=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n}return-1},u=function(t,n){var r=[];"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]);for(var i in t)-1===o(t[i],n)&&r.push(t[i]);return r.length?r:!1},a=function(e,t){var r=[];return n(e,function(e){-1!==o(e,t)&&r.push(e)}),r.length?r:null},f=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},l=function(){var e=0;return function(t){var n=(new Date).getTime().toString(32),r;for(r=0;5>r;r++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}(),c=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},h=function(e){if("string"!=typeof e)return e;var t={t:1099511627776,g:1073741824,m:1048576,k:1024},n;return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),n=e[2],e=+e[1],t.hasOwnProperty(n)&&(e*=t[n]),e};return{guid:l,typeOf:e,extend:t,each:n,isEmptyObj:r,inSeries:i,inParallel:s,inArray:o,arrayDiff:u,arrayIntersect:a,toArray:f,trim:c,parseSizeStr:h}}),r(f,[a],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),r(l,[a,f],function(e,t){var n="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",r={mimes:{},extensions:{},addMimeType:function(e){var t=e.split(/,/),n,r,i;for(n=0;n<t.length;n+=2){for(i=t[n+1].split(/ /),r=0;r<i.length;r++)this.mimes[i[r]]=t[n];this.extensions[t[n]]=i}},extList2mimes:function(t,n){var r=this,i,s,o,u,a=[];for(s=0;s<t.length;s++)for(i=t[s].extensions.split(/\s*,\s*/),o=0;o<i.length;o++){if("*"===i[o])return[];if(u=r.mimes[i[o]])-1===e.inArray(u,a)&&a.push(u);else{if(!n||!/^\w+$/.test(i[o]))return[];a.push("."+i[o])}}return a},mimes2exts:function(t){var n=this,r=[];return e.each(t,function(t){if("*"===t)return r=[],!1;var i=t.match(/^(\w+)\/(\*|\w+)$/);i&&("*"===i[2]?e.each(n.extensions,function(e,t){(new RegExp("^"+i[1]+"/")).test(t)&&[].push.apply(r,n.extensions[t])}):n.extensions[t]&&[].push.apply(r,n.extensions[t]))}),r},mimes2extList:function(n){var r=[],i=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),i=this.mimes2exts(n),r.push({title:t.translate("Files"),extensions:i.length?i.join(","):"*"}),r.mimes=n,r},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return r.addMimeType(n),r}),r(c,[a],function(e){function t(e,t,n){var r=0,i=0,s=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},u=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},a=function(e){return e?isNaN(e)?o[e]||-7:parseInt(e,10):0};for(e=u(e),t=u(t),i=Math.max(e.length,t.length),r=0;i>r;r++)if(e[r]!=t[r]){if(e[r]=a(e[r]),t[r]=a(t[r]),e[r]<t[r]){s=-1;break}if(e[r]>t[r]){s=1;break}}if(!n)return s;switch(n){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return 0>=s;case"==":case"=":case"eq":return 0===s;case"<>":case"!=":case"ne":return 0!==s;case"":case"<":case"lt":return 0>s;default:return null}}var n=function(e){var t="",n="?",r="function",i="undefined",s="object",o="major",u="model",a="name",f="type",l="vendor",c="version",h="architecture",p="console",d="mobile",v="tablet",m={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},g={rgx:function(){for(var t,n=0,o,u,a,f,l,c,h=arguments;n<h.length;n+=2){var p=h[n],d=h[n+1];if(typeof t===i){t={};for(a in d)f=d[a],typeof f===s?t[f[0]]=e:t[f]=e}for(o=u=0;o<p.length;o++)if(l=p[o].exec(this.getUA())){for(a=0;a<d.length;a++)c=l[++u],f=d[a],typeof f===s&&f.length>0?2==f.length?t[f[0]]=typeof f[1]==r?f[1].call(this,c):f[1]:3==f.length?t[f[0]]=typeof f[1]!==r||f[1].exec&&f[1].test?c?c.replace(f[1],f[2]):e:c?f[1].call(this,c,f[2]):e:4==f.length&&(t[f[0]]=c?f[3].call(this,c.replace(f[1],f[2])):e):t[f]=c?c:e;break}if(l)break}return t},str:function(t,r){for(var i in r)if(typeof r[i]===s&&r[i].length>0){for(var o=0;o<r[i].length;o++)if(m.has(r[i][o],t))return i===n?e:i}else if(m.has(r[i],t))return i===n?e:i;return t}},y={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},b={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[a,c,o],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[a,"Opera"],c,o],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[a,c,o],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[a,"IE"],c,o],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[a,"Yandex"],c,o],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[a,/_/g," "],c,o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[a,c,o],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[a,"Dolphin"],c,o],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[a,"Chrome"],c,o],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[a,"Android Browser"],c,o],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[c,o,[a,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[c,o,a],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[a,[o,g.str,y.browser.oldsafari.major],[c,g.str,y.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[a,c,o],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[a,"Netscape"],c,o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[a,c,o]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,c],[/rv\:([\w\.]+).*(gecko)/i],[c,a]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[c,g.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[c,g.str,y.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[a,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],c],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,c],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[a,[c,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[a,c]]},w=function(e){var n=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return g.rgx.apply(this,b.browser)},this.getEngine=function(){return g.rgx.apply(this,b.engine)},this.getOS=function(){return g.rgx.apply(this,b.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n)};return(new w).getResult()}(),r=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType!==t?!1:!0}}catch(r){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==i.browser||i.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(n){var r=[].slice.call(arguments);return r.shift(),"function"===e.typeOf(t[n])?t[n].apply(this,r):!!t[n]}}(),i={can:r,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return i.OS=i.os,i}),r(h,[c],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},n=function(e,t){if(!e.className)return!1;var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return n.test(e.className)},r=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},i=function(e,t){if(e.className){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})}},s=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},o=function(t,n){function r(e){var t,n,r=0,i=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===u.compatMode?u.documentElement:u.body,r=n.left+t.scrollLeft,i=n.top+t.scrollTop),{x:r,y:i}}var i=0,s=0,o,u=document,a,f;if(t=t,n=n||u.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!u.documentMode||u.documentMode<8))return a=r(t),f=r(n),{x:a.x-f.x,y:a.y-f.y};for(o=t;o&&o!=n&&o.nodeType;)i+=o.offsetLeft||0,s+=o.offsetTop||0,o=o.offsetParent;for(o=t.parentNode;o&&o!=n&&o.nodeType;)i-=o.scrollLeft||0,s-=o.scrollTop||0,o=o.parentNode;return{x:i,y:s}},u=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:r,removeClass:i,getStyle:s,getPos:o,getSize:u}}),r(p,[a],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": RuntimeError "+this.code}var r={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,r),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": ImageError "+this.code}var r={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,r),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": FileException "+this.code}var r={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,r),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": DOMException "+this.code}var r={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,r),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),r(d,[p,a],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,r,i,s){var o=this,u;return e=t.trim(e),/\s/.test(e)?(t.each(e.split(/\s+/),function(e){o.addEventListener(e,r,i,s)}),void 0):(e=e.toLowerCase(),i=parseInt(i,10)||0,u=n[this.uid]&&n[this.uid][e]||[],u.push({fn:r,priority:i,scope:s||this}),n[this.uid]||(n[this.uid]={}),n[this.uid][e]=u,void 0)},hasEventListener:function(e){return e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,r){e=e.toLowerCase();var i=n[this.uid]&&n[this.uid][e],s;if(i){if(r){for(s=i.length-1;s>=0;s--)if(i[s].fn===r){i.splice(s,1);break}}else i=[];i.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(r){var i,s,o,u,a={},f=!0,l;if("string"!==t.typeOf(r)){if(u=r,"string"!==t.typeOf(u.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);r=u.type,u.total!==l&&u.loaded!==l&&(a.total=u.total,a.loaded=u.loaded),a.async=u.async||!1}if(-1!==r.indexOf("::")?function(e){i=e[0],r=e[1]}(r.split("::")):i=this.uid,r=r.toLowerCase(),s=n[i]&&n[i][r]){s.sort(function(e,t){return t.priority-e.priority}),o=[].slice.call(arguments),o.shift(),a.type=r,o.unshift(a);var c=[];t.each(s,function(e){o[0].target=e.scope,a.async?c.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,o)===!1)},1)}):c.push(function(t){t(e.fn.apply(e.scope,o)===!1)})}),c.length&&t.inSeries(c,function(e){f=!e})}return f},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;"array"!==t.typeOf(e)&&(e=[e]);for(var r=0;r<e.length;r++)n="on"+e[r],"function"===t.typeOf(this[n])?this.addEventListener(e[r],this[n]):"undefined"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),r(v,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,s,o,u,a,f,l,c,h=0,p=0,d="",v=[];if(!e)return e;e+="";do u=r.indexOf(e.charAt(h++)),a=r.indexOf(e.charAt(h++)),f=r.indexOf(e.charAt(h++)),l=r.indexOf(e.charAt(h++)),c=u<<18|a<<12|f<<6|l,i=255&c>>16,s=255&c>>8,o=255&c,v[p++]=64==f?String.fromCharCode(i):64==l?String.fromCharCode(i,s):String.fromCharCode(i,s,o);while(h<e.length);return d=v.join(""),n?t(d):d},r=function(t,n){if(n&&e(t),"function"==typeof window.btoa)return window.btoa(t);var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,s,o,u,a,f,l,c,h=0,p=0,d="",v=[];if(!t)return t;do i=t.charCodeAt(h++),s=t.charCodeAt(h++),o=t.charCodeAt(h++),c=i<<16|s<<8|o,u=63&c>>18,a=63&c>>12,f=63&c>>6,l=63&c,v[p++]=r.charAt(u)+r.charAt(a)+r.charAt(f)+r.charAt(l);while(h<t.length);d=v.join("");var m=t.length%3;return(m?d.slice(0,m-3):d)+"===".slice(m||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:r}}),r(m,[a,h,d],function(e,t,n){function r(n,i,o,u,a){var f=this,l,c=e.guid(i+"_"),h=a||"browser";n=n||{},s[c]=this,o=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),n.preferred_caps&&(h=r.getMode(u,n.preferred_caps,h)),l=function(){var t={};return{exec:function(e,n,r,i){return l[n]&&(t[e]||(t[e]={context:this,instance:new l[n]}),t[e].instance[r])?t[e].instance[r].apply(this,i):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,r){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(r)})}}}(),e.extend(this,{initialized:!1,uid:c,type:i,mode:r.getMode(u,n.required_caps,h),shimid:c+"_container",clients:0,options:n,can:function(t,n){var i=arguments[2]||o;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(n)&&(t=r.parseCaps(t)),"object"===e.typeOf(t)){for(var s in t)if(!this.can(s,t[s],i))return!1;return!0}return"function"===e.typeOf(i[t])?i[t].call(this,n):n===i[t]},getShimContainer:function(){var n,r=t.get(this.shimid);return r||(n=this.options.container?t.get(this.options.container):document.body,r=document.createElement("div"),r.id=this.shimid,r.className="moxie-shim moxie-shim-"+this.type,e.extend(r.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),n.appendChild(r),n=null),r},getShim:function(){return l},shimExec:function(e,t){var n=[].slice.call(arguments,2);return f.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return f[e]&&f[e][t]?f[e][t].apply(this,n):f.shimExec.apply(this,arguments)},destroy:function(){if(f){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),l&&l.removeAllInstances(),this.unbindAll(),delete s[this.uid],this.uid=null,c=f=l=e=null}}}),this.mode&&n.required_caps&&!this.can(n.required_caps)&&(this.mode=!1)}var i={},s={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return s[e]?s[e]:!1},r.addConstructor=function(e,t){t.prototype=n.instance,i[e]=t},r.getConstructor=function(e){return i[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(t){var n={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){n[e]=!0}),n)},r.can=function(e,t){var n,i=r.getConstructor(e),s;return i?(n=new i({required_caps:t}),s=n.mode,n.destroy(),!!s):!1},r.thatCan=function(e,t){var n=(t||r.order).split(/\s*,\s*/);for(var i in n)if(r.can(n[i],e))return n[i];return null},r.getMode=function(t,n,r){var i=null;if("undefined"===e.typeOf(r)&&(r="browser"),n&&!e.isEmptyObj(t)){if(e.each(n,function(n,r){if(t.hasOwnProperty(r)){var s=t[r](n);if("string"==typeof s&&(s=[s]),i){if(!(i=e.arrayIntersect(i,s)))return i=!1}else i=s}}),i)return-1!==e.inArray(r,i)?r:i[0];if(i===!1)return!1}return r},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r}),r(g,[p,a,m],function(e,t,n){return function r(){var r;t.extend(this,{connectRuntime:function(i){function s(t){var u,a;return t.length?(u=t.shift(),(a=n.getConstructor(u))?(r=new a(i),r.bind("Init",function(){r.initialized=!0,setTimeout(function(){r.clients++,o.trigger("RuntimeInit",r)},1)}),r.bind("Error",function(){r.destroy(),s(t)}),r.mode?(r.init(),void 0):(r.trigger("Error"),void 0)):(s(t),void 0)):(o.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),r=null,void 0)}var o=this,u;if("string"===t.typeOf(i)?u=i:"string"===t.typeOf(i.ruid)&&(u=i.ruid),u){if(r=n.getRuntime(u))return r.clients++,r;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}s((i.runtime_order||n.order).split(/\s*,\s*/))},getRuntime:function(){return r&&r.uid?r:(r=null,null)},disconnectRuntime:function(){r&&--r.clients<=0&&(r.destroy(),r=null)}})}}),r(y,[a,v,g],function(e,t,n){function r(s,o){function u(t,n,s){var o,u=i[this.uid];return"string"===e.typeOf(u)&&u.length?(o=new r(null,{type:s,size:n-t}),o.detach(u.substr(t,o.size)),o):null}n.call(this),s&&this.connectRuntime(s),o?"string"===e.typeOf(o)&&(o={data:o}):o={},e.extend(this,{uid:o.uid||e.guid("uid_"),ruid:s,size:o.size||0,type:o.type||"",slice:function(e,t,n){return this.isDetached()?u.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return i[this.uid]?i[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy",i[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||"";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,i[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(i[this.uid])},destroy:function(){this.detach(),delete i[this.uid]}}),o.data?this.detach(o.data):i[this.uid]=o}var i={};return r}),r(b,[a,l,y],function(e,t,n){function r(r,i){var s,o;if(i||(i={}),o=i.type&&""!==i.type?i.type:t.getFileMime(i.name),i.name)s=i.name.replace(/\\/g,"/"),s=s.substr(s.lastIndexOf("/")+1);else{var u=o.split("/")[0];s=e.guid((""!==u?u:"file")+"_"),t.extensions[o]&&(s+="."+t.extensions[o][0])}n.apply(this,arguments),e.extend(this,{type:o||"",name:s||e.guid("file_"),lastModifiedDate:i.lastModifiedDate||(new Date).toLocaleString()})}return r.prototype=n.prototype,r}),r(w,[a,l,h,p,d,f,b,m,g],function(e,t,n,r,i,s,o,u,a){function f(i){var f=this,c,h,p;if(-1!==e.inArray(e.typeOf(i),["string","node"])&&(i={browse_button:i}),h=n.get(i.browse_button),!h)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR);p={accept:[{title:s.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:h.parentNode||document.body},i=e.extend({},p,i),"string"==typeof i.required_caps&&(i.required_caps=u.parseCaps(i.required_caps)),"string"==typeof i.accept&&(i.accept=t.mimes2extList(i.accept)),c=n.get(i.container),c||(c=document.body),"static"===n.getStyle(c,"position")&&(c.style.position="relative"),c=h=null,a.call(f),e.extend(f,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){f.convertEventPropsToHandlers(l),f.bind("RuntimeInit",function(t,r){f.ruid=r.uid,f.shimid=r.shimid,f.bind("Ready",function(){f.trigger("Refresh")},999),f.bind("Change",function(){var t=r.exec.call(f,"FileInput","getFiles");f.files=[],e.each(t,function(e){return 0===e.size?!0:(f.files.push(new o(f.ruid,e)),void 0)})},999),f.bind("Refresh",function(){var t,s,o,u;o=n.get(i.browse_button),u=n.get(r.shimid),o&&(t=n.getPos(o,n.get(i.container)),s=n.getSize(o),u&&e.extend(u.style,{top:t.y+"px",left:t.x+"px",width:s.w+"px",height:s.h+"px"})),u=o=null}),r.exec.call(f,"FileInput","init",i)}),f.connectRuntime(e.extend({},i,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){f.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var l=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return f.prototype=i.instance,f}),r(E,[f,h,p,a,b,g,d,l],function(e,t,n,r,i,s,o,u){function a(n){var o=this,a;"string"==typeof n&&(n={drop_zone:n}),a={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},n="object"==typeof n?r.extend({},a,n):a,n.container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=u.mimes2extList(n.accept)),s.call(o),r.extend(o,{uid:r.guid("uid_"),ruid:null,files:null,init:function(){o.convertEventPropsToHandlers(f),o.bind("RuntimeInit",function(e,t){o.ruid=t.uid,o.bind("Drop",function(){var e=t.exec.call(o,"FileDrop","getFiles");o.files=[],r.each(e,function(e){o.files.push(new i(o.ruid,e))})},999),t.exec.call(o,"FileDrop","init",n),o.dispatchEvent("ready")}),o.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var f=["ready","dragenter","dragleave","drop","error"];return a.prototype=o.instance,a}),r(S,[a,g,d],function(e,t,n){function r(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return r.prototype=n.instance,r}),r(x,[a,v,p,d,y,b,S],function(e,t,n,r,i,s,o){function u(){function r(e,r){function l(e){s.readyState=u.DONE,s.error=e,s.trigger("error"),c()}function c(){f.destroy(),f=null,s.trigger("loadend")}function h(t){f.bind("Error",function(e,t){l(t)}),f.bind("Progress",function(e){s.result=t.exec.call(f,"FileReader","getResult"),s.trigger(e)}),f.bind("Load",function(e){s.readyState=u.DONE,s.result=t.exec.call(f,"FileReader","getResult"),s.trigger(e),c()}),t.exec.call(f,"FileReader","read",e,r)}if(f=new o,this.convertEventPropsToHandlers(a),this.readyState===u.LOADING)return l(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=u.LOADING,this.trigger("loadstart"),r instanceof i)if(r.isDetached()){var p=r.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=p;break;case"readAsDataURL":this.result="data:"+r.type+";base64,"+t.btoa(p)}this.readyState=u.DONE,this.trigger("load"),c()}else h(f.connectRuntime(r.ruid));else l(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var s=this,f;e.extend(this,{uid:e.guid("uid_"),readyState:u.EMPTY,result:null,error:null,readAsBinaryString:function(e){r.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){r.call(this,"readAsDataURL",e)},readAsText:function(e){r.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[u.EMPTY,u.DONE])&&(this.readyState===u.LOADING&&(this.readyState=u.DONE),f&&f.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),f&&(f.getRuntime().exec.call(this,"FileReader","destroy"),f.disconnectRuntime()),s=f=null}})}var a=["loadstart","progress","load","abort","error","loadend"];return u.EMPTY=0,u.LOADING=1,u.DONE=2,u.prototype=r.instance,u}),r(T,[],function(){var e=function(t,n){for(var r=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],i=r.length,s={http:80,https:443},o={},u=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,a=u.exec(t||"");i--;)a[i]&&(o[r[i]]=a[i]);if(!o.scheme){n&&"string"!=typeof n||(n=e(n||document.location.href)),o.scheme=n.scheme,o.host=n.host,o.port=n.port;var f="";/^[^\/]/.test(o.path)&&(f=n.path,/(\/|\/[^\.]+)$/.test(f)?f+="/":f=f.replace(/\/[^\/]+$/,"/")),o.path=f+(o.path||"")}return o.port||(o.port=s[o.scheme]||80),o.port=parseInt(o.port,10),o.path||(o.path="/"),delete o.source,o},t=function(t){var n={http:80,https:443},r=e(t);return r.scheme+"://"+r.host+(r.port!==n[r.scheme]?":"+r.port:"")+r.path+(r.query?r.query:"")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),r(N,[a,g,v],function(e,t,n){return function(){function r(e,t){if(!t.isDetached()){var r=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),r}var i=t.getSource();switch(e){case"readAsBinaryString":return i;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(i);case"readAsText":for(var s="",o=0,u=i.length;u>o;o++)s+=String.fromCharCode(i[o]);return s}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return r.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return r.call(this,"readAsDataURL",e)},readAsText:function(e){return r.call(this,"readAsText",e)}})}}),r(C,[p,a,y],function(e,t,n){function r(){var e,r=[];t.extend(this,{append:function(i,s){var o=this,u=t.typeOf(s);s instanceof n?e={name:i,value:s}:"array"===u?(i+="[]",t.each(s,function(e){o.append(i,e)})):"object"===u?t.each(s,function(e,t){o.append(i+"["+t+"]",e)}):"null"===u||"undefined"===u||"number"===u&&isNaN(s)?o.append(i,"false"):r.push({name:i,value:s.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(r,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,r=[]}})}return r}),r(k,[a,p,d,v,T,m,S,y,N,C,c,l],function(e,t,n,r,i,s,o,u,a,f,l,c){function h(){this.uid=e.guid("uid_")}function p(){function n(e,t){return y.hasOwnProperty(e)?1===arguments.length?l.can("define_property")?y[e]:g[e]:(l.can("define_property")?y[e]=t:g[e]=t,void 0):void 0}function a(t){function r(){F.destroy(),F=null,u.dispatchEvent("loadend"),u=null}function i(i){F.bind("LoadStart",function(e){n("readyState",p.LOADING),u.dispatchEvent("readystatechange"),u.dispatchEvent(e),A&&u.upload.dispatchEvent(e)}),F.bind("Progress",function(e){n("readyState")!==p.LOADING&&(n("readyState",p.LOADING),u.dispatchEvent("readystatechange")),u.dispatchEvent(e)}),F.bind("UploadProgress",function(e){A&&u.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),F.bind("Load",function(t){n("readyState",p.DONE),n("status",Number(i.exec.call(F,"XMLHttpRequest","getStatus")||0)),n("statusText",d[n("status")]||""),n("response",i.exec.call(F,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),I=i.exec.call(F,"XMLHttpRequest","getAllResponseHeaders"),u.dispatchEvent("readystatechange"),n("status")>0?(A&&u.upload.dispatchEvent(t),u.dispatchEvent(t)):(M=!0,u.dispatchEvent("error")),r()}),F.bind("Abort",function(e){u.dispatchEvent(e),r()}),F.bind("Error",function(e){M=!0,n("readyState",p.DONE),u.dispatchEvent("readystatechange"),O=!0,u.dispatchEvent(e),r()}),i.exec.call(F,"XMLHttpRequest","send",{url:w,method:E,async:b,user:x,password:T,headers:S,mimeType:C,encoding:N,responseType:u.responseType,withCredentials:u.withCredentials,options:j},t)}var u=this;D=(new Date).getTime(),F=new o,"string"==typeof j.required_caps&&(j.required_caps=s.parseCaps(j.required_caps)),j.required_caps=e.extend({},j.required_caps,{return_response_type:u.responseType}),t instanceof f&&(j.required_caps.send_multipart=!0),_||(j.required_caps.do_cors=!0),j.ruid?i(F.connectRuntime(j)):(F.bind("RuntimeInit",function(e,t){i(t)}),F.bind("RuntimeError",function(e,t){u.dispatchEvent("RuntimeError",t)}),F.connectRuntime(j))}function m(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText",""),D=P=null}var g=this,y={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},b=!0,w,E,S={},x,T,N=null,C=null,k=!1,L=!1,A=!1,O=!1,M=!1,_=!1,D,P,H=null,B=null,j={},F,I="",q;e.extend(this,y,{uid:e.guid("uid_"),upload:new h,open:function(s,o,u,a,f){var l;if(!s||!o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(s)||r.utf8_encode(s)!==s)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(s.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(E=s.toUpperCase()),~e.inArray(E,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(o=r.utf8_encode(o),l=i.parseUrl(o),_=i.hasSameOrigin(l),w=i.resolveUrl(o),(a||f)&&!_)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(x=a||l.user,T=f||l.pass,b=u||!0,b===!1&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);k=!b,L=!1,S={},m.call(this),n("readyState",p.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(i,s){var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(n("readyState")!==p.OPENED||L)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(i)||r.utf8_encode(i)!==i)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return i=e.trim(i).toLowerCase(),~e.inArray(i,o)||/^(proxy\-|sec\-)/.test(i)?!1:(S[i]?S[i]+=", "+s:S[i]=s,!0)},getAllResponseHeaders:function(){return I||""},getResponseHeader:function(t){return t=t.toLowerCase(),M||~e.inArray(t,["set-cookie","set-cookie2"])?null:I&&""!==I&&(q||(q={},e.each(I.split(/\r\n/),function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),q[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),q.hasOwnProperty(t))?q[t].header+": "+q[t].value:null},overrideMimeType:function(r){var i,s;if(~e.inArray(n("readyState"),[p.LOADING,p.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(r=e.trim(r.toLowerCase()),/;/.test(r)&&(i=r.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(r=i[1],i[2]&&(s=i[2])),!c.mimes[r])throw new t.DOMException(t.DOMException.SYNTAX_ERR);H=r,B=s},send:function(n,i){if(j="string"===e.typeOf(i)?{ruid:i}:i?i:{},this.convertEventPropsToHandlers(v),this.upload.convertEventPropsToHandlers(v),this.readyState!==p.OPENED||L)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof u)j.ruid=n.ruid,C=n.type||"application/octet-stream";else if(n instanceof f){if(n.hasBlob()){var s=n.getBlob();j.ruid=s.ruid,C=s.type||"application/octet-stream"}}else"string"==typeof n&&(N="UTF-8",C="text/plain;charset=UTF-8",n=r.utf8_encode(n));this.withCredentials||(this.withCredentials=j.required_caps&&j.required_caps.send_browser_cookies&&!_),A=!k&&this.upload.hasEventListener(),M=!1,O=!n,k||(L=!0),a.call(this,n)},abort:function(){if(M=!0,k=!1,~e.inArray(n("readyState"),[p.UNSENT,p.OPENED,p.DONE]))n("readyState",p.UNSENT);else{if(n("readyState",p.DONE),L=!1,!F)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);F.getRuntime().exec.call(F,"XMLHttpRequest","abort",O),O=!0}},destroy:function(){F&&("function"===e.typeOf(F.destroy)&&F.destroy(),F=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var d={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};h.prototype=n.instance;var v=["loadstart","progress","abort","error","load","timeout","loadend"],m=1,g=2;return p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=n.instance,p}),r(L,[a,v,g,d],function(e,t,n,r){function i(){function r(){l=c=0,f=this.result=null}function s(t,n){var r=this;a=n,r.bind("TransportingProgress",function(t){c=t.loaded,l>c&&-1===e.inArray(r.state,[i.IDLE,i.DONE])&&o.call(r)},999),r.bind("TransportingComplete",function(){c=l,r.state=i.DONE,f=null,r.result=a.exec.call(r,"Transporter","getAsBlob",t||"")},999),r.state=i.BUSY,r.trigger("TransportingStarted"),o.call(r)}function o(){var e=this,n,r=l-c;h>r&&(h=r),n=t.btoa(f.substr(c,h)),a.exec.call(e,"Transporter","receive",n,l)}var u,a,f,l,c,h;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:i.IDLE,result:null,transport:function(t,n,i){var o=this;if(i=e.extend({chunk_size:204798},i),(u=i.chunk_size%3)&&(i.chunk_size+=3-u),h=i.chunk_size,r.call(this),f=t,l=t.length,"string"===e.typeOf(i)||i.ruid)s.call(o,n,this.connectRuntime(i));else{var a=function(e,t){o.unbind("RuntimeInit",a),s.call(o,n,t)};this.bind("RuntimeInit",a),this.connectRuntime(i)}},abort:function(){var e=this;e.state=i.IDLE,a&&(a.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),r.call(e)},destroy:function(){this.unbindAll(),a=null,this.disconnectRuntime(),r.call(this)}})}return i.IDLE=0,i.BUSY=1,i.DONE=2,i.prototype=r.instance,i}),r(A,[a,h,p,N,k,m,g,L,c,d,y,b,v],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function p(){function r(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name)}function f(t){var r=e.typeOf(t);try{if(t instanceof p){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);v.apply(this,arguments)}else if(t instanceof l){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);m.apply(this,arguments)}else if(-1!==e.inArray(r,["blob","file"]))f.call(this,new c(null,t),arguments[1]);else if("string"===r)/^data:[^;]*;base64,/.test(t)?f.call(this,new l(null,{data:t}),arguments[1]):g.apply(this,arguments);else{if("node"!==r||"img"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);f.call(this,t.src,arguments[1])}}catch(i){this.trigger("error",i)}}function v(t,n){var r=this.connectRuntime(t.ruid);this.ruid=r.uid,r.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)?!0:n)}function m(t,n){function r(e){i.ruid=e.uid,e.exec.call(i,"Image","loadFromBlob",t)}var i=this;i.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){r(t)}),n&&"string"==typeof n.required_caps&&(n.required_caps=s.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):r(this.connectRuntime(t.ruid))}function g(e,t){var n=this,r;r=new i,r.open("get",e),r.responseType="blob",r.onprogress=function(e){n.trigger(e)},r.onload=function(){m.call(n,r.response,!0)},r.onerror=function(e){n.trigger(e)},r.onloadend=function(){r.destroy()},r.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),r.send(null,t)}o.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){r.call(this)},999),this.convertEventPropsToHandlers(d),f.apply(this,arguments)},downsize:function(t,r,i,s){try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(!t&&!r||"undefined"===e.typeOf(i))&&(i=!1),t=t||this.width,r=r||this.height,s="undefined"===e.typeOf(s)?!0:!!s,this.getRuntime().exec.call(this,"Image","downsize",t,r,i,s)}catch(o){this.trigger("error",o)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!a.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return h.atob(n.substring(n.indexOf("base64,")+7))},embed:function(r){function i(){if(a.can("create_canvas")){var t=o.getAsCanvas();if(t)return r.appendChild(t),t=null,o.destroy(),s.trigger("embedded"),void 0}var i=o.getAsDataURL(f,l);if(!i)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(a.can("use_data_uri_of",i.length))r.innerHTML='<img src="'+i+'" width="'+o.width+'" height="'+o.height+'" />',o.destroy(),s.trigger("embedded");else{var c=new u;c.bind("TransportingComplete",function(){g=s.connectRuntime(this.result.ruid),s.bind("Embedded",function(){e.extend(g.getShimContainer().style,{top:"0px",left:"0px",width:o.width+"px",height:o.height+"px"}),g=null},999),g.exec.call(s,"ImageView","display",this.result.uid,v,m),o.destroy()}),c.transport(h.atob(i.substring(i.indexOf("base64,")+7)),f,e.extend({},d,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:r}))}}var s=this,o,f,l,c,d=arguments[1]||{},v=this.width,m=this.height,g;try{if(!(r=t.get(r)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(f=d.type||this.type||"image/jpeg",l=d.quality||90,c="undefined"!==e.typeOf(d.crop)?d.crop:!1,d.width)v=d.width,m=d.height||v;else{var y=t.getSize(r);y.w&&y.h&&(v=y.w,m=y.h)}return o=new p,o.bind("Resize",function(){i.call(s)}),o.bind("Load",function(){o.downsize(v,m,c,!1)}),o.clone(this,!1),o}catch(b){this.trigger("error",b)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var d=["progress","load","error","resize","embedded"];return p.MAX_RESIZE_WIDTH=6500,p.MAX_RESIZE_HEIGHT=6500,p.prototype=f.instance,p}),r(O,[a,p,m,c],function(e,t,n,r){function i(t){var i=this,u=n.capTest,a=n.capTrue,f=e.extend({access_binary:u(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return i.can("access_binary")&&!!o.Image},display_media:u(r.can("create_canvas")||r.can("use_data_uri_over32kb")),do_cors:u(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:u(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==r.browser||r.version>9)}()),filter_by_extension:u(function(){return"Chrome"===r.browser&&r.version>=28||"IE"===r.browser&&r.version>=10}()),return_response_headers:a,return_response_type:function(e){return"json"===e&&window.JSON?!0:r.can("return_response_type",e)},return_status_code:a,report_upload_progress:u(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return i.can("access_binary")&&r.can("create_canvas")},select_file:function(){return r.can("use_fileinput")&&window.File},select_folder:function(){return i.can("select_file")&&"Chrome"===r.browser&&r.version>=21},select_multiple:function(){return!(!i.can("select_file")||"Safari"===r.browser&&"Windows"===r.os||"iOS"===r.os&&r.verComp(r.osVersion,"7.0.4","<"))},send_binary_string:u(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:u(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||i.can("send_binary_string")},slice_blob:u(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return i.can("slice_blob")&&i.can("send_multipart")},summon_file_dialog:u(function(){return"Firefox"===r.browser&&r.version>=4||"Opera"===r.browser&&r.version>=12||"IE"===r.browser&&r.version>=10||!!~e.inArray(r.browser,["Chrome","Safari"])}()),upload_filesize:a},arguments[2]);n.call(this,t,arguments[1]||s,f),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(i),e=i=null}}(this.destroy)}),e.extend(this.getShim(),o)}var s="html5",o={};return n.addConstructor(s,i),o}),r(M,[O,y],function(e,t){function n(){function e(e,t,n){var r;if(!window.File.prototype.slice)return(r=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?r.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),r(_,[a],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var r={},i="moxie_"+e.guid(),s=function(s,o,u,a){var f,l;o=o.toLowerCase(),s.addEventListener?(f=u,s.addEventListener(o,f,!1)):s.attachEvent&&(f=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,u(e)},s.attachEvent("on"+o,f)),s[i]||(s[i]=e.guid()),r.hasOwnProperty(s[i])||(r[s[i]]={}),l=r[s[i]],l.hasOwnProperty(o)||(l[o]=[]),l[o].push({func:f,orig:u,key:a})},o=function(t,n,s){var o,u;if(n=n.toLowerCase(),t[i]&&r[t[i]]&&r[t[i]][n]){o=r[t[i]][n];for(var a=o.length-1;a>=0&&(o[a].orig!==s&&o[a].key!==s||(t.removeEventListener?t.removeEventListener(n,o[a].func,!1):t.detachEvent&&t.detachEvent("on"+n,o[a].func),o[a].orig=null,o[a].func=null,o.splice(a,1),s===u));a--);if(o.length||delete r[t[i]][n],e.isEmptyObj(r[t[i]])){delete r[t[i]];try{delete t[i]}catch(f){t[i]=u}}}},u=function(t,n){t&&t[i]&&e.each(r[t[i]],function(e,r){o(t,r,n)})};return{addEvent:s,removeEvent:o,removeAllEvents:u}}),r(D,[O,a,h,_,l,c],function(e,t,n,r,i,s){function o(){var e=[],o;t.extend(this,{init:function(u){var a=this,f=a.getRuntime(),l,c,h,p,d,v;o=u,e=[],h=o.accept.mimes||i.extList2mimes(o.accept,f.can("filter_by_extension")),c=f.getShimContainer(),c.innerHTML='<input id="'+f.uid+'" type="file" style="font-size:999px;opacity:0;"'+(o.multiple&&f.can("select_multiple")?"multiple":"")+(o.directory&&f.can("select_folder")?"webkitdirectory directory":"")+(h?' accept="'+h.join(",")+'"':"")+" />",l=n.get(f.uid),t.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=n.get(o.browse_button),f.can("summon_file_dialog")&&("static"===n.getStyle(p,"position")&&(p.style.position="relative"),d=parseInt(n.getStyle(p,"z-index"),10)||1,p.style.zIndex=d,c.style.zIndex=d-1,r.addEvent(p,"click",function(e){var t=n.get(f.uid);t&&!t.disabled&&t.click(),e.preventDefault()},a.uid)),v=f.can("summon_file_dialog")?p:c,r.addEvent(v,"mouseover",function(){a.trigger("mouseenter")},a.uid),r.addEvent(v,"mouseout",function(){a.trigger("mouseleave")},a.uid),r.addEvent(v,"mousedown",function(){a.trigger("mousedown")},a.uid),r.addEvent(n.get(o.container),"mouseup",function(){a.trigger("mouseup")},a.uid),l.onchange=function m(){if(e=[],o.directory?t.each(this.files,function(t){"."!==t.name&&e.push(t)}):e=[].slice.call(this.files),"IE"!==s.browser)this.value="";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=m}a.trigger("change")},a.trigger({type:"ready",async:!0}),c=null},getFiles:function(){return e},disable:function(e){var t=this.getRuntime(),r;(r=n.get(t.uid))&&(r.disabled=!!e)},destroy:function(){var t=this.getRuntime(),i=t.getShim(),s=t.getShimContainer();r.removeAllEvents(s,this.uid),r.removeAllEvents(o&&n.get(o.container),this.uid),r.removeAllEvents(o&&n.get(o.browse_button),this.uid),s&&(s.innerHTML=""),i.removeInstance(this.uid),e=o=s=i=null}})}return e.FileInput=o}),r(P,[O,a,h,_,l],function(e,t,n,r,i){function s(){function e(e){for(var n=[],r=0;r<e.length;r++)[].push.apply(n,e[r].extensions.split(/\s*,\s*/));return-1===t.inArray("*",n)?n:[]}function s(e){var n=i.getFileExtension(e.name);return!n||!c.length||-1!==t.inArray(n,c)}function o(e,n){var r=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var n=e.getAsFile();s(n)&&l.push(n)}else r.push(t)}),r.length?u(r,n):n()}function u(e,n){var r=[];t.each(e,function(e){r.push(function(t){a(e,t)})}),t.inSeries(r,function(){n()})}function a(e,t){e.isFile?e.file(function(e){s(e)&&l.push(e),t()},function(){t()}):e.isDirectory?f(e,t):t()}function f(e,t){function n(e){i.readEntries(function(t){t.length?([].push.apply(r,t),n(e)):e()},e)}var r=[],i=e.createReader();n(function(){u(r,t)})}var l=[],c=[],h;t.extend(this,{init:function(n){var i=this,u;h=n,c=e(h.accept),u=h.container,r.addEvent(u,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},i.uid),r.addEvent(u,"drop",function(e){e.preventDefault(),e.stopPropagation(),l=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry?o(e.dataTransfer.items,function(){i.trigger("drop")}):(t.each(e.dataTransfer.files,function(e){s(e)&&l.push(e)}),i.trigger("drop"))},i.uid),r.addEvent(u,"dragenter",function(e){e.preventDefault(),e.stopPropagation(),i.trigger("dragenter")},i.uid),r.addEvent(u,"dragleave",function(e){e.preventDefault(),e.stopPropagation(),i.trigger("dragleave")},i.uid)},getFiles:function(){return l},destroy:function(){r.removeAllEvents(h&&n.get(h.container),this.uid),l=c=h=null}})}return e.FileDrop=s}),r(H,[O,v,a],function(e,t,n){function r(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var r,i=!1;n.extend(this,{read:function(e,t){var s=this;r=new window.FileReader,r.addEventListener("progress",function(e){s.trigger(e)}),r.addEventListener("load",function(e){s.trigger(e)}),r.addEventListener("error",function(e){s.trigger(e,r.error)}),r.addEventListener("loadend",function(){r=null}),"function"===n.typeOf(r[e])?(i=!1,r[e](t.getSource())):"readAsBinaryString"===e&&(i=!0,r.readAsDataURL(t.getSource()))},getResult:function(){return r&&r.result?i?e(r.result):r.result:null},abort:function(){r&&r.abort()},destroy:function(){r=null}})}return e.FileReader=r}),r(B,[O,a,l,T,b,y,C,p,c],function(e,t,n,r,i,s,o,u,a){function f(){function e(e,t){var n=this,r,i;r=t.getBlob().getSource(),i=new window.FileReader,i.onload=function(){t.append(t.getBlobName(),new s(null,{type:r.type,data:i.result})),h.send.call(n,e,t)},i.readAsBinaryString(r)}function f(){return!window.XMLHttpRequest||"IE"===a.browser&&a.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}():new window.XMLHttpRequest}function l(e){var t=e.responseXML,n=e.responseText;return"IE"===a.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===a.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function c(e){var t="----moxieboundary"+(new Date).getTime(),n="--",r="\r\n",i="",o=this.getRuntime();if(!o.can("send_binary_string"))throw new u.RuntimeError(u.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,o){i+=e instanceof s?n+t+r+'Content-Disposition: form-data; name="'+o+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+r+"Content-Type: "+(e.type||"application/octet-stream")+r+r+e.getSource()+r:n+t+r+'Content-Disposition: form-data; name="'+o+'"'+r+r+unescape(encodeURIComponent(e))+r}),i+=n+t+n+r}var h=this,p,d;t.extend(this,{send:function(n,i){var u=this,l="Mozilla"===a.browser&&a.version>=4&&a.version<7,h="Android Browser"===a.browser,v=!1;if(d=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),p=f(),p.open(n.method,n.url,n.async,n.user,n.password),i instanceof s)i.isDetached()&&(v=!0),i=i.getSource();else if(i instanceof o){if(i.hasBlob())if(i.getBlob().isDetached())i=c.call(u,i),v=!0;else if((l||h)&&"blob"===t.typeOf(i.getBlob().getSource())&&window.FileReader)return e.call(u,n,i),void 0;if(i instanceof o){var m=new window.FormData;i.each(function(e,t){e instanceof s?m.append(t,e.getSource()):m.append(t,e)}),i=m}}p.upload?(n.withCredentials&&(p.withCredentials=!0),p.addEventListener("load",function(e){u.trigger(e)}),p.addEventListener("error",function(e){u.trigger(e)}),p.addEventListener("progress",function(e){u.trigger(e)}),p.upload.addEventListener("progress",function(e){u.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function(){switch(p.readyState){case 1:break;case 2:break;case 3:var t,i;try{r.hasSameOrigin(n.url)&&(t=p.getResponseHeader("Content-Length")||0),p.responseText&&(i=p.responseText.length)}catch(s){t=i=0}u.trigger({type:"progress",lengthComputable:!!t,total:parseInt(t,10),loaded:i});break;case 4:p.onreadystatechange=function(){},0===p.status?u.trigger("error"):u.trigger("load")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){p.setRequestHeader(t,e)}),""!==n.responseType&&"responseType"in p&&(p.responseType="json"!==n.responseType||a.can("return_response_type","json")?n.responseType:"text"),v?p.sendAsBinary?p.sendAsBinary(i):function(){for(var e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=255&i.charCodeAt(t);p.send(e.buffer)}():p.send(i),u.trigger("loadstart")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var r=new i(t.uid,p.response),s=p.getResponseHeader("Content-Disposition");if(s){var o=s.match(/filename=([\'\"'])([^\1]+)\1/);o&&(d=o[2])}return r.name=d,r.type||(r.type=n.getFileMime(d)),r;case"json":return a.can("return_response_type","json")?p.response:200===p.status&&window.JSON?JSON.parse(p.responseText):null;case"document":return l(p);default:return""!==p.responseText?p.responseText:null}}catch(u){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return""},abort:function(){p&&p.abort()},destroy:function(){h=d=null}})}return e.XMLHttpRequest=f}),r(j,[],function(){return function(){function e(e,t){var n=i?0:-8*(t-1),r=0,o;for(o=0;t>o;o++)r|=s.charCodeAt(e+o)<<Math.abs(n+8*o);return r}function n(e,t,n){n=3===arguments.length?n:s.length-t-1,s=s.substr(0,t)+e+s.substr(n+t)}function r(e,t,r){var s="",o=i?0:-8*(r-1),u;for(u=0;r>u;u++)s+=String.fromCharCode(255&t>>Math.abs(o+8*u));n(s,e,r)}var i=!1,s;return{II:function(e){return e===t?i:(i=e,void 0)},init:function(e){i=!1,s=e},SEGMENT:function(e,t,r){switch(arguments.length){case 1:return s.substr(e,s.length-e-1);case 2:return s.substr(e,t);case 3:n(r,e,t);break;default:return s}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,i){return i===t?e(n,4):(r(n,i,4),void 0)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var r="";for(n+=t;n>t;t++)r+=String.fromCharCode(e(t,1));return r}}}}),r(F,[j],function(e){return function t(n){var r=[],i,s,o,u=0;if(i=new e,i.init(n),65496===i.SHORT(0)){for(s=2;s<=n.length;)if(o=i.SHORT(s),o>=65488&&65495>=o)s+=2;else{if(65498===o||65497===o)break;u=i.SHORT(s+2)+2,o>=65505&&65519>=o&&r.push({hex:o,name:"APP"+(15&o),start:s,length:u,segment:i.SEGMENT(s,u)}),s+=u}return i.init(null),{headers:r,restore:function(e){var t,n;for(i.init(e),s=65504==i.SHORT(2)?4+i.SHORT(4):2,n=0,t=r.length;t>n;n++)i.SEGMENT(s,0,r[n].segment),s+=r[n].length;return e=i.SEGMENT(),i.init(null),e},strip:function(e){var n,r,s;for(r=new t(e),n=r.headers,r.purge(),i.init(e),s=n.length;s--;)i.SEGMENT(n[s].start,n[s].length,"");return e=i.SEGMENT(),i.init(null),e},get:function(e){for(var t=[],n=0,i=r.length;i>n;n++)r[n].name===e.toUpperCase()&&t.push(r[n].segment);return t},set:function(e,t){var n=[],i,s,o;for("string"==typeof t?n.push(t):n=t,i=s=0,o=r.length;o>i&&(r[i].name===e.toUpperCase()&&(r[i].segment=n[s],r[i].length=n[s].length,s++),!(s>=n.length));i++);},purge:function(){r=[],i.init(null),i=null}}}}}),r(I,[a,j],function(e,n){return function r(){function r(e,n){var r=o.SHORT(e),i,s,u,a,c,h,p,d,v=[],m={};for(i=0;r>i;i++)if(p=h=e+12*i+2,u=n[o.SHORT(p)],u!==t){switch(a=o.SHORT(p+=2),c=o.LONG(p+=2),p+=4,v=[],a){case 1:case 7:for(c>4&&(p=o.LONG(p)+f.tiffHeader),s=0;c>s;s++)v[s]=o.BYTE(p+s);break;case 2:c>4&&(p=o.LONG(p)+f.tiffHeader),m[u]=o.STRING(p,c-1);continue;case 3:for(c>2&&(p=o.LONG(p)+f.tiffHeader),s=0;c>s;s++)v[s]=o.SHORT(p+2*s);break;case 4:for(c>1&&(p=o.LONG(p)+f.tiffHeader),s=0;c>s;s++)v[s]=o.LONG(p+4*s);break;case 5:for(p=o.LONG(p)+f.tiffHeader,s=0;c>s;s++)v[s]=o.LONG(p+4*s)/o.LONG(p+4*s+4);break;case 9:for(p=o.LONG(p)+f.tiffHeader,s=0;c>s;s++)v[s]=o.SLONG(p+4*s);break;case 10:for(p=o.LONG(p)+f.tiffHeader,s=0;c>s;s++)v[s]=o.SLONG(p+4*s)/o.SLONG(p+4*s+4);break;default:continue}d=1==c?v[0]:v,m[u]=l.hasOwnProperty(u)&&"object"!=typeof d?l[u][d]:d}return m}function i(){var e=f.tiffHeader;return o.II(18761==o.SHORT(e)),42!==o.SHORT(e+=2)?!1:(f.IFD0=f.tiffHeader+o.LONG(e+=2),a=r(f.IFD0,u.tiff),"ExifIFDPointer"in a&&(f.exifIFD=f.tiffHeader+a.ExifIFDPointer,delete a.ExifIFDPointer),"GPSInfoIFDPointer"in a&&(f.gpsIFD=f.tiffHeader+a.GPSInfoIFDPointer,delete a.GPSInfoIFDPointer),!0)}function s(e,t,n){var r,i,s,a=0;if("string"==typeof t){var l=u[e.toLowerCase()];for(var c in l)if(l[c]===t){t=c;break}}r=f[e.toLowerCase()+"IFD"],i=o.SHORT(r);for(var h=0;i>h;h++)if(s=r+12*h+2,o.SHORT(s)==t){a=s+8;break}return a?(o.LONG(a,n),!0):!1}var o,u,a,f={},l;return o=new n,u={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return f={tiffHeader:10},e!==t&&e.length?(o.init(e),65505===o.SHORT(0)&&"EXIF\0"===o.STRING(4,5).toUpperCase()?i():!1):!1},TIFF:function(){return a},EXIF:function(){var t;if(t=r(f.exifIFD,u.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,i="";n<t.ExifVersion.length;n++)i+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=i}return t},GPS:function(){var t;return t=r(f.gpsIFD,u.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:s("exif",e,t)},getBinary:function(){return o.SEGMENT()},purge:function(){o.init(null),o=a=null,f={}}}}}),r(q,[a,p,F,j,I],function(e,t,n,r,i){function s(s){function o(){for(var e=0,t,n;e<=a.length;){if(t=f.SHORT(e+=2),t>=65472&&65475>=t)return e+=5,{height:f.SHORT(e),width:f.SHORT(e+=2)};n=f.SHORT(e+=2),e+=n-2}return null}function u(){c&&l&&f&&(c.purge(),l.purge(),f.init(null),a=h=l=c=f=null)}var a,f,l,c,h,p;if(a=s,f=new r,f.init(a),65496!==f.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(s),c=new i,p=!!c.init(l.get("app1")[0]),h=o.call(this),e.extend(this,{type:"image/jpeg",size:a.length,width:h&&h.width||0,height:h&&h.height||0,setExif:function(t,n){return p?("object"===e.typeOf(t)?e.each(t,function(e,t){c.setExif(t,e)}):c.setExif(t,n),l.set("app1",c.getBinary()),void 0):!1},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):a=l.restore(a)},stripHeaders:function(e){return l.strip(e)},purge:function(){u.call(this)}}),p&&(this.meta={tiff:c.TIFF(),exif:c.EXIF(),gps:c.GPS()})}return s}),r(R,[p,a,j],function(e,t,n){function r(r){function i(){var e,t;return e=o.call(this,8),"IHDR"==e.type?(t=e.start,{width:a.LONG(t),height:a.LONG(t+=4)}):null}function s(){a&&(a.init(null),u=c=f=l=a=null)}function o(e){var t,n,r,i;return t=a.LONG(e),n=a.STRING(e+=4,4),r=e+=4,i=a.LONG(e+t),{length:t,type:n,start:r,CRC:i}}var u,a,f,l,c;u=r,a=new n,a.init(u),function(){var t=0,n=0,r=[35152,20039,3338,6666];for(n=0;n<r.length;n++,t+=2)if(r[n]!=a.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),c=i.call(this),t.extend(this,{type:"image/png",size:u.length,width:c.width,height:c.height,purge:function(){s.call(this)}}),s.call(this)}return r}),r(U,[a,p,q,R],function(e,t,n,r){return function(i){var s=[n,r],o;o=function(){for(var e=0;e<s.length;e++)try{return new s[e](i)}catch(n){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}}),r(z,[],function(){function e(e,r,i){var s=e.naturalWidth,o=e.naturalHeight,u=i.width,a=i.height,f=i.x||0,l=i.y||0,c=r.getContext("2d");t(e)&&(s/=2,o/=2);var h=1024,p=document.createElement("canvas");p.width=p.height=h;for(var d=p.getContext("2d"),v=n(e,s,o),m=0;o>m;){for(var g=m+h>o?o-m:h,y=0;s>y;){var b=y+h>s?s-y:h;d.clearRect(0,0,h,h),d.drawImage(e,-y,-m);var w=y*u/s+f<<0,E=Math.ceil(b*u/s),S=m*a/o/v+l<<0,x=Math.ceil(g*a/o/v);c.drawImage(p,0,0,b,g,w,S,E,x),y+=h}m+=h}p=d=null}function t(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var r=document.createElement("canvas");r.width=r.height=1;var i=r.getContext("2d");return i.drawImage(e,-t+1,0),0===i.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var r=document.createElement("canvas");r.width=1,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0);for(var s=i.getImageData(0,0,1,n).data,o=0,u=n,a=n;a>o;){var f=s[4*(a-1)+3];0===f?u=a:o=a,a=u+o>>1}r=null;var l=a/n;return 0===l?1:l}return{isSubsampled:t,renderTo:e}}),r(W,[O,a,p,v,b,U,z,l,c],function(e,t,n,r,i,s,o,u,a){function f(){function e(){if(!w&&!y)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return w||y}function f(e){return r.atob(e.substring(e.indexOf("base64,")+7))}function l(e,t){return"data:"+(t||"")+";base64,"+r.btoa(e)}function c(e){var t=this;y=new Image,y.onerror=function(){m.call(this),t.trigger("error",new n.ImageError(n.ImageError.WRONG_FORMAT))},y.onload=function(){t.trigger("load")},y.src=/^data:[^;]*;base64,/.test(e)?e:l(e,S.type)}function h(e,t){var r=this,i;return window.FileReader?(i=new FileReader,i.onload=function(){t(this.result)},i.onerror=function(){r.trigger("error",new n.FileException(n.FileException.NOT_READABLE_ERR))},i.readAsDataURL(e),void 0):t(e.getAsDataURL())}function p(n,r,i,s){var o=this,u,a,f=0,l=0,c,h,p,m;if(T=s,m=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(m,[5,6,7,8])){var g=n;n=r,r=g}return c=e(),a=i?Math.max:Math.min,u=a(n/c.width,r/c.height),u>1&&(!i||s)?(this.trigger("Resize"),void 0):(w||(w=document.createElement("canvas")),h=Math.round(c.width*u),p=Math.round(c.height*u),i?(w.width=n,w.height=r,h>n&&(f=Math.round((h-n)/2)),p>r&&(l=Math.round((p-r)/2))):(w.width=h,w.height=p),T||v(w.width,w.height,m),d.call(this,c,w,-f,-l,h,p),this.width=w.width,this.height=w.height,x=!0,o.trigger("Resize"),void 0)}function d(e,t,n,r,i,s){if("iOS"===a.OS)o.renderTo(e,t,{width:i,height:s,x:n,y:r});else{var u=t.getContext("2d");u.drawImage(e,n,r,i,s)}}function v(e,t,n){switch(n){case 5:case 6:case 7:case 8:w.width=t,w.height=e;break;default:w.width=e,w.height=t}var r=w.getContext("2d");switch(n){case 2:r.translate(e,0),r.scale(-1,1);break;case 3:r.translate(e,t),r.rotate(Math.PI);break;case 4:r.translate(0,t),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-t);break;case 7:r.rotate(.5*Math.PI),r.translate(e,-t),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-e,0)}}function m(){b&&(b.purge(),b=null),E=y=w=S=null,x=!1}var g=this,y,b,w,E,S,x=!1,T=!0;t.extend(this,{loadFromBlob:function(e){var t=this,r=t.getRuntime(),i=arguments.length>1?arguments[1]:!0;if(!r.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return S=e,e.isDetached()?(E=e.getSource(),c.call(this,E),void 0):(h.call(this,e.getSource(),function(e){i&&(E=f(e)),c.call(t,e)}),void 0)},loadFromImage:function(e,t){this.meta=e.meta,S=new i(null,{name:e.name,size:e.size,type:e.type}),c.call(this,t?E=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t=this.getRuntime(),n;return!b&&E&&t.can("access_image_binary")&&(b=new s(E)),n={width:e().width||0,height:e().height||0,type:S.type||u.getFileMime(S.name),size:E&&E.length||S.size||0,name:S.name||"",meta:b&&b.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return w&&(w.id=this.uid+"_canvas"),w},getAsBlob:function(e,t){return e!==this.type&&p.call(this,this.width,this.height,!1),new i(null,{name:S.name||"",type:e,data:g.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!x)return y.src;if("image/jpeg"!==e)return w.toDataURL("image/png");try{return w.toDataURL("image/jpeg",t/100)}catch(n){return w.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!x)return E||(E=f(g.getAsDataURL(e,t))),E;if("image/jpeg"!==e)E=f(g.getAsDataURL(e,t));else{var n;t||(t=90);try{n=w.toDataURL("image/jpeg",t/100)}catch(r){n=w.toDataURL("image/jpeg")}E=f(n),b&&(E=b.stripHeaders(E),T&&(b.meta&&b.meta.exif&&b.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),E=b.writeHeaders(E)),b.purge(),b=null)}return x=!1,E},destroy:function(){g=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=f}),r(X,[a,c,h,p,m],function(e,t,n,r,i){function s(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function o(o){var f=this,l;o=e.extend({swf_url:t.swf_url},o),i.call(this,o,u,{access_binary:function(e){return e&&"browser"===f.mode},access_image_binary:function(e){return e&&"browser"===f.mode},display_media:i.capTrue,do_cors:i.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===f.mode},resize_image:i.capTrue,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!e.arrayDiff(t,["","text","document"])||"browser"===f.mode},return_status_code:function(t){return"browser"===f.mode||!e.arrayDiff(t,[200,404])},select_file:i.capTrue,select_multiple:i.capTrue,send_binary_string:function(e){return e&&"browser"===f.mode},send_browser_cookies:function(e){return e&&"browser"===f.mode},send_custom_headers:function(e){return e&&"browser"===f.mode},send_multipart:i.capTrue,slice_blob:i.capTrue,stream_upload:function(e){return e&&"browser"===f.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===f.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),s()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return f.getShim().exec(this.uid,e,t,n)},init:function(){var n,i,s;s=this.getShimContainer(),e.extend(s.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+o.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+o.swf_url+'" />'+'<param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowscriptaccess" value="always" />'+"</object>","IE"===t.browser?(i=document.createElement("div"),s.appendChild(i),i.outerHTML=n,i=s=null):s.innerHTML=n,l=setTimeout(function(){f&&!f.initialized&&f.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(f),clearTimeout(l),o=l=e=f=null}}(this.destroy)},a)}var u="flash",a={};return i.addConstructor(u,o),a}),r(V,[X,y],function(e,t){var n={slice:function(e,n,r,i){var s=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>r?r=Math.max(e.size+r,0):r>0&&(r=Math.min(r,e.size)),e=s.shimExec.call(this,"Blob","slice",n,r,i||""),e&&(e=new t(s.uid,e)),e}};return e.Blob=n}),r($,[X],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),r(J,[X,v],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r="",i={read:function(e,t){var i=this,s=i.getRuntime();return"readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"),i.bind("Progress",function(t,i){i&&(r+=n(i,e))}),s.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return r},destroy:function(){r=null}};return e.FileReader=i}),r(K,[X,v],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r={read:function(e,t){var r,i=this.getRuntime();return(r=i.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"+r),n(r,e,t.type)):null}};return e.FileReaderSync=r}),r(Q,[X,a,y,b,N,C,L],function(e,t,n,r,i,s,o){var u={send:function(e,r){function i(){e.transport=l.mode,l.shimExec.call(f,"XMLHttpRequest","send",e,r)}function u(e,t){l.shimExec.call(f,"XMLHttpRequest","appendBlob",e,t.uid),r=null,i()}function a(e,t){var n=new o;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:l.uid})}var f=this,l=f.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(f,"XMLHttpRequest","setRequestHeader",t,e.toString())}),r instanceof s){var c;if(r.each(function(e,t){e instanceof n?c=t:l.shimExec.call(f,"XMLHttpRequest","append",t,e)}),r.hasBlob()){var h=r.getBlob();h.isDetached()?a(h,function(e){h.destroy(),u(c,e)}):u(c,h)}else r=null,i()}else r instanceof n?r.isDetached()?a(r,function(e){r.destroy(),r=e.uid,i()}):(r=r.uid,i()):i()},getResponse:function(e){var n,s,o=this.getRuntime();if(s=o.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(s=new r(o.uid,s),"blob"===e)return s;try{if(n=new i,~t.inArray(e,["","text"]))return n.readAsText(s);if("json"===e&&window.JSON)return JSON.parse(n.readAsText(s))}finally{s.destroy()}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=u}),r(G,[X,y],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),r=n.shimExec.call(this,"Transporter","getAsBlob",e);return r?new t(n.uid,r):null}};return e.Transporter=n}),r(Y,[X,a,L,y,N],function(e,t,n,r,i){var s={loadFromBlob:function(e){function t(e){i.shimExec.call(r,"Image","loadFromBlob",e.uid),r=i=null}var r=this,i=r.getRuntime();if(e.isDetached()){var s=new n;s.bind("TransportingComplete",function(){t(s.result.getSource())}),s.transport(e.getSource(),e.type,{ruid:i.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),i=n.shimExec.call(this,"Image","getAsBlob",e,t);return i?new r(n.uid,i):null},getAsDataURL:function(){var e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments),n;return t?(n=new i,n.readAsDataURL(t)):null}};return e.Image=s}),r(Z,[a,c,h,p,m],function(e,t,n,r,i){function s(e){var t=!1,n=null,r,i,s,o,u,a=0;try{try{n=new ActiveXObject("AgControl.AgControl"),n.IsVersionSupported(e)&&(t=!0),n=null}catch(f){var l=navigator.plugins["Silverlight Plug-In"];if(l){for(r=l.description,"1.0.30226.2"===r&&(r="2.0.30226.2"),i=r.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(s=e.split(".");s.length>4;)s.pop();do o=parseInt(s[a],10),u=parseInt(i[a],10),a++;while(a<s.length&&o===u);u>=o&&!isNaN(o)&&(t=!0)}}}catch(c){t=!1}return t}function o(o){var f=this,l;o=e.extend({xap_url:t.xap_url},o),i.call(this,o,u,{access_binary:i.capTrue,access_image_binary:i.capTrue,display_media:i.capTrue,do_cors:i.capTrue,drag_and_drop:!1,report_upload_progress:i.capTrue,resize_image:i.capTrue,return_response_headers:function(e){return e&&"client"===f.mode},return_response_type:function(e){return"json"!==e?!0:!!window.JSON},return_status_code:function(t){return"client"===f.mode||!e.arrayDiff(t,[200,404])},select_file:i.capTrue,select_multiple:i.capTrue,send_binary_string:i.capTrue,send_browser_cookies:function(e){return e&&"browser"===f.mode},send_custom_headers:function(e){return e&&"client"===f.mode},send_multipart:i.capTrue,slice_blob:i.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:i.capTrue,use_http_method:function(t){return"client"===f.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),s("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return f.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;">'+'<param name="source" value="'+o.xap_url+'"/>'+'<param name="background" value="Transparent"/>'+'<param name="windowless" value="true"/>'+'<param name="enablehtmlaccess" value="true"/>'+'<param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/>'+"</object>",l=setTimeout(function(){f&&!f.initialized&&f.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(f),clearTimeout(l),o=l=e=f=null}}(this.destroy)},a)}var u="silverlight",a={};return i.addConstructor(u,o),a}),r(et,[Z,a,V],function(e,t,n){return e.Blob=t.extend({},n)}),r(tt,[Z],function(e){var t={init:function(e){function t(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),r(nt,[Z,h,_],function(e,t,n){var r={init:function(){var e=this,r=e.getRuntime(),i;return i=r.getShimContainer(),n.addEvent(i,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},e.uid),n.addEvent(i,"dragenter",function(e){e.preventDefault();var n=t.get(r.uid).dragEnter(e);n&&e.stopPropagation()},e.uid),n.addEvent(i,"drop",function(e){e.preventDefault();var n=t.get(r.uid).dragDrop(e);n&&e.stopPropagation()},e.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=r}),r(rt,[Z,a,J],function(e,t,n){return e.FileReader=t.extend({},n)}),r(it,[Z,a,K],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),r(st,[Z,a,Q],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),r(ot,[Z,a,G],function(e,t,n){return e.Transporter=t.extend({},n)}),r(ut,[Z,a,Y],function(e,t,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps"],r={meta:{}},i=e.shimExec.call(this,"Image","getInfo");return i.meta&&t.each(n,function(e){var t=i.meta[e],n,s,o,u;if(t&&t.keys)for(r.meta[e]={},s=0,o=t.keys.length;o>s;s++)n=t.keys[s],u=t[n],u&&(/^(\d|[1-9]\d+)$/.test(u)?u=parseInt(u,10):/^\d*\.\d+$/.test(u)&&(u=parseFloat(u)),r.meta[e][n]=u)}),r.width=parseInt(i.width,10),r.height=parseInt(i.height,10),r.size=parseInt(i.size,10),r.type=i.type,r.name=i.name,r}})}),r(at,[a,p,m,c],function(e,t,n,r){function i(t){var i=this,u=n.capTest,a=n.capTrue;n.call(this,t,s,{access_binary:u(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:u(o.Image&&(r.can("create_canvas")||r.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:u(function(){return"Chrome"===r.browser&&r.version>=28||"IE"===r.browser&&r.version>=10}()),resize_image:function(){return o.Image&&i.can("access_binary")&&r.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return r.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return i.can("select_file")},summon_file_dialog:u(function(){return"Firefox"===r.browser&&r.version>=4||"Opera"===r.browser&&r.version>=12||!!~e.inArray(r.browser,["Chrome","Safari"])}()),upload_filesize:a,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(i),e=i=null}}(this.destroy)}),e.extend(this.getShim(),o)}var s="html4",o={};return n.addConstructor(s,i),o}),r(ft,[at,a,h,_,l,c],function(e,t,n,r,i,s){function o(){function e(){var i=this,l=i.getRuntime(),c,h,p,d,v,m;m=t.guid("uid_"),c=l.getShimContainer(),o&&(p=n.get(o+"_form"),p&&t.extend(p.style,{top:"100%"})),d=document.createElement("form"),d.setAttribute("id",m+"_form"),d.setAttribute("method","post"),d.setAttribute("enctype","multipart/form-data"),d.setAttribute("encoding","multipart/form-data"),t.extend(d.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),v=document.createElement("input"),v.setAttribute("id",m),v.setAttribute("type","file"),v.setAttribute("name",f.name||"Filedata"),v.setAttribute("accept",a.join(",")),t.extend(v.style,{fontSize:"999px",opacity:0}),d.appendChild(v),c.appendChild(d),t.extend(v.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===s.browser&&s.version<10&&t.extend(v.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),v.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},u=[t],this.onchange=function(){},e.call(i),i.bind("change",function r(){var e=n.get(m),t=n.get(m+"_form"),s;i.unbind("change",r),i.files.length&&e&&t&&(s=i.files[0],e.setAttribute("id",s.uid),t.setAttribute("id",s.uid+"_form"),t.setAttribute("target",s.uid+"_iframe")),e=t=null},998),v=d=null,i.trigger("change"))},l.can("summon_file_dialog")&&(h=n.get(f.browse_button),r.removeEvent(h,"click",i.uid),r.addEvent(h,"click",function(e){v&&!v.disabled&&v.click(),e.preventDefault()},i.uid)),o=m,c=p=h=null}var o,u=[],a=[],f;t.extend(this,{init:function(t){var s=this,o=s.getRuntime(),u;f=t,a=t.accept.mimes||i.extList2mimes(t.accept,o.can("filter_by_extension")),u=o.getShimContainer(),function(){var e,i,a;e=n.get(t.browse_button),o.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),i=parseInt(n.getStyle(e,"z-index"),10)||1,e.style.zIndex=i,u.style.zIndex=i-1),a=o.can("summon_file_dialog")?e:u,r.addEvent(a,"mouseover",function(){s.trigger("mouseenter")},s.uid),r.addEvent(a,"mouseout",function(){s.trigger("mouseleave")},s.uid),r.addEvent(a,"mousedown",function(){s.trigger("mousedown")},s.uid),r.addEvent(n.get(t.container),"mouseup",function(){s.trigger("mouseup")},s.uid),e=null}(),e.call(this),u=null,s.trigger({type:"ready",async:!0})},getFiles:function(){return u},disable:function(e){var t;(t=n.get(o))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),i=e.getShimContainer();r.removeAllEvents(i,this.uid),r.removeAllEvents(f&&n.get(f.container),this.uid),r.removeAllEvents(f&&n.get(f.browse_button),this.uid),i&&(i.innerHTML=""),t.removeInstance(this.uid),o=u=a=f=i=t=null}})}return e.FileInput=o}),r(lt,[at,H],function(e,t){return e.FileReader=t}),r(ct,[at,a,h,T,p,_,y,C],function(e,t,n,r,i,s,o,u){function a(){function e(e){var t=this,r,i,o,u,a=!1;if(l){if(r=l.id.replace(/_iframe$/,""),i=n.get(r+"_form")){for(o=i.getElementsByTagName("input"),u=o.length;u--;)switch(o[u].getAttribute("type")){case"hidden":o[u].parentNode.removeChild(o[u]);break;case"file":a=!0}o=[],a||i.parentNode.removeChild(i),i=null}setTimeout(function(){s.removeEvent(l,"load",t.uid),l.parentNode&&l.parentNode.removeChild(l);var n=t.getRuntime().getShimContainer();n.children.length||n.parentNode.removeChild(n),n=l=null,e()},1)}}var a,f,l;t.extend(this,{send:function(c,h){function p(){var n=v.getShimContainer()||document.body,i=document.createElement("div");i.innerHTML='<iframe id="'+m+'_iframe" name="'+m+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',l=i.firstChild,n.appendChild(l),s.addEvent(l,"load",function(){var n;try{n=l.contentWindow.document||l.contentDocument||window.frames[l.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?a=n.title.replace(/^(\d+).*$/,"$1"):(a=200,f=t.trim(n.body.innerHTML),d.trigger({type:"progress",loaded:f.length,total:f.length}),b&&d.trigger({type:"uploadprogress",loaded:b.size||1025,total:b.size||1025}))}catch(i){if(!r.hasSameOrigin(c.url))return e.call(d,function(){d.trigger("error")}),void 0;a=404}e.call(d,function(){d.trigger("load")})},d.uid)}var d=this,v=d.getRuntime(),m,g,y,b;if(a=f=null,h instanceof u&&h.hasBlob()){if(b=h.getBlob(),m=b.uid,y=n.get(m),g=n.get(m+"_form"),!g)throw new i.DOMException(i.DOMException.NOT_FOUND_ERR)}else m=t.guid("uid_"),g=document.createElement("form"),g.setAttribute("id",m+"_form"),g.setAttribute("method",c.method),g.setAttribute("enctype","multipart/form-data"),g.setAttribute("encoding","multipart/form-data"),g.setAttribute("target",m+"_iframe"),v.getShimContainer().appendChild(g);h instanceof u&&h.each(function(e,n){if(e instanceof o)y&&y.setAttribute("name",n);else{var r=document.createElement("input");t.extend(r,{type:"hidden",name:n,value:e}),y?g.insertBefore(r,y):g.appendChild(r)}}),g.setAttribute("action",c.url),p(),g.submit(),d.trigger("loadstart")},getStatus:function(){return a},getResponse:function(e){if("json"===e&&"string"===t.typeOf(f)&&window.JSON)try{return JSON.parse(f.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(n){return null}return f},abort:function(){var t=this;l&&l.contentWindow&&(l.contentWindow.stop?l.contentWindow.stop():l.contentWindow.document.execCommand?l.contentWindow.document.execCommand("Stop"):l.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=a}),r(ht,[at,W],function(e,t){return e.Image=t}),o([a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,_])}(this);(function(){"use strict";var e={},t=moxie.core.utils.Basic.inArray;return function n(r){var i,s;for(i in r)s=typeof r[i],s==="object"&&!~t(i,["Exceptions","Env","Mime"])?n(r[i]):s==="function"&&(e[i]=r[i])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e})();(function(e,t,n){function r(e){function t(e,t,n){var i={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};i[e]?r[i[e]]=t:n||(r[e]=t)}var n=e.required_features,r={};return typeof n=="string"?o.each(n.split(/\s*,\s*/),function(e){t(e,!0)}):typeof n=="object"?o.each(n,function(e,n){t(n,e)}):n===!0&&(e.multipart||(r.send_binary_string=!0),e.chunk_size>0&&(r.slice_blob=!0),e.resize.enabled&&(r.send_binary_string=!0),o.each(e,function(e,n){t(n,!!e,!0)})),r}var i=e.setTimeout,s={},o={VERSION:"2.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(e){var n=[],r;t.typeOf(e)!=="array"&&(e=[e]);var i=e.length;while(i--)r=t.get(e[i]),r&&n.push(r);return n.length?n:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g;return e?(""+e).replace(n,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,""),e},buildUrl:function(e,t){var n="";return o.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return o.translate("N/A");var r=Math.pow(1024,4);return e>r?t(e/r,1)+" "+o.translate("tb"):e>(r/=1024)?t(e/r,1)+" "+o.translate("gb"):e>(r/=1024)?t(e/r,1)+" "+o.translate("mb"):e>1024?Math.round(e/1024)+" "+o.translate("kb"):e+" "+o.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var r,i;return r=new o.Uploader(e),i=t.Runtime.thatCan(r.getOption().required_features,n||e.runtimes),r.destroy(),i},addFileFilter:function(e,t){s[e]=t}};o.addFileFilter("mime_types",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:o.FILE_EXTENSION_ERROR,message:o.translate("File extension error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("max_file_size",function(e,t,n){var r;e=o.parseSize(e),t.size!==r&&e&&t.size>e?(this.trigger("Error",{code:o.FILE_SIZE_ERROR,message:o.translate("File size error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("prevent_duplicates",function(e,t,n){if(e){var r=this.files.length;while(r--)if(t.name===this.files[r].name&&t.size===this.files[r].size){this.trigger("Error",{code:o.FILE_DUPLICATE_ERROR,message:o.translate("Duplicate file error."),file:t}),n(!1);return}}n(!0)}),o.Uploader=function(e){function u(){var e,t=0,n;if(this.state==o.STARTED){for(n=0;n<k.length;n++)!e&&k[n].status==o.QUEUED?(e=k[n],this.trigger("BeforeUpload",e)&&(e.status=o.UPLOADING,this.trigger("UploadFile",e))):t++;t==k.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",k))}}function a(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,f()}function f(){var e,t;_.reset();for(e=0;e<k.length;e++)t=k[e],t.size!==n?(_.size+=t.origSize,_.loaded+=t.loaded*t.origSize/t.size):_.size=n,t.status==o.DONE?_.uploaded++:t.status==o.FAILED?_.failed++:_.queued++;_.size===n?_.percent=k.length>0?Math.ceil(_.uploaded/k.length*100):0:(_.bytesPerSec=Math.ceil(_.loaded/((+(new Date)-M||1)/1e3)),_.percent=_.size>0?Math.ceil(_.loaded/_.size*100):0)}function l(){var e=A[0]||O[0];return e?e.getRuntime().uid:!1}function c(e,n){if(e.ruid){var r=t.Runtime.getInfo(e.ruid);if(r)return r.can(n)}return!1}function h(){this.bind("FilesAdded",m),this.bind("CancelUpload",E),this.bind("BeforeUpload",g),this.bind("UploadFile",y),this.bind("UploadProgress",b),this.bind("StateChanged",w),this.bind("QueueChanged",f),this.bind("Error",x),this.bind("FileUploaded",S),this.bind("Destroy",T)}function p(e,n){var r=this,i=0,s=[],u={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:L,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(u[t]=e[t])}),e.browse_button&&o.each(e.browse_button,function(n){s.push(function(s){var a=new t.FileInput(o.extend({},u,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));a.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(r.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),i++,A.push(this),s()},a.onchange=function(){r.addFile(this.files)},a.bind("mouseenter mouseleave mousedown mouseup",function(r){D||(e.browse_button_hover&&("mouseenter"===r.type?t.addClass(n,e.browse_button_hover):"mouseleave"===r.type&&t.removeClass(n,e.browse_button_hover)),e.browse_button_active&&("mousedown"===r.type?t.addClass(n,e.browse_button_active):"mouseup"===r.type&&t.removeClass(n,e.browse_button_active)))}),a.bind("error runtimeerror",function(){a=null,s()}),a.init()})}),e.drop_element&&o.each(e.drop_element,function(e){s.push(function(n){var s=new t.FileDrop(o.extend({},u,{drop_zone:e}));s.onready=function(){var e=t.Runtime.getInfo(this.ruid);r.features.dragdrop=e.can("drag_and_drop"),i++,O.push(this),n()},s.ondrop=function(){r.addFile(this.files)},s.bind("error runtimeerror",function(){s=null,n()}),s.init()})}),t.inSeries(s,function(){typeof n=="function"&&n(i)})}function d(e,n,r){var i=new t.Image;try{i.onload=function(){i.downsize(n.width,n.height,n.crop,n.preserve_headers)},i.onresize=function(){r(this.getAsBlob(e.type,n.quality)),this.destroy()},i.onerror=function(){r(e)},i.load(e)}catch(s){r(e)}}function v(e,n,i){function s(e,t,n){var r=C[e];switch(e){case"max_file_size":e==="max_file_size"&&(C.max_file_size=C.filters.max_file_size=t);break;case"chunk_size":if(t=o.parseSize(t))C[e]=t;break;case"filters":o.typeOf(t)==="array"&&(t={mime_types:t}),n?o.extend(C.filters,t):C.filters=t,t.mime_types&&(C.filters.mime_types.regexp=function(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(C.filters.mime_types));break;case"resize":n?o.extend(C.resize,t,{enabled:!0}):C.resize=t;break;case"prevent_duplicates":C.prevent_duplicates=C.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=o.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":C[e]=t,n||(a=!0);break;default:C[e]=t}n||u.trigger("OptionChanged",e,t,r)}var u=this,a=!1;typeof e=="object"?o.each(e,function(e,t){s(t,e,i)}):s(e,n,i),i?(C.required_features=r(o.extend({},C)),L=r(o.extend({},C,{required_features:!0}))):a&&(u.trigger("Destroy"),p.call(u,C,function(e){e?(u.runtime=t.Runtime.getInfo(l()).type,u.trigger("Init",{runtime:u.runtime}),u.trigger("PostInit")):u.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})}))}function m(e,t){[].push.apply(k,t),e.trigger("QueueChanged"),e.refresh()}function g(e,t){if(C.unique_names){var n=t.name.match(/\.([^.]+)$/),r="part";n&&(r=n[1]),t.target_name=t.id+"."+r}}function y(e,n){function r(){f-->0?i(s,1e3):(n.loaded=h,e.trigger("Error",{code:o.HTTP_ERROR,message:o.translate("HTTP Error."),file:n,response:P.responseText,status:P.status,responseHeaders:P.getAllResponseHeaders()}))}function s(){var c,d,v,m;if(n.status==o.DONE||n.status==o.FAILED||e.state==o.STOPPED)return;v={name:n.target_name||n.name},a&&l.chunks&&p.size>a?(m=Math.min(a,p.size-h),c=p.slice(h,h+m)):(m=p.size,c=p),a&&l.chunks&&(e.settings.send_chunk_number?(v.chunk=Math.ceil(h/a),v.chunks=Math.ceil(p.size/a)):(v.offset=h,v.total=p.size)),P=new t.XMLHttpRequest,P.upload&&(P.upload.onprogress=function(t){n.loaded=Math.min(n.size,h+t.loaded),e.trigger("UploadProgress",n)}),P.onload=function(){if(P.status>=400){r();return}f=e.settings.max_retries,m<p.size?(c.destroy(),h+=m,n.loaded=Math.min(h,p.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:p.size,response:P.responseText,status:P.status,responseHeaders:P.getAllResponseHeaders()}),t.Env.browser==="Android Browser"&&e.trigger("UploadProgress",n)):n.loaded=n.size,c=d=null,!h||h>=p.size?(n.size!=n.origSize&&(p.destroy(),p=null),e.trigger("UploadProgress",n),n.status=o.DONE,e.trigger("FileUploaded",n,{response:P.responseText,status:P.status,responseHeaders:P.getAllResponseHeaders()})):i(s,1)},P.onerror=function(){r()},P.onloadend=function(){this.destroy(),P=null},e.settings.multipart&&l.multipart?(v.name=n.target_name||n.name,P.open("post",u,!0),o.each(e.settings.headers,function(e,t){P.setRequestHeader(t,e)}),d=new t.FormData,o.each(o.extend(v,e.settings.multipart_params),function(e,t){d.append(t,e)}),d.append(e.settings.file_data_name,c),P.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:L,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(u=o.buildUrl(e.settings.url,o.extend(v,e.settings.multipart_params)),P.open("post",u,!0),P.setRequestHeader("Content-Type","application/octet-stream"),o.each(e.settings.headers,function(e,t){P.setRequestHeader(t,e)}),P.send(c,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:L,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url}))}var u=e.settings.url,a=e.settings.chunk_size,f=e.settings.max_retries,l=e.features,h=0,p;n.loaded&&(h=n.loaded=a*Math.floor(n.loaded/a)),p=n.getSource(),e.settings.resize.enabled&&c(p,"send_binary_string")&&!!~t.inArray(p.type,["image/jpeg","image/png"])?d.call(this,p,e.settings.resize,function(e){p=e,n.size=e.size,s()}):s()}function b(e,t){a(t)}function w(e){if(e.state==o.STARTED)M=+(new Date);else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,f())}function E(){P&&P.abort()}function S(e){f(),i(function(){u.call(e)},1)}function x(e,t){t.file&&(t.file.status=o.FAILED,a(t.file),e.state==o.STARTED&&(e.trigger("CancelUpload"),i(function(){u.call(e)},1)))}function T(e){e.stop(),o.each(k,function(e){e.destroy()}),k=[],A.length&&(o.each(A,function(e){e.destroy()}),A=[]),O.length&&(o.each(O,function(e){e.destroy()}),O=[]),L={},D=!1,M=P=null,_.reset()}var N=o.guid(),C,k=[],L={},A=[],O=[],M,_,D=!1,P;C={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},v.call(this,e,null,!0),_=new o.QueueProgress,o.extend(this,{id:N,uid:N,state:o.STOPPED,features:{},runtime:null,files:k,settings:C,total:_,init:function(){var e=this;typeof C.preinit=="function"?C.preinit(e):o.each(C.preinit,function(t,n){e.bind(n,t)});if(!C.browse_button||!C.url){this.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")});return}h.call(this),p.call(this,C,function(n){typeof C.init=="function"?C.init(e):o.each(C.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(l()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})})},setOption:function(e,t){v.call(this,e,t,!this.runtime)},getOption:function(e){return e?C[e]:C},refresh:function(){A.length&&o.each(A,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger("StateChanged"),u.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){D=arguments[0]!==n?arguments[0]:!0,A.length&&o.each(A,function(e){e.disable(D)}),this.trigger("DisableBrowse",D)},getFile:function(e){var t;for(t=k.length-1;t>=0;t--)if(k[t].id===e)return k[t]},addFile:function(e,n){function r(e,n){var r=[];t.each(a.settings.filters,function(t,n){s[n]&&r.push(function(r){s[n].call(a,t,e,function(e){r(!e)})})}),t.inSeries(r,n)}function u(e){var s=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!h)return!1;e.ruid=h,e.connectRuntime(h)}u(new o.File(e))}else e instanceof t.Blob?(u(e.getSource()),e.destroy()):e instanceof o.File?(n&&(e.name=n),f.push(function(t){r(e,function(n){n||(c.push(e),a.trigger("FileFiltered",e)),i(t,1)})})):t.inArray(s,["file","blob"])!==-1?u(new t.File(null,e)):s==="node"&&t.typeOf(e.files)==="filelist"?t.each(e.files,u):s==="array"&&(n=null,t.each(e,u))}var a=this,f=[],c=[],h;h=l(),u(e),f.length&&t.inSeries(f,function(){c.length&&a.trigger("FilesAdded",c)})},removeFile:function(e){var t=typeof e=="string"?e:e.id;for(var n=k.length-1;n>=0;n--)if(k[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var r=k.splice(e===n?0:e,t===n?k.length:t),i=!1;return this.state==o.STARTED&&(i=!0,this.stop()),this.trigger("FilesRemoved",r),o.each(r,function(e){e.destroy()}),this.trigger("QueueChanged"),this.refresh(),i&&this.start(),r},bind:function(e,t,n){var r=this;o.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,r),t.apply(this,e)},0,n)},destroy:function(){this.trigger("Destroy"),C=_=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function e(e){o.extend(this,{id:o.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return t.inArray(t.typeOf(e),["blob","file"])!==-1?e:null},getSource:function(){return n[this.id]?n[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete n[this.id])}}),n[this.id]=e}var n={};return e}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o})(window,mOxie);

// plupload handler
function fileQueued(a){jQuery(".media-blank").remove();var b=jQuery("#media-items").children(),c=post_id||0;1==b.length&&b.removeClass("open").find(".slidetoggle").slideUp(200),jQuery('<div class="media-item">').attr("id","media-item-"+a.id).addClass("child-of-"+c).append('<div class="progress"><div class="percent">0%</div><div class="bar"></div></div>',jQuery('<div class="filename original">').text(" "+a.name)).appendTo(jQuery("#media-items")),jQuery("#insert-gallery").prop("disabled",!0)}function uploadStart(){try{"undefined"!=typeof topWin.tb_remove&&topWin.jQuery("#TB_overlay").unbind("click",topWin.tb_remove)}catch(a){}return!0}function uploadProgress(a,b){var c=jQuery("#media-item-"+b.id);jQuery(".bar",c).width(200*b.loaded/b.size),jQuery(".percent",c).html(b.percent+"%")}function fileUploading(a,b){var c=104857600,d=parseInt(a.settings.max_file_size,10);d>c&&b.size>c&&setTimeout(function(){b.status<3&&0===b.loaded&&(wpFileError(b,pluploadL10n.big_upload_failed.replace("%1$s",'<a class="uploader-html" href="#">').replace("%2$s","</a>")),a.stop(),a.removeFile(b),a.start())},1e4)}function updateMediaForm(){var a=jQuery("#media-items").children();1==a.length?(a.addClass("open").find(".slidetoggle").show(),jQuery(".insert-gallery").hide()):a.length>1&&(a.removeClass("open"),jQuery(".insert-gallery").show()),a.not(".media-blank").length>0?jQuery(".savebutton").show():jQuery(".savebutton").hide()}function uploadSuccess(a,b){var c=jQuery("#media-item-"+a.id);return b=b.replace(/^<pre>(\d+)<\/pre>$/,"$1"),b.match(/media-upload-error|error-div/)?void c.html(b):(jQuery(".percent",c).html(pluploadL10n.crunching),prepareMediaItem(a,b),updateMediaForm(),void(post_id&&c.hasClass("child-of-"+post_id)&&jQuery("#attachments-count").text(1*jQuery("#attachments-count").text()+1)))}function setResize(a){a?window.resize_width&&window.resize_height?uploader.settings.resize={enabled:!0,width:window.resize_width,height:window.resize_height,quality:100}:uploader.settings.multipart_params.image_resize=!0:delete uploader.settings.multipart_params.image_resize}function prepareMediaItem(a,b){var c="undefined"==typeof shortform?1:2,d=jQuery("#media-item-"+a.id);2==c&&shortform>2&&(c=shortform);try{"undefined"!=typeof topWin.tb_remove&&topWin.jQuery("#TB_overlay").click(topWin.tb_remove)}catch(e){}isNaN(b)||!b?(d.append(b),prepareMediaItemInit(a)):d.load("async-upload.php",{attachment_id:b,fetch:c},function(){prepareMediaItemInit(a),updateMediaForm()})}function prepareMediaItemInit(a){var b=jQuery("#media-item-"+a.id);jQuery(".thumbnail",b).clone().attr("class","pinkynail toggle").prependTo(b),jQuery(".filename.original",b).replaceWith(jQuery(".filename.new",b)),jQuery("a.delete",b).click(function(){return jQuery.ajax({url:ajaxurl,type:"post",success:deleteSuccess,error:deleteError,id:a.id,data:{id:this.id.replace(/[^0-9]/g,""),action:"trash-post",_ajax_nonce:this.href.replace(/^.*wpnonce=/,"")}}),!1}),jQuery("a.undo",b).click(function(){return jQuery.ajax({url:ajaxurl,type:"post",id:a.id,data:{id:this.id.replace(/[^0-9]/g,""),action:"untrash-post",_ajax_nonce:this.href.replace(/^.*wpnonce=/,"")},success:function(){var b,c=jQuery("#media-item-"+a.id);(b=jQuery("#type-of-"+a.id).val())&&jQuery("#"+b+"-counter").text(jQuery("#"+b+"-counter").text()-0+1),post_id&&c.hasClass("child-of-"+post_id)&&jQuery("#attachments-count").text(jQuery("#attachments-count").text()-0+1),jQuery(".filename .trashnotice",c).remove(),jQuery(".filename .title",c).css("font-weight","normal"),jQuery("a.undo",c).addClass("hidden"),jQuery(".menu_order_input",c).show(),c.css({backgroundColor:"#ceb"}).animate({backgroundColor:"#fff"},{queue:!1,duration:500,complete:function(){jQuery(this).css({backgroundColor:""})}}).removeClass("undo")}}),!1}),jQuery("#media-item-"+a.id+".startopen").removeClass("startopen").addClass("open").find("slidetoggle").fadeIn()}function wpQueueError(a){jQuery("#media-upload-error").show().html('<div class="error"><p>'+a+"</p></div>")}function wpFileError(a,b){itemAjaxError(a.id,b)}function itemAjaxError(a,b){var c=jQuery("#media-item-"+a),d=c.find(".filename").text(),e=c.data("last-err");e!=a&&c.html('<div class="error-div"><a class="dismiss" href="#">'+pluploadL10n.dismiss+"</a><strong>"+pluploadL10n.error_uploading.replace("%s",jQuery.trim(d))+"</strong> "+b+"</div>").data("last-err",a)}function deleteSuccess(a){var b,c,d;return"-1"==a?itemAjaxError(this.id,"You do not have permission. Has your session expired?"):"0"==a?itemAjaxError(this.id,"Could not be deleted. Has it been deleted already?"):(c=this.id,d=jQuery("#media-item-"+c),(b=jQuery("#type-of-"+c).val())&&jQuery("#"+b+"-counter").text(jQuery("#"+b+"-counter").text()-1),post_id&&d.hasClass("child-of-"+post_id)&&jQuery("#attachments-count").text(jQuery("#attachments-count").text()-1),1==jQuery("form.type-form #media-items").children().length&&jQuery(".hidden","#media-items").length>0&&(jQuery(".toggle").toggle(),jQuery(".slidetoggle").slideUp(200).siblings().removeClass("hidden")),jQuery(".toggle",d).toggle(),jQuery(".slidetoggle",d).slideUp(200).siblings().removeClass("hidden"),d.css({backgroundColor:"#faa"}).animate({backgroundColor:"#f4f4f4"},{queue:!1,duration:500}).addClass("undo"),jQuery(".filename:empty",d).remove(),jQuery(".filename .title",d).css("font-weight","bold"),jQuery(".filename",d).append('<span class="trashnotice"> '+pluploadL10n.deleted+" </span>").siblings("a.toggle").hide(),jQuery(".filename",d).append(jQuery("a.undo",d).removeClass("hidden")),void jQuery(".menu_order_input",d).hide())}function deleteError(){}function uploadComplete(){jQuery("#insert-gallery").prop("disabled",!1)}function switchUploader(a){a?(deleteUserSetting("uploader"),jQuery(".media-upload-form").removeClass("html-uploader"),"object"==typeof uploader&&uploader.refresh()):(setUserSetting("uploader","1"),jQuery(".media-upload-form").addClass("html-uploader"))}function uploadError(a,b,c,d){var e,f=104857600;switch(b){case plupload.FAILED:wpFileError(a,pluploadL10n.upload_failed);break;case plupload.FILE_EXTENSION_ERROR:wpFileError(a,pluploadL10n.invalid_filetype);break;case plupload.FILE_SIZE_ERROR:uploadSizeError(d,a);break;case plupload.IMAGE_FORMAT_ERROR:wpFileError(a,pluploadL10n.not_an_image);break;case plupload.IMAGE_MEMORY_ERROR:wpFileError(a,pluploadL10n.image_memory_exceeded);break;case plupload.IMAGE_DIMENSIONS_ERROR:wpFileError(a,pluploadL10n.image_dimensions_exceeded);break;case plupload.GENERIC_ERROR:wpQueueError(pluploadL10n.upload_failed);break;case plupload.IO_ERROR:e=parseInt(d.settings.filters.max_file_size,10),e>f&&a.size>f?wpFileError(a,pluploadL10n.big_upload_failed.replace("%1$s",'<a class="uploader-html" href="#">').replace("%2$s","</a>")):wpQueueError(pluploadL10n.io_error);break;case plupload.HTTP_ERROR:wpQueueError(pluploadL10n.http_error);break;case plupload.INIT_ERROR:jQuery(".media-upload-form").addClass("html-uploader");break;case plupload.SECURITY_ERROR:wpQueueError(pluploadL10n.security_error);break;default:wpFileError(a,pluploadL10n.default_error)}}function uploadSizeError(a,b,c){var d;d=c?pluploadL10n.big_upload_queued.replace("%s",b.name)+" "+pluploadL10n.big_upload_failed.replace("%1$s",'<a class="uploader-html" href="#">').replace("%2$s","</a>"):pluploadL10n.file_exceeds_size_limit.replace("%s",b.name),jQuery("#media-items").append('<div id="media-item-'+b.id+'" class="media-item error"><p>'+d+"</p></div>"),a.removeFile(b)}var topWin=window.dialogArguments||opener||parent||top,uploader,uploader_init;jQuery(document).ready(function(a){a(".media-upload-form").bind("click.uploader",function(b){var c,d,e=a(b.target);e.is('input[type="radio"]')?(c=e.closest("tr"),c.hasClass("align")?setUserSetting("align",e.val()):c.hasClass("image-size")&&setUserSetting("imgsize",e.val())):e.is("button.button")?(d=b.target.className||"",d=d.match(/url([^ '"]+)/),d&&d[1]&&(setUserSetting("urlbutton",d[1]),e.siblings(".urlfield").val(e.data("link-url")))):e.is("a.dismiss")?e.parents(".media-item").fadeOut(200,function(){a(this).remove()}):e.is(".upload-flash-bypass a")||e.is("a.uploader-html")?(a("#media-items, p.submit, span.big-file-warning").css("display","none"),switchUploader(0),b.preventDefault()):e.is(".upload-html-bypass a")?(a("#media-items, p.submit, span.big-file-warning").css("display",""),switchUploader(1),b.preventDefault()):e.is("a.describe-toggle-on")?(e.parent().addClass("open"),e.siblings(".slidetoggle").fadeIn(250,function(){var b,c,d=a(window).scrollTop(),e=a(window).height(),f=a(this).offset().top,g=a(this).height();e&&f&&g&&(b=f+g,c=d+e,b>c&&(f-d>b-c?window.scrollBy(0,b-c+10):window.scrollBy(0,f-d-40)))}),b.preventDefault()):e.is("a.describe-toggle-off")&&(e.siblings(".slidetoggle").fadeOut(250,function(){e.parent().removeClass("open")}),b.preventDefault())}),uploader_init=function(){var b=-1!=navigator.userAgent.indexOf("Trident/")||-1!=navigator.userAgent.indexOf("MSIE ");b||"flash"!==plupload.predictRuntime(wpUploaderInit)||wpUploaderInit.required_features&&wpUploaderInit.required_features.hasOwnProperty("send_binary_string")||(wpUploaderInit.required_features=wpUploaderInit.required_features||{},wpUploaderInit.required_features.send_binary_string=!0),uploader=new plupload.Uploader(wpUploaderInit),a("#image_resize").bind("change",function(){var b=a(this).prop("checked");setResize(b),b?setUserSetting("upload_resize","1"):deleteUserSetting("upload_resize")}),uploader.bind("Init",function(b){var c=a("#plupload-upload-ui");setResize(getUserSetting("upload_resize",!1)),b.features.dragdrop&&!a(document.body).hasClass("mobile")?(c.addClass("drag-drop"),a("#drag-drop-area").bind("dragover.wp-uploader",function(){c.addClass("drag-over")}).bind("dragleave.wp-uploader, drop.wp-uploader",function(){c.removeClass("drag-over")})):(c.removeClass("drag-drop"),a("#drag-drop-area").unbind(".wp-uploader")),"html4"===b.runtime&&a(".upload-flash-bypass").hide()}),uploader.init(),uploader.bind("FilesAdded",function(b,c){a("#media-upload-error").html(""),uploadStart(),plupload.each(c,function(a){fileQueued(a)}),b.refresh(),b.start()}),uploader.bind("UploadFile",function(a,b){fileUploading(a,b)}),uploader.bind("UploadProgress",function(a,b){uploadProgress(a,b)}),uploader.bind("Error",function(a,b){uploadError(b.file,b.code,b.message,a),a.refresh()}),uploader.bind("FileUploaded",function(a,b,c){uploadSuccess(b,c.response)}),uploader.bind("UploadComplete",function(){uploadComplete()})},"object"==typeof wpUploaderInit&&uploader_init()});

/* <![CDATA[ */
var wpuf_frontend_upload = {"confirmMsg":"Are you sure?","nonce":"025ce160ce","ajaxurl":"http:\/\/localhost\/gv\/wp-admin\/admin-ajax.php","plupload":{"url":"http:\/\/localhost\/gv\/wp-admin\/admin-ajax.php?nonce=2da9f0c86e","flash_swf_url":"http:\/\/localhost\/gv\/wp-includes\/js\/plupload\/plupload.flash.swf","filters":[{"title":"Allowed Files","extensions":"*"}],"multipart":true,"urlstream_upload":true}};
/* ]]> */

// jQueryUI timepicker
(function($){$.ui.timepicker=$.ui.timepicker||{};if($.ui.timepicker.version){return}$.extend($.ui,{timepicker:{version:"1.2"}});var Timepicker=function(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:false};this._defaults={showButtonPanel:true,timeOnly:false,showHour:true,showMinute:true,showSecond:false,showMillisec:false,showTimezone:false,showTime:true,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:false,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:true,separator:" ",altFieldTimeOnly:true,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:true,timezoneIso8601:false,timezoneList:null,addSliderAccess:false,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"};$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(e){extendRemove(this._defaults,e||{});return this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults){if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue){try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}}overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow)){return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)}},onChangeMonthYear:function(e,t,n){tp_inst._updateDateTime(n);if($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)){tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,n,tp_inst)}},onClose:function(e,t){if(tp_inst.timeDefined===true&&$input.val()!==""){tp_inst._updateDateTime(t)}if($.isFunction(tp_inst._defaults.evnts.onClose)){tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}}};for(i in overrides){if(overrides.hasOwnProperty(i)){fns[i]=o[i]||null}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst});tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()});tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()});if(typeof tp_inst._defaults.controlType==="string"){if($.fn[tp_inst._defaults.controlType]===undefined){tp_inst._defaults.controlType="select"}tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]}else{tp_inst.control=tp_inst._defaults.controlType}if(tp_inst._defaults.timezoneList===null){var timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"];if(tp_inst._defaults.timezoneIso8601){timezoneList=$.map(timezoneList,function(e){return e=="+0000"?"Z":e.substring(0,3)+":"+e.substring(3)})}tp_inst._defaults.timezoneList=timezoneList}tp_inst.timezone=tp_inst._defaults.timezone;tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour;tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute;tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second;tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec;tp_inst.ampm="";tp_inst.$input=$input;if(o.altField){tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})}if(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0){tp_inst._defaults.minDate=new Date}if(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0){tp_inst._defaults.maxDate=new Date}if(tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date){tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())}if(tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date){tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())}if(tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date){tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())}if(tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date){tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())}tp_inst.$input.bind("focus",function(){tp_inst._onFocus()});return tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t);this._limitMinMaxDateTime(e,false);this._injectTimePicker()},_parseTime:function(e,t){if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}if(t||!this._defaults.timeOnly){var n=$.datepicker._get(this.inst,"dateFormat");try{var r=parseDateTimeInternal(n,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj){return false}$.extend(this,r.timeObj)}catch(i){$.timepicker.log("Error parsing the date/time string: "+i+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+n);return false}return true}else{var s=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);if(!s){return false}$.extend(this,s);return true}},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,n=this,r="",i="",s={},o={},u=null;if(e.find("div.ui-timepicker-div").length===0&&t.showTimepicker){var a=' style="display:none;"',f='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl>'+'<dt class="ui_tpicker_time_label"'+(t.showTime?"":a)+">"+t.timeText+"</dt>"+'<dd class="ui_tpicker_time"'+(t.showTime?"":a)+"></dd>";for(var l=0,c=this.units.length;l<c;l++){r=this.units[l];i=r.substr(0,1).toUpperCase()+r.substr(1);s[r]=parseInt(t[r+"Max"]-(t[r+"Max"]-t[r+"Min"])%t["step"+i],10);o[r]=0;f+='<dt class="ui_tpicker_'+r+'_label"'+(t["show"+i]?"":a)+">"+t[r+"Text"]+"</dt>"+'<dd class="ui_tpicker_'+r+'"><div class="ui_tpicker_'+r+'_slider"'+(t["show"+i]?"":a)+"></div>";if(t["show"+i]&&t[r+"Grid"]>0){f+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if(r=="hour"){for(var h=t[r+"Min"];h<=s[r];h+=parseInt(t[r+"Grid"],10)){o[r]++;var p=$.datepicker.formatTime(useAmpm(t.pickerTimeFormat||t.timeFormat)?"hht":"HH",{hour:h},t);f+='<td data-for="'+r+'">'+p+"</td>"}}else{for(var d=t[r+"Min"];d<=s[r];d+=parseInt(t[r+"Grid"],10)){o[r]++;f+='<td data-for="'+r+'">'+(d<10?"0":"")+d+"</td>"}}f+="</tr></table></div>"}f+="</dd>"}f+='<dt class="ui_tpicker_timezone_label"'+(t.showTimezone?"":a)+">"+t.timezoneText+"</dt>";f+='<dd class="ui_tpicker_timezone" '+(t.showTimezone?"":a)+"></dd>";f+="</dl></div>";var v=$(f);if(t.timeOnly===true){v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all">'+'<div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div>"+"</div>");e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()}for(var l=0,c=n.units.length;l<c;l++){r=n.units[l];i=r.substr(0,1).toUpperCase()+r.substr(1);n[r+"_slider"]=n.control.create(n,v.find(".ui_tpicker_"+r+"_slider"),r,n[r],t[r+"Min"],s[r],t["step"+i]);if(t["show"+i]&&t[r+"Grid"]>0){u=100*o[r]*t[r+"Grid"]/(s[r]-t[r+"Min"]);v.find(".ui_tpicker_"+r+" table").css({width:u+"%",marginLeft:t.isRTL?"0":u/(-2*o[r])+"%",marginRight:t.isRTL?u/(-2*o[r])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var t=$(this),i=t.html(),s=parseInt(i.replace(/[^0-9]/g),10),o=i.replace(/[^apm]/ig),u=t.data("for");if(u=="hour"){if(o.indexOf("p")!==-1&&s<12){s+=12}else{if(o.indexOf("a")!==-1&&s===12){s=0}}}n.control.value(n,n[u+"_slider"],r,s);n._onTimeChange();n._onSelectHandler()}).css({cursor:"pointer",width:100/o[r]+"%",textAlign:"center",overflow:"hidden"})}}this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select");$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val(typeof e=="object"?e.value:e).text(typeof e=="object"?e.label:e)}));if(typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""){var m=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12);var g=$.timepicker.timeZoneOffsetString(m);if(g==this.timezone){selectLocalTimeZone(n)}else{this.timezone_select.val(this.timezone)}}else{if(typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""){this.timezone_select.val(t.defaultTimezone)}else{selectLocalTimeZone(n)}}this.timezone_select.change(function(){n._defaults.useLocalTimezone=false;n._onTimeChange();n._onSelectHandler()});var y=e.find(".ui-datepicker-buttonpane");if(y.length){y.before(v)}else{e.append(v)}this.$timeObj=v.find(".ui_tpicker_time");if(this.inst!==null){var b=this.timeDefined;this._onTimeChange();this.timeDefined=b}if(this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs,E=this._defaults.isRTL;w.isRTL=E;setTimeout(function(){if(v.find(".ui-slider-access").length===0){v.find(".ui-slider:visible").sliderAccess(w);var e=v.find(".ui-slider-access:eq(0)").outerWidth(true);if(e){v.find("table:visible").each(function(){var t=$(this),n=t.outerWidth(),r=t.css(E?"marginRight":"marginLeft").toString().replace("%",""),i=n-e,s=r*i/n+"%",o={width:i,marginRight:0,marginLeft:0};o[E?"marginRight":"marginLeft"]=s;t.css(o)})}}},10)}}},_limitMinMaxDateTime:function(e,t){var n=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(!this._defaults.showTimepicker){return}if($.datepicker._get(e,"minDateTime")!==null&&$.datepicker._get(e,"minDateTime")!==undefined&&r){var i=$.datepicker._get(e,"minDateTime"),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null){this.hourMinOriginal=n.hourMin;this.minuteMinOriginal=n.minuteMin;this.secondMinOriginal=n.secondMin;this.millisecMinOriginal=n.millisecMin}if(e.settings.timeOnly||s.getTime()==r.getTime()){this._defaults.hourMin=i.getHours();if(this.hour<=this._defaults.hourMin){this.hour=this._defaults.hourMin;this._defaults.minuteMin=i.getMinutes();if(this.minute<=this._defaults.minuteMin){this.minute=this._defaults.minuteMin;this._defaults.secondMin=i.getSeconds();if(this.second<=this._defaults.secondMin){this.second=this._defaults.secondMin;this._defaults.millisecMin=i.getMilliseconds()}else{if(this.millisec<this._defaults.millisecMin){this.millisec=this._defaults.millisecMin}this._defaults.millisecMin=this.millisecMinOriginal}}else{this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal}}else{this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal}}else{this._defaults.hourMin=this.hourMinOriginal;this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal}}if($.datepicker._get(e,"maxDateTime")!==null&&$.datepicker._get(e,"maxDateTime")!==undefined&&r){var o=$.datepicker._get(e,"maxDateTime"),u=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null){this.hourMaxOriginal=n.hourMax;this.minuteMaxOriginal=n.minuteMax;this.secondMaxOriginal=n.secondMax;this.millisecMaxOriginal=n.millisecMax}if(e.settings.timeOnly||u.getTime()==r.getTime()){this._defaults.hourMax=o.getHours();if(this.hour>=this._defaults.hourMax){this.hour=this._defaults.hourMax;this._defaults.minuteMax=o.getMinutes();if(this.minute>=this._defaults.minuteMax){this.minute=this._defaults.minuteMax;this._defaults.secondMax=o.getSeconds();if(this.second>=this._defaults.secondMax){this.second=this._defaults.secondMax;this._defaults.millisecMax=o.getMilliseconds()}else{if(this.millisec>this._defaults.millisecMax){this.millisec=this._defaults.millisecMax}this._defaults.millisecMax=this.millisecMaxOriginal}}else{this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal}}else{this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal}}else{this._defaults.hourMax=this.hourMaxOriginal;this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal}}if(t!==undefined&&t===true){var a=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),f=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),l=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),c=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);if(this.hour_slider){this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:a});this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)}if(this.minute_slider){this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:f});this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)}if(this.second_slider){this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:l});this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)}if(this.millisec_slider){this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:c});this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)}}},_onTimeChange:function(){var e=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):false,t=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):false,n=this.second_slider?this.control.value(this,this.second_slider,"second"):false,r=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):false,i=this.timezone_select?this.timezone_select.val():false,s=this._defaults,o=s.pickerTimeFormat||s.timeFormat,u=s.pickerTimeSuffix||s.timeSuffix;if(typeof e=="object"){e=false}if(typeof t=="object"){t=false}if(typeof n=="object"){n=false}if(typeof r=="object"){r=false}if(typeof i=="object"){i=false}if(e!==false){e=parseInt(e,10)}if(t!==false){t=parseInt(t,10)}if(n!==false){n=parseInt(n,10)}if(r!==false){r=parseInt(r,10)}var a=s[e<12?"amNames":"pmNames"][0];var f=e!=this.hour||t!=this.minute||n!=this.second||r!=this.millisec||this.ampm.length>0&&e<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&i!=this.defaultTimezone||this.timezone!==null&&i!=this.timezone;if(f){if(e!==false){this.hour=e}if(t!==false){this.minute=t}if(n!==false){this.second=n}if(r!==false){this.millisec=r}if(i!==false){this.timezone=i}if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}this._limitMinMaxDateTime(this.inst,true)}if(useAmpm(s.timeFormat)){this.ampm=a}this.formattedTime=$.datepicker.formatTime(s.timeFormat,this,s);if(this.$timeObj){if(o===s.timeFormat){this.$timeObj.text(this.formattedTime+u)}else{this.$timeObj.text($.datepicker.formatTime(o,this,s)+u)}}this.timeDefined=true;if(f){this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect;var t=this.$input?this.$input[0]:null;if(e&&t){e.apply(t,[this.formattedDateTime,this])}},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),n=$.datepicker._get(e,"dateFormat"),r=$.datepicker._getFormatConfig(e),i=t!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,t===null?new Date:t,r);var s=this.formattedDate;if(e.lastVal==""){e.currentYear=e.selectedYear;e.currentMonth=e.selectedMonth;e.currentDay=e.selectedDay}if(this._defaults.timeOnly===true){s=this.formattedTime}else if(this._defaults.timeOnly!==true&&(this._defaults.alwaysSetTime||i)){s+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix}this.formattedDateTime=s;if(!this._defaults.showTimepicker){this.$input.val(this.formattedDate)}else if(this.$altInput&&this._defaults.altFieldTimeOnly===true){this.$altInput.val(this.formattedTime);this.$input.val(this.formattedDate)}else if(this.$altInput){this.$input.val(s);var o="",u=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,a=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;if(this._defaults.altFormat)o=$.datepicker.formatDate(this._defaults.altFormat,t===null?new Date:t,r);else o=this.formattedDate;if(o)o+=u;if(this._defaults.altTimeFormat)o+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+a;else o+=this.formattedTime+a;this.$altInput.val(o)}else{this.$input.val(s)}this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t){if(t._defaults.timeOnly&&e.input.val()!=e.lastVal){try{$.datepicker._updateDatepicker(e)}catch(n){$.timepicker.log(n)}}}}},_controls:{slider:{create:function(e,t,n,r,i,s,o){var u=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:u?r*-1:r,min:u?s*-1:i,max:u?i*-1:s,step:o,slide:function(t,r){e.control.value(e,$(this),n,u?r.value*-1:r.value);e._onTimeChange()},stop:function(t,n){e._onSelectHandler()}})},options:function(e,t,n,r,i){if(e._defaults.isRTL){if(typeof r=="string"){if(r=="min"||r=="max"){if(i!==undefined)return t.slider(r,i*-1);return Math.abs(t.slider(r))}return t.slider(r)}var s=r.min,o=r.max;r.min=r.max=null;if(s!==undefined)r.max=s*-1;if(o!==undefined)r.min=o*-1;return t.slider(r)}if(typeof r=="string"&&i!==undefined)return t.slider(r,i);return t.slider(r)},value:function(e,t,n,r){if(e._defaults.isRTL){if(r!==undefined)return t.slider("value",r*-1);return Math.abs(t.slider("value"))}if(r!==undefined)return t.slider("value",r);return t.slider("value")}},select:{create:function(e,t,n,r,i,s,o){var u='<select class="ui-timepicker-select" data-unit="'+n+'" data-min="'+i+'" data-max="'+s+'" data-step="'+o+'">',a=e._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",f=0;for(var l=i;l<=s;l+=o){u+='<option value="'+l+'"'+(l==r?" selected":"")+">";if(n=="hour"&&useAmpm(e._defaults.pickerTimeFormat||e._defaults.timeFormat))u+=$.datepicker.formatTime("hh TT",{hour:l},e._defaults);else if(n=="millisec"||l>=10)u+=l;else u+="0"+l.toString();u+="</option>"}u+="</select>";t.children("select").remove();$(u).appendTo(t).change(function(t){e._onTimeChange();e._onSelectHandler()});return t},options:function(e,t,n,r,i){var s={},o=t.children("select");if(typeof r=="string"){if(i===undefined)return o.data(r);s[r]=i}else s=r;return e.control.create(e,t,o.data("unit"),o.val(),s.min||o.data("min"),s.max||o.data("max"),s.step||o.data("step"))},value:function(e,t,n,r){var i=t.children("select");if(r!==undefined)return i.val(r);return i.val()}}}});$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);if(typeof e=="object"){t[0]=$.extend(e,{timeOnly:true})}return $(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;if(typeof e=="string"){if(e=="getDate"){return $.fn.datepicker.apply($(this[0]),t)}else{return this.each(function(){var e=$(this);e.datepicker.apply(e,t)})}}else{return this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}});$.datepicker.parseDateTime=function(e,t,n,r,i){var s=parseDateTimeInternal(e,t,n,r,i);if(s.timeObj){var o=s.timeObj;s.date.setHours(o.hour,o.minute,o.second,o.millisec)}return s.date};$.datepicker.parseTime=function(e,t,n){var r=extendRemove(extendRemove({},$.timepicker._defaults),n||{});var i=function(e,t,n){var r=function(e,t){var n=[];if(e){$.merge(n,e)}if(t){$.merge(n,t)}n=$.map(n,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+n.join("|")+")?"};var i=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),n={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(t){for(var r=0;r<t.length;r++){if(n[t[r].toString().charAt(0)]==-1){n[t[r].toString().charAt(0)]=r+1}}}return n};var s="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return r(n.amNames,n.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+n.timeSuffix+"$",o=i(e),u="",a;a=t.match(new RegExp(s,"i"));var f={hour:0,minute:0,second:0,millisec:0};if(a){if(o.t!==-1){if(a[o.t]===undefined||a[o.t].length===0){u="";f.ampm=""}else{u=$.inArray(a[o.t].toUpperCase(),n.amNames)!==-1?"AM":"PM";f.ampm=n[u=="AM"?"amNames":"pmNames"][0]}}if(o.h!==-1){if(u=="AM"&&a[o.h]=="12"){f.hour=0}else{if(u=="PM"&&a[o.h]!="12"){f.hour=parseInt(a[o.h],10)+12}else{f.hour=Number(a[o.h])}}}if(o.m!==-1){f.minute=Number(a[o.m])}if(o.s!==-1){f.second=Number(a[o.s])}if(o.l!==-1){f.millisec=Number(a[o.l])}if(o.z!==-1&&a[o.z]!==undefined){var l=a[o.z].toUpperCase();switch(l.length){case 1:l=n.timezoneIso8601?"Z":"+0000";break;case 5:if(n.timezoneIso8601){l=l.substring(1)=="0000"?"Z":l.substring(0,3)+":"+l.substring(3)}break;case 6:if(!n.timezoneIso8601){l=l=="Z"||l.substring(1)=="00:00"?"+0000":l.replace(/:/,"")}else{if(l.substring(1)=="00:00"){l="Z"}}break}f.timezone=l}return f}return false};var s=function(e,t,n){try{var r=new Date("2012-01-01 "+t);if(isNaN(r.getTime())){r=new Date("2012-01-01T"+t);if(isNaN(r.getTime())){r=new Date("01/01/2012 "+t);if(isNaN(r.getTime())){throw"Unable to parse time with native Date: "+t}}}return{hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds(),millisec:r.getMilliseconds(),timezone:$.timepicker.timeZoneOffsetString(r)}}catch(s){try{return i(e,t,n)}catch(o){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return false};if(typeof r.parse==="function"){return r.parse(e,t,r)}if(r.parse==="loose"){return s(e,t,r)}return i(e,t,r)};$.datepicker.formatTime=function(e,t,n){n=n||{};n=$.extend({},$.timepicker._defaults,n);t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var r=e,i=n.amNames[0],s=parseInt(t.hour,10);if(s>11){i=n.pmNames[0]}r=r.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(e){switch(e){case"HH":return("0"+s).slice(-2);case"H":return s;case"hh":return("0"+convert24to12(s)).slice(-2);case"h":return convert24to12(s);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone===null?n.defaultTimezone:t.timezone;case"T":return i.charAt(0).toUpperCase();case"TT":return i.toUpperCase();case"t":return i.charAt(0).toLowerCase();case"tt":return i.toLowerCase();default:return e.replace(/\'/g,"")||"'"}});r=$.trim(r);return r};$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=function(e,t){var n=this._getInst($(e)[0]),r=this._get(n,"timepicker");if(r){r._limitMinMaxDateTime(n,true);n.inline=n.stay_open=true;this._base_selectDate(e,t);n.inline=n.stay_open=false;this._notifyChange(n);this._updateDatepicker(n)}else{this._base_selectDate(e,t)}};$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(e){var t=e.input[0];if($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t){return}if(typeof e.stay_open!=="boolean"||e.stay_open===false){this._base_updateDatepicker(e);var n=this._get(e,"timepicker");if(n){n._addTimePicker(e)}}};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n){if($.datepicker._get(t,"constrainInput")){var r=useAmpm(n._defaults.timeFormat),i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),s=n._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+n._defaults.separator+n._defaults.timeSuffix+(n._defaults.showTimezone?n._defaults.timezoneList.join(""):"")+n._defaults.amNames.join("")+n._defaults.pmNames.join("")+i,o=String.fromCharCode(e.charCode===undefined?e.keyCode:e.charCode);return e.ctrlKey||o<" "||!i||s.indexOf(o)>-1}}return $.datepicker._base_doKeyPress(e)};$.datepicker._base_updateAlternate=$.datepicker._updateAlternate;$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var n=t._defaults.altField;if(n){var r=t._defaults.altFormat||t._defaults.dateFormat,i=this._getDate(e),s=$.datepicker._getFormatConfig(e),o="",u=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,a=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,f=t._defaults.altTimeFormat!==null?t._defaults.altTimeFormat:t._defaults.timeFormat;o+=$.datepicker.formatTime(f,t,t._defaults)+a;if(!t._defaults.timeOnly&&!t._defaults.altFieldTimeOnly&&i!==null){if(t._defaults.altFormat)o=$.datepicker.formatDate(t._defaults.altFormat,i,s)+u+o;else o=t.formattedDate+u+o}$(n).val(o)}}else{$.datepicker._base_updateAlternate(e)}};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n){if(n._defaults.timeOnly&&t.input.val()!=t.lastVal){try{$.datepicker._updateDatepicker(t)}catch(r){$.timepicker.log(r)}}}return $.datepicker._base_doKeyUp(e)};$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),n=t.dpDiv;this._base_gotoToday(e);var r=this._get(t,"timepicker");selectLocalTimeZone(r);var i=new Date;this._setTime(t,i);$(".ui-datepicker-today",n).click()};$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t){return}var n=this._get(t,"timepicker");$(e).datepicker("getDate");if(n){n._defaults.showTimepicker=false;n._updateDateTime(t)}};$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t){return}var n=this._get(t,"timepicker");$(e).datepicker("getDate");if(n){n._defaults.showTimepicker=true;n._addTimePicker(t);n._updateDateTime(t)}};$.datepicker._setTime=function(e,t){var n=this._get(e,"timepicker");if(n){var r=n._defaults;n.hour=t?t.getHours():r.hour;n.minute=t?t.getMinutes():r.minute;n.second=t?t.getSeconds():r.second;n.millisec=t?t.getMilliseconds():r.millisec;n._limitMinMaxDateTime(e,true);n._onTimeChange();n._updateDateTime(e)}};$.datepicker._setTimeDatepicker=function(e,t,n){var r=this._getInst(e);if(!r){return}var i=this._get(r,"timepicker");if(i){this._setDateFromField(r);var s;if(t){if(typeof t=="string"){i._parseTime(t,n);s=new Date;s.setHours(i.hour,i.minute,i.second,i.millisec)}else{s=new Date(t.getTime())}if(s.toString()=="Invalid Date"){s=undefined}this._setTime(r,s)}}};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(e,t){var n=this._getInst(e);if(!n){return}var r=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(n);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(e,r,true)};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(e,t){var n=this._getInst(e);if(!n){return}var r=this._get(n,"timepicker");if(r){if(n.lastVal===undefined){this._setDateFromField(n,t)}var i=this._getDate(n);if(i&&r._parseTime($(e).val(),r.timeOnly)){i.setHours(r.hour,r.minute,r.second,r.millisec)}return i}return this._base_getDateDatepicker(e,t)};$.datepicker._base_parseDate=$.datepicker.parseDate;$.datepicker.parseDate=function(e,t,n){var r;try{r=this._base_parseDate(e,t,n)}catch(i){r=this._base_parseDate(e,t.substring(0,t.length-(i.length-i.indexOf(":")-2)),n);$.timepicker.log("Error parsing the date string: "+i+"\ndate string = "+t+"\ndate format = "+e)}return r};$.datepicker._base_formatDate=$.datepicker._formatDate;$.datepicker._formatDate=function(e,t,n,r){var i=this._get(e,"timepicker");if(i){i._updateDateTime(e);return i.$input.val()}return this._base_formatDate(e)};$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker;$.datepicker._optionDatepicker=function(e,t,n){var r=this._getInst(e),i;if(!r){return null}var s=this._get(r,"timepicker");if(s){var o=null,u=null,a=null,f=s._defaults.evnts,l={},c;if(typeof t=="string"){if(t==="minDate"||t==="minDateTime"){o=n}else if(t==="maxDate"||t==="maxDateTime"){u=n}else if(t==="onSelect"){a=n}else if(f.hasOwnProperty(t)){if(typeof n==="undefined"){return f[t]}l[t]=n;i={}}}else if(typeof t=="object"){if(t.minDate){o=t.minDate}else if(t.minDateTime){o=t.minDateTime}else if(t.maxDate){u=t.maxDate}else if(t.maxDateTime){u=t.maxDateTime}for(c in f){if(f.hasOwnProperty(c)&&t[c]){l[c]=t[c]}}}for(c in l){if(l.hasOwnProperty(c)){f[c]=l[c];if(!i){i=$.extend({},t)}delete i[c]}}if(i&&isEmptyObject(i)){return}if(o){if(o===0){o=new Date}else{o=new Date(o)}s._defaults.minDate=o;s._defaults.minDateTime=o}else if(u){if(u===0){u=new Date}else{u=new Date(u)}s._defaults.maxDate=u;s._defaults.maxDateTime=u}else if(a){s._defaults.onSelect=a}}if(n===undefined){return this._base_optionDatepicker.call($.datepicker,e,t)}return this._base_optionDatepicker.call($.datepicker,e,i||t,n)};var isEmptyObject=function(e){var t;for(t in e){if(e.hasOwnProperty(e)){return false}}return true};var extendRemove=function(e,t){$.extend(e,t);for(var n in t){if(t[n]===null||t[n]===undefined){e[n]=t[n]}}return e};var useAmpm=function(e){return e.indexOf("t")!==-1&&e.indexOf("h")!==-1};var convert24to12=function(e){if(e>12){e=e-12}if(e==0){e=12}return String(e)};var splitDateTime=function(e,t,n,r){try{var i=r&&r.separator?r.separator:$.timepicker._defaults.separator,s=r&&r.timeFormat?r.timeFormat:$.timepicker._defaults.timeFormat,o=s.split(i),u=o.length,a=t.split(i),f=a.length;if(f>1){return[a.splice(0,f-u).join(i),a.splice(0,u).join(i)]}}catch(l){$.timepicker.log("Could not split the date from the time. Please check the following datetimepicker options"+"\nthrown error: "+l+"\ndateTimeString"+t+"\ndateFormat = "+e+"\nseparator = "+r.separator+"\ntimeFormat = "+r.timeFormat);if(l.indexOf(":")>=0){var c=t.length-(l.length-l.indexOf(":")-2),h=t.substring(c);return[$.trim(t.substring(0,c)),$.trim(t.substring(c))]}else{throw l}}return[t,""]};var parseDateTimeInternal=function(e,t,n,r,i){var s;var o=splitDateTime(e,n,r,i);s=$.datepicker._base_parseDate(e,o[0],r);if(o[1]!==""){var u=o[1],a=$.datepicker.parseTime(t,u,i);if(a===null){throw"Wrong time format"}return{date:s,timeObj:a}}else{return{date:s}}};var selectLocalTimeZone=function(e,t){if(e&&e.timezone_select){e._defaults.useLocalTimezone=true;var n=typeof t!=="undefined"?t:new Date;var r=$.timepicker.timeZoneOffsetString(n);if(e._defaults.timezoneIso8601){r=r.substring(0,3)+":"+r.substring(3)}e.timezone_select.val(r)}};$.timepicker=new Timepicker;$.timepicker.timeZoneOffsetString=function(e){var t=e.getTimezoneOffset()*-1,n=t%60,r=(t-n)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).slice(-2)+("0"+(n*101).toString()).slice(-2)};$.timepicker.timeRange=function(e,t,n){return $.timepicker.handleRange("timepicker",e,t,n)};$.timepicker.dateTimeRange=function(e,t,n){$.timepicker.dateRange(e,t,n,"datetimepicker")};$.timepicker.dateRange=function(e,t,n,r){r=r||"datepicker";$.timepicker.handleRange(r,e,t,n)};$.timepicker.handleRange=function(e,t,n,r){function i(e,r,i){if(r.val()&&new Date(t.val())>new Date(n.val())){r.val(i)}}function s(t,n,r){if(!$(t).val()){return}var i=$(t)[e].call($(t),"getDate");if(i.getTime){$(n)[e].call($(n),"option",r,i)}}$.fn[e].call(t,$.extend({onClose:function(e,t){i(this,n,e)},onSelect:function(e){s(this,n,"minDate")}},r,r.start));$.fn[e].call(n,$.extend({onClose:function(e,n){i(this,t,e)},onSelect:function(e){s(this,t,"maxDate")}},r,r.end));if(e!="timepicker"&&r.reformat){$([t,n]).each(function(){var t=$(this)[e].call($(this),"option","dateFormat"),n=new Date($(this).val());if($(this).val()&&n){$(this).val($.datepicker.formatDate(t,n))}})}i(t,n,t.val());s(t,n,"minDate");s(n,t,"maxDate");return $([t.get(0),n.get(0)])};$.timepicker.log=function(e){if(window.console)console.log(e)};$.timepicker.version="1.2"})(jQuery);

// WPUF Upload
(function(e){window.WPUF_Uploader=function(t,n,r,i,s,o){this.container=n;this.browse_button=t;this.max=r||1;this.count=e("#"+n).find(".wpuf-attachment-list > li").length;if(!e("#"+t).length){return}this.uploader=new plupload.Uploader({runtimes:"html5,html4",browse_button:t,container:n,multipart:true,multipart_params:{action:"wpuf_file_upload"},multiple_queues:false,multi_selection:false,urlstream_upload:true,file_data_name:"wpuf_file",max_file_size:o+"kb",url:wpuf_frontend_upload.plupload.url+"&type="+i,flash_swf_url:wpuf_frontend_upload.flash_swf_url,filters:[{title:"Allowed Files",extensions:s}]});this.uploader.bind("Init",e.proxy(this,"init"));this.uploader.bind("FilesAdded",e.proxy(this,"added"));this.uploader.bind("QueueChanged",e.proxy(this,"upload"));this.uploader.bind("UploadProgress",e.proxy(this,"progress"));this.uploader.bind("Error",e.proxy(this,"error"));this.uploader.bind("FileUploaded",e.proxy(this,"uploaded"));this.uploader.init();e("#"+n).on("click","a.attachment-delete",e.proxy(this.removeAttachment,this))};WPUF_Uploader.prototype={init:function(e,t){this.showHide()},showHide:function(){if(this.count>=this.max){e("#"+this.container).find(".file-selector").hide();return}e("#"+this.container).find(".file-selector").show()},added:function(t,n){var r=e("#"+this.container).find(".wpuf-attachment-upload-filelist");this.count+=1;this.showHide();e.each(n,function(e,t){r.append('<div class="upload-item" id="'+t.id+'"><div class="progress progress-striped active"><div class="bar"></div></div><div class="filename original">'+t.name+" ("+plupload.formatSize(t.size)+") <b></b>"+"</div></div>")});t.refresh();t.start()},upload:function(e){this.uploader.start()},progress:function(t,n){var r=e("#"+n.id);e(".bar",r).css({width:n.percent+"%"});e(".percent",r).html(n.percent+"%")},error:function(t,n){e("#"+this.container).find("#"+n.file.id).remove();alert("Error #"+n.code+": "+n.message);this.count-=1;this.showHide();this.uploader.refresh()},uploaded:function(t,n,r){e("#"+n.id+" b").html("100%");e("#"+n.id).remove();if(r.response!=="error"){var i=e("#"+this.container).find(".wpuf-attachment-list");i.append(r.response)}else{alert(res.error);this.count-=1;this.showHide()}},removeAttachment:function(t){t.preventDefault();var n=this,r=e(t.currentTarget);if(confirm(wpuf_frontend_upload.confirmMsg)){var i={attach_id:r.data("attach_id"),nonce:wpuf_frontend_upload.nonce,action:"wpuf_file_del"};jQuery.post(wpuf_frontend_upload.ajaxurl,i,function(){r.parent().parent().remove();n.count-=1;n.showHide();n.uploader.refresh()})}}}})(jQuery);

// Fix js
(function(e){e.fn.imagesLoaded=function(t){function u(){t.call(n,r)}function a(t){var n=t.target;if(n.src!==s&&e.inArray(n,o)===-1){o.push(n);if(--i<=0){setTimeout(u);r.unbind(".imagesLoaded",a)}}}var n=this,r=n.find("img").add(n.filter("img")),i=r.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",o=[];if(!i){u()}r.bind("load.imagesLoaded error.imagesLoaded",a).each(function(){var e=this.src;this.src=s;this.src=e});return n}})(jQuery);

// Userpro Social
jQuery(document).ready(function(){jQuery(document).on("click",".userpro-sc-refresh",function(e){var t=jQuery(this).parents(".userpro");var n=jQuery(this);var r=t.find("img.userpro-sc-refresh-loader");var i=t.data("activity_per_page");var s=t.data("activity_user");var o=0;if(t.find(".userpro-sc-load").data("user_id")){var u=t.find(".userpro-sc-load").data("user_id")}else{var u=0}n.hide();r.show();jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_refreshactivity&per_page="+i+"&offset="+o+"&user_id="+u+"&activity_user="+s,dataType:"JSON",type:"POST",success:function(e){if(e.res!=""){t.find(".userpro-sc").remove();t.find(".userpro-body-nopad").prepend(e.res);n.show();r.hide()}else{n.show();r.hide()}userpro_chosen()}})});jQuery(document).on("click",".userpro-sc-load a",function(e){var t=jQuery(this).parents(".userpro-body");var n=jQuery(this);var r=jQuery(this).parents(".userpro-sc-load").find("img");var i=jQuery(this).data("activity_per_page");var s=jQuery(this).data("activity_user");var o=jQuery(this).parents(".userpro").find(".userpro-sc").length;if(n.parents(".userpro-sc-load").data("user_id")){var u=n.parents(".userpro-sc-load").data("user_id")}else{var u=0}n.hide();r.show();jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_loadactivity&per_page="+i+"&offset="+o+"&user_id="+u+"&activity_user="+s,dataType:"JSON",type:"POST",success:function(e){if(e.res!=""){t.find(".userpro-sc:last").after(e.res);n.show();r.hide()}else{n.show();r.hide()}userpro_chosen()}})});jQuery(document).on("click",".userpro-follow.notfollowing:not(.processing)",function(e){jQuery(this).addClass("processing");var t=jQuery(this).data("follow-from");var n=jQuery(this).data("follow-to");jQuery(this).addClass("following").removeClass(".notfollowing").removeClass("secondary").html(jQuery(this).data("following-text"));jQuery(this).removeClass("processing");jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_follow&to="+n+"&from="+t,dataType:"JSON",type:"POST",success:function(e){},error:function(){}})});jQuery(document).on("mouseenter",".userpro-follow.following",function(e){jQuery(this).addClass("red").removeClass("secondary").html(jQuery(this).data("unfollow-text"))});jQuery(document).on("mouseleave",".userpro-follow.following",function(e){jQuery(this).removeClass("red").html(jQuery(this).data("following-text"))});jQuery(document).on("click",".userpro-follow.following:not(.processing)",function(e){jQuery(this).addClass("processing");var t=jQuery(this).data("follow-from");var n=jQuery(this).data("follow-to");jQuery(this).removeClass("following").addClass("notfollowing").removeClass("red").addClass("secondary").html('<i class="userpro-icon-share"></i>'+jQuery(this).data("follow-text"));jQuery(this).removeClass("processing");jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_sc_unfollow&to="+n+"&from="+t,dataType:"JSON",type:"POST",success:function(e){},error:function(){}})})});

// Userpro ED
jQuery(document).ready(function(){jQuery(document).on("click",".emd-filters input[type=radio]",function(e){var t=jQuery(this).parents(".emd-filter");t.find("span").removeClass("checked");jQuery(this).parents("label").find("span").addClass("checked")});jQuery(document).on("change",".emd-filters input[type=checkbox]",function(e){if(jQuery(this).is(":checked")){jQuery(this).parents("label").find("span").addClass("checked")}else{jQuery(this).parents("label").find("span").removeClass("checked")}});jQuery(".emd-list").imagesLoaded(function(){jQuery(this).isotope({itemSelector:".emd-user",layoutMode:"masonry"})})});

// WPB Chosen
!function(){var a,AbstractChosen,Chosen,SelectParser,b,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},SelectParser.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},SelectParser.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},SelectParser.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},SelectParser}(),SelectParser.select_to_array=function(a){var b,c,d,e,f;for(c=new SelectParser,f=a.childNodes,d=0,e=f.length;e>d;d++)b=f[d],c.add_node(b);return c.parsed},AbstractChosen=function(){function AbstractChosen(a,b){this.form_field=a,this.options=null!=b?b:{},AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return AbstractChosen.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},AbstractChosen.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},AbstractChosen.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},AbstractChosen.prototype.result_add_option=function(a){var b,c;return a.search_match?this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=""!==a.style.cssText?' style="'+a.style+'"':"",'<li class="'+b.join(" ")+'"'+c+' data-option-array-index="'+a.array_index+'">'+a.search_text+"</li>"):"":""},AbstractChosen.prototype.result_add_group=function(a){return a.search_match||a.group_match?a.active_options>0?'<li class="group-result">'+a.search_text+"</li>":"":""},AbstractChosen.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(this.no_results_clear(),e=0,g=this.get_search_text(),a=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d=this.search_contains?"":"^",c=new RegExp(d+a,"i"),j=new RegExp(a,"i"),m=this.results_data,k=0,l=m.length;l>k;k++)b=m[k],b.search_match=!1,f=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(f=this.results_data[b.group_array_index],0===f.active_options&&f.search_match&&(e+=1),f.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.html,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(e+=1),b.search_match?(g.length&&(h=b.search_text.search(j),i=b.search_text.substr(0,h+g.length)+"</em>"+b.search_text.substr(h+g.length),b.search_text=i.substr(0,h)+"<em>"+i.substr(h)),null!=f&&(f.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>e&&g.length?(this.update_results_content(""),this.no_results(g)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},AbstractChosen.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},AbstractChosen.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),a=jQuery,a.fn.extend({chosen:function(b){return AbstractChosen.browser_is_supported()?this.each(function(){var c,d;c=a(this),d=c.data("chosen"),"destroy"===b&&d?d.destroy():d||c.data("chosen",new Chosen(this,b))}):this}}),Chosen=function(c){function Chosen(){return b=Chosen.__super__.constructor.apply(this,arguments)}return d(Chosen,c),Chosen.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},Chosen.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var a=this;return this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},Chosen.prototype.destroy=function(){return a(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},Chosen.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},Chosen.prototype.search_results_mousewheel=function(a){var b,c,d;return b=-(null!=(c=a.originalEvent)?c.wheelDelta:void 0)||(null!=(d=a.originialEvent)?d.detail:void 0),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},Chosen.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},Chosen.prototype.close_field=function(){return a(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},Chosen.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(b){return this.container.is(a(b.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},Chosen.prototype.update_results_content=function(a){return this.search_results.html(a)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},Chosen.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},Chosen.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},Chosen.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},Chosen.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},Chosen.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},Chosen.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},Chosen.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(a){var b,c,d;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),d=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[d].selected=!1),this.result_single_selected=b),b.addClass("result-selected"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},Chosen.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},Chosen.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},Chosen.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},Chosen.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},Chosen.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},Chosen.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},Chosen}(AbstractChosen)}.call(this);

// WPB
function wpb_bm_dialog(e,t,n){if(!n){n="left"}if(t=="new_collection"){e.append('<div class="wpb-bm-dialog bm-'+n+'"></div><div class="wpb-bm-dialog-icon bm-'+n+'"><i class="wpb-icon-caret-up"></i></div>');e.find(".wpb-bm-dialog").width(e.parents(".wpb-bm").width()-42);custom_html='<form action="" method="post"><input type="text" name="wpb_bm_new" id="wpb_bm_new" value="" class="wpb-bm-input" placeholder="'+e.parents(".wpb-bm").data("new_collection_placeholder")+'" /><div class="wpb-bm-btn-contain bm-block"><a href="#" class="wpb-bm-btn" data-action="submit_collection">'+e.parents(".wpb-bm").data("add_new_collection")+"</a></div></form>"}else{e.append('<div class="wpb-bm-dialog bm-'+n+' autoclose"></div><div class="wpb-bm-dialog-icon bm-'+n+' autoclose"><i class="wpb-icon-caret-up"></i></div>');e.find(".wpb-bm-dialog").width(e.parents(".wpb-bm").width()-42);custom_html=t}e.find(".wpb-bm-dialog").html('<span class="wpb-bm-dialog-content">'+custom_html+"</span>");if(jQuery("#wpb_bm_new").length)jQuery("#wpb_bm_new").focus();var r=setTimeout(function(){jQuery(".wpb-bm-dialog.autoclose,.wpb-bm-dialog-icon.autoclose").hide().remove()},3e3)}function wpb_bm_newaction(e,t){e.addClass("stop");jQuery(".wpb-bm-dialog,.wpb-bm-dialog-icon").hide().remove()}function wpb_bm_donebookmark(e,t){e.addClass("bookmarked").removeClass("unbookmarked").removeClass("stop");e.html(t)}function wpb_bm_addbookmark(e,t){e.addClass("unbookmarked").removeClass("bookmarked").removeClass("stop");e.html(t)}function wpb_bm_removedialog(){jQuery(".wpb-bm-dialog,.wpb-bm-dialog-icon").hide().remove()}function wpb_bm_update_active_collection(e,t){e.find("input:hidden#collection_id").val(t)}jQuery(document).ready(function(){jQuery(document).on("click",".wpb-coll a,.wpb-bm",function(e){});jQuery(document).on("click",".wpb-remove-collection",function(e){e.preventDefault();element=jQuery(this).parents(".wpb-coll-count");if(element.find(".wpb-coll-remove").is(":hidden")){jQuery(this).html(jQuery(this).data("undo"));element.find(".wpb-coll-remove").slideToggle()}else{jQuery(this).html(jQuery(this).data("remove"));element.find(".wpb-coll-remove").slideToggle()}return false});jQuery(document).on("click",".wpb-hard-remove",function(e){e.preventDefault();collection_id=jQuery(this).data("collection_id");list=jQuery(this).parents(".wpb-coll").find(".wpb-coll-list");jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_hard_remove_collection&collection_id="+collection_id,dataType:"JSON",type:"POST",success:function(e){list.find("a.active").remove();list.find("a:first").trigger("click")}});return false});jQuery(document).on("click",".wpb-soft-remove",function(e){e.preventDefault();collection_id=jQuery(this).data("collection_id");list=jQuery(this).parents(".wpb-coll").find(".wpb-coll-list");jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_soft_remove_collection&collection_id="+collection_id,dataType:"JSON",type:"POST",success:function(e){list.find("a.active").remove();list.find("a:first").trigger("click")}});return false});jQuery(document).on("click",".wpb-coll-list a",function(e){e.preventDefault();collection_id=jQuery(this).data("collection_id");container=jQuery(this).parents(".wpb-coll").find(".wpb-coll-body");if(container.hasClass("loading")==false){list=jQuery(this).parents(".wpb-coll-list");list.find("a").removeClass("active");list.find("a").find("i").addClass("wpb-coll-hide");list.find("a").find("span").removeClass("wpb-coll-hide");jQuery(this).addClass("active");jQuery(this).find("i").removeClass("wpb-coll-hide");jQuery(this).find("span").addClass("wpb-coll-hide");container.addClass("loading").find(".wpb-coll-body-inner").find("div:not(.wpb-coll-remove)").fadeTo(0,0);jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_change_collection&collection_id="+collection_id,dataType:"JSON",type:"POST",success:function(e){container.removeClass("loading").find(".wpb-coll-body-inner").empty().html(e.res)}})}return false});jQuery(document).on("submit",".wpb-bm form",function(e){e.preventDefault();return false});jQuery(document).on("change",".wpb-bm-list select",function(e){dd=jQuery(this);parent=dd.parents(".wpb-bm");bookmarked_link=parent.find("a.bookmarked");unbookmarked_link=parent.find("a.unbookmarked");collection_id=parent.find("input:hidden#collection_id").val();if(dd.val()!=collection_id){wpb_bm_addbookmark(bookmarked_link,parent.data("add_to_collection"))}else{wpb_bm_donebookmark(unbookmarked_link,parent.data("remove_bookmark"))}});jQuery(document).on("click",'.wpb-bm-dialog a[data-action="submit_collection"]',function(e){jQuery(this).parents("form").trigger("submit")});jQuery(document).on("submit",".wpb-bm-dialog form:not(.stop)",function(e){e.preventDefault();elem=jQuery(this);dialog=jQuery(this).parents(".wpb-bm-dialog");parent=jQuery(this).parents(".wpb-bm");collection_name=dialog.find("#wpb_bm_new").val();if(collection_name!=""){elem.addClass("stop");default_collection=parent.data("default_collection");post_id=parent.data("post_id");jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_addcollection&post_id="+post_id+"&default_collection="+default_collection+"&collection_name="+collection_name,dataType:"JSON",type:"POST",success:function(e){elem.removeClass("stop");parent.find("#wpb_bm_collection").replaceWith(e.options);parent.find("select").removeClass("chzn-done").css("display","inline").data("chosen",null);parent.find("*[class*=chzn], .chosen-container").remove();jQuery(".chosen-select-collections").chosen({disable_search_threshold:10,width:"100%"});parent.find("#wpb_bm_collection").val(parent.find("#wpb_bm_collection option:last").val()).trigger("chosen:updated");parent.find(".wpb-bm-list select").trigger("change");wpb_bm_removedialog()}})}return false});jQuery(".chosen-select-collections").chosen({disable_search_threshold:10,width:"100%"});jQuery(document).on("click",".wpb-bm a[data-action=newcollection]",function(e){e.preventDefault();elem=jQuery(this);parent=jQuery(this).parents(".wpb-bm");if(parent.find(".wpb-bm-dialog form").length==0){wpb_bm_newaction(elem,parent);elem.addClass("active");wpb_bm_dialog(elem.parent(),"new_collection","right")}else{elem.removeClass("active");wpb_bm_removedialog()}return false});jQuery(document).on("click",".wpb-bm a[data-action=bookmark].unbookmarked:not(.stop)",function(e){elem=jQuery(this);parent=jQuery(this).parents(".wpb-bm");post_id=parent.data("post_id");collection_id=parent.find("#wpb_bm_collection").val();wpb_bm_newaction(elem,parent);jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_newbookmark&post_id="+post_id+"&collection_id="+collection_id,dataType:"JSON",type:"POST",success:function(e){wpb_bm_update_active_collection(parent,e.collection_id);wpb_bm_donebookmark(elem,parent.data("remove_bookmark"));wpb_bm_dialog(elem.parent(),parent.data("dialog_bookmarked"))}});return false});jQuery(document).on("click",".wpb-bm a[data-action=bookmark].bookmarked:not(.stop)",function(e){elem=jQuery(this);parent=jQuery(this).parents(".wpb-bm");post_id=parent.data("post_id");collection_id=parent.find("#wpb_bm_collection").val();wpb_bm_newaction(elem,parent);jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_removebookmark&post_id="+post_id+"&collection_id="+collection_id,dataType:"JSON",type:"POST",success:function(e){wpb_bm_addbookmark(elem,parent.data("add_to_collection"));wpb_bm_dialog(elem.parent(),parent.data("dialog_unbookmarked"))}});return false});jQuery(document).on("click","a.wpb-coll-abs",function(e){elem=jQuery(this);parent=jQuery(this).parents(".wpb-coll-item");post_id=elem.data("post_id");collection_id=elem.data("collection_id");parent.fadeOut("fast");jQuery.ajax({url:wpb_ajax_url,data:"action=wpb_removebookmark&post_id="+post_id+"&collection_id="+collection_id,dataType:"JSON",type:"POST",success:function(e){}});return false})});

/* <![CDATA[ */
//var wpmudev_chat_localized = {"settings":{"ajax_url":"\/gv\/wp-admin\/admin-ajax.php","plugin_url":"http:\/\/localhost\/gv\/wp-content\/plugins\/wordpress-chat\/","google_plus_text_sign_out":"Sign out of Google+","facebook_text_sign_out":"Sign out of Facebook","twitter_text_sign_out":"Sign out of Twitter","please_wait":"Please wait...","row_delete_text":"hide","row_undelete_text":"unhide","user_entered_chat":"Entered Chat","user_exited_chat":"Exited Chat","user_pending_chat":"Pending","user_declined_chat":"Declined","wp_is_mobile":false,"twitter_active":false,"facebook_active":false,"google_plus_active":false,"session_poll_interval_messages":"1","session_poll_interval_invites":"3","session_poll_interval_meta":"5","session_poll_interval_users":5,"cookiepath":"\/gv\/","cookie_domain":false,"REQUEST_URI":"L2d2L2Jvb2ttYXJrbGlzdHMv","is_admin":false,"soundManager-js":"http:\/\/localhost\/gv\/wp-content\/plugins\/wordpress-chat\/js\/buzz.js","box_resizable":false},"sessions":{"bottom_corner":{"id":"bottom_corner","blog_id":1,"session_type":"site","session_status":"open","blocked_ip_addresses_active":"enabled","blocked_words_active":"disabled","session_status_message":"The Moderator has closed this chat session","session_cleared_message":"The Moderator has cleared the chat messages","box_title":"Chat","box_width":"250px","box_width_mobile_adjust":"window","box_height":"90%","box_height_mobile_adjust":"window","box_class":"","box_sound":"enabled","box_popout":"disabled","box_moderator_footer":"enabled","box_input_position":"bottom","box_send_button_enable":"disabled","box_send_button_position":"below","box_send_button_label":"Send","box_font_family":"","box_font_size":"","box_text_color":"#000000","box_background_color":"#CCCCCC","box_border_color":"#CCCCCC","box_border_width":"1px","box_emoticons":"enabled","row_name_avatar":"name-avatar","row_avatar_width":"40px","row_date":"disabled","row_date_format":"F j, Y","row_time":"disabled","row_time_format":"g:i a","row_area_background_color":"#FFFFFF","row_background_color":"#FFFFFF","row_border_color":"#CCCCCC","row_border_width":"0px","row_spacing":"0px","row_message_input_font_size":"","row_message_input_font_family":"","row_message_input_height":"45px","row_message_input_lock":"vertical","row_message_input_length":450,"row_message_input_background_color":"#FFFFFF","row_message_input_text_color":"#000000","row_date_text_color":"#444","row_date_color":"#FFFFFF","row_name_color":"#666666","row_moderator_name_color":"#6699CC","row_text_color":"#000000","row_code_color":"#FFFFCC","row_font_family":"","row_font_size":"","log_creation":"disabled","log_display":"disabled","log_display_label":"Chat Logs","log_display_limit":"10","log_display_hide_session":"show","log_display_role_level":"public","log_limit":100,"login_options":["subscriber","public_user"],"moderator_roles":["administrator"],"users_list_show":"avatar","users_list_position":"above","users_list_style":"combined","users_list_width":"15%","users_list_avatar_width":"30px","users_list_moderator_avatar_border_color":"#FFFFFF","users_list_user_avatar_border_color":"#FFFFFF","users_list_avatar_border_width":"1px","users_list_threshold_delete":300,"users_list_background_color":"#FFFFFF","users_list_name_color":"#000000","users_list_moderator_color":"#000000","users_list_header":"Current Active Users","users_list_font_size":"","users_list_header_color":"#000000","users_list_header_font_family":"","users_list_header_font_size":"","users_enter_exit_status":"enabled","users_enter_exit_delay":"5","tinymce_roles":[],"tinymce_post_types":[],"noauth_view":"default","noauth_login_message":"To get started just enter your email address and desired username:","noauth_login_prompt":"You must login to participate in chat","update_transient":"enabled","bottom_corner":"enabled","status_max_min":"min","poll_max_min":"disabled","bottom_corner_wpadmin":"disabled","box_position_h":"right","box_position_v":"bottom","box_position_adjust_mobile":"enabled","box_offset_h":"10px","box_offset_v":"0px","box_spacing_h":"10px","box_shadow_show":"disabled","box_shadow_v":"10px","box_shadow_h":"10px","box_shadow_blur":"5px","box_shadow_spread":"0px","box_shadow_color":"#888888","box_resizable":"disabled","invite-info":[],"blocked_on_shortcode":"disabled","private_reopen_after_exit":"disabled","users_list_font_family":"","blocked_urls_action":"include","blocked_urls":[],"last_row_id":"__EMPTY__","box_font_style":"","row_font_style":"","row_message_input_font_style":"","users_list_font_style":"","show_messages_position":"left","users_list_height":"15%","show_messages_width":"100%","ip_address":"127.0.0.1","moderator":"yes"}},"user":{"__global__":{"status_max_min":"max","sound_on_off":"on"},"bottom_corner":{"status_max_min":"min","sound_on_off":"on"}},"auth":{"type":"wordpress","name":"Felix","email":"felixnong1990@gmail.com","auth_hash":"c4ca4238a0b923820dcc509a6f75849b","profile_link":"","ip_address":"127.0.0.1","avatar":"http:\/\/localhost\/gv\/wp-content\/plugins\/userpro\/lib\/timthumb.php?src=%2Fwp-content%2Fuploads%2Fuserpro%2F1%2F53bfa57edac08.jpg&amp;w=96&amp;h=96&amp;a=t&amp;q=100","chat_status":"available"}};
/* ]]> */

// WPMU Chat
//function WPMUDEVChatGooglePlusSigninCallback(e){if(e["access_token"]){jQuery.ajax({type:"GET",url:"https://www.googleapis.com/plus/v1/people/me?access_token="+e["access_token"],cache:false,dataType:"json",success:function(t){if(t.id!=undefined){var n={};n["access_token"]=e["access_token"];n["type"]="google_plus";n["id"]=t["id"];n["name"]=t["displayName"];n["profile_link"]=t["url"];n["avatar"]=t["image"]["url"];wpmudev_chat.chat_session_user_login(n,"")}}})}else if(e["error"]){}}var wpmudev_chat=jQuery.extend(wpmudev_chat||{},{settings:{},pids:{},errors:{},timers:{},send_data:{},popouts:{},bound:false,isPlaceholderSupported:true,Sounds:[],init:function(){if(wpmudev_chat_localized["settings"]["session_poll_interval_messages"]==undefined||wpmudev_chat_localized["settings"]["session_poll_interval_messages"]<1){wpmudev_chat_localized["settings"]["session_poll_interval_messages"]=1}if(wpmudev_chat_localized["settings"]["session_poll_interval_invites"]==undefined||wpmudev_chat_localized["settings"]["session_poll_interval_invites"]<1){wpmudev_chat_localized["settings"]["session_poll_interval_invites"]=3}if(wpmudev_chat_localized["settings"]["session_poll_interval_meta"]==undefined||wpmudev_chat_localized["settings"]["session_poll_interval_meta"]<1){wpmudev_chat_localized["settings"]["session_poll_interval_meta"]=5}if(wpmudev_chat_localized["settings"]["session_poll_interval_users"]==undefined||wpmudev_chat_localized["settings"]["session_poll_interval_users"]<1){wpmudev_chat_localized["settings"]["session_poll_interval_user"]=5}jQuery(window).resize(function(){wpmudev_chat.chat_session_size_box()});wpmudev_chat_localized["settings"]["screen_width"]=jQuery(window).width();wpmudev_chat_localized["settings"]["screen_height"]=jQuery(window).height();wpmudev_chat.isPlaceholderSupported="placeholder"in document.createElement("input");wpmudev_chat.settings["sessions"]={};if(wpmudev_chat_localized["sessions"]!=undefined){for(var e in wpmudev_chat_localized["sessions"]){if(!wpmudev_chat_localized["sessions"].hasOwnProperty(e))continue;wpmudev_chat.settings["sessions"][e]=wpmudev_chat_localized["sessions"][e];wpmudev_chat.settings["sessions"][e]["has_send_message"]=true}}wpmudev_chat.settings["user"]={};if(wpmudev_chat_localized["user"]!=undefined){for(var e in wpmudev_chat_localized["user"]){if(!wpmudev_chat_localized["user"].hasOwnProperty(e))continue;wpmudev_chat.settings["user"][e]=wpmudev_chat_localized["user"][e]}}wpmudev_chat.cookie("wpmudev-chat-user",JSON.stringify(wpmudev_chat.settings["user"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});wpmudev_chat.settings["auth"]={};if(wpmudev_chat_localized["auth"]!=undefined){if(wpmudev_chat_localized["auth"]["type"]!="invalid"){wpmudev_chat.settings["auth"]=wpmudev_chat_localized["auth"]}}else{var t=wpmudev_chat.cookie("wpmudev-chat-auth");if(t!=undefined&&!jQuery.isEmptyObject(t)){wpmudev_chat.settings["auth"]=JSON.parse(t)}}wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});wpmudev_chat.timers["messages"]=0;wpmudev_chat.timers["invites"]=0;wpmudev_chat.timers["meta"]=0;wpmudev_chat.timers["users"]=0;wpmudev_chat.pids["chat_session_message_update"]="";wpmudev_chat.pids["chat_sessions_init"]="";wpmudev_chat.pids["chat_session_messages_send"]="";wpmudev_chat.errors["chat_session_message_update"]=0;wpmudev_chat.errors["chat_sessions_init"]=0;wpmudev_chat.errors["chat_session_messages_send"]=0;wpmudev_chat.chat_privite_invite_click();wpmudev_chat.chat_sessions_init()},chat_sessions_init:function(){var e={};if(wpmudev_chat.settings["sessions"]!=undefined&&Object.keys(wpmudev_chat.settings["sessions"]).length>0){for(var t in wpmudev_chat.settings["sessions"]){var n=wpmudev_chat.settings["sessions"][t];e[t]={};e[t]["id"]=n["id"];e[t]["blog_id"]=n["blog_id"];e[t]["session_type"]=n["session_type"]}}if(Object.keys(e).length>0){if(wpmudev_chat.pids["chat_sessions_init"]==""&&wpmudev_chat.errors["chat_sessions_init"]<10){wpmudev_chat.pids["chat_sessions_init"]=jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],dataType:"json",cache:false,data:{"function":"chat_init",action:"chatProcess","wpmudev-chat-sessions":e,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},error:function(e,t,n){wpmudev_chat.pids["chat_sessions_init"]="";wpmudev_chat.errors["chat_sessions_init"]=parseInt(wpmudev_chat.errors["chat_sessions_init"])+1;console.log("init: error HTTP Status["+e.status+"] "+n);var r=1;setTimeout(function(){wpmudev_chat.chat_sessions_init()},r*1e3)},success:function(e){wpmudev_chat.pids["chat_sessions_init"]="";if(e!=undefined){if(e["performance"]!=undefined){console.log("performance: chat_init: %o",e["performance"])}wpmudev_chat.errors["chat_sessions_init"]=0;if(e["sessions"]!=undefined){for(var t in e["sessions"]){var n=e["sessions"][t];if(n["html"]!=undefined){jQuery("div#wpmudev-chat-box-"+t).html(n["html"])}if(n["css"]!=undefined){jQuery("div#wpmudev-chat-box-"+t).after(n["css"])}wpmudev_chat.chat_session_box_actions(t);if(wpmudev_chat.isPlaceholderSupported==false){jQuery("div#wpmudev-chat-box-"+t+" div.wpmudev-chat-module-login div.chat-login-wrap label.wpmudev-chat-login-label").show()}jQuery("div#wpmudev-chat-box-"+t).show()}}wpmudev_chat.chat_session_set_auth_view();wpmudev_chat.chat_session_sound_setup(0);if(wpmudev_chat.settings["auth"]["type"]!="wordpress"){wpmudev_chat.chat_session_facebook_setup();wpmudev_chat.chat_session_google_plus_setup();wpmudev_chat.chat_session_twitter_setup()}wpmudev_chat.chat_session_size_box();wpmudev_chat.chat_session_size_message_list();wpmudev_chat.chat_session_message_update()}else{wpmudev_chat.errors["chat_sessions_init"]=parseInt(wpmudev_chat.errors["chat_sessions_init"])+1;var r=1;setTimeout(function(){wpmudev_chat.chat_sessions_init()},r*1e3)}},beforeSend:function(){}})}}else{wpmudev_chat.chat_session_message_update()}},chat_session_message_update:function(){var e={};if(wpmudev_chat.settings["sessions"]!=undefined){for(var t in wpmudev_chat.settings["sessions"]){var n=wpmudev_chat.settings["sessions"][t];if(jQuery("div#wpmudev-chat-box-"+t+" div.wpmudev-chat-module-messages-list").length){if(n["poll_max_min"]!=undefined&&n["poll_max_min"]=="disabled"&&jQuery("div#wpmudev-chat-box-"+n["id"]).hasClass("wpmudev-chat-box-min")){continue}if(jQuery("div#wpmudev-chat-box-"+t+".wpmudev-chat-box").hasClass("wpmudev-chat-dashboard-widget")){var r=jQuery("div#wpmudev-chat-box-"+t+".wpmudev-chat-box").parents("div.postbox");if(r!=undefined){if(jQuery(r).hasClass("closed")||!jQuery(r).is(":visible"))continue}}if(jQuery("div#wpmudev-chat-box-"+t+".wpmudev-chat-box").hasClass("wpmudev-chat-box-pop-out")){continue}e[t]={};e[t]["id"]=n["id"];e[t]["blog_id"]=n["blog_id"];e[t]["session_type"]=n["session_type"];if(jQuery("div#wpmudev-chat-box-"+t+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").length){if(n["box_input_position"]=="top"){var i=jQuery("div#wpmudev-chat-box-"+t+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").first().attr("id").replace("wpmudev-chat-row-","")}else{var i=jQuery("div#wpmudev-chat-box-"+t+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").last().attr("id").replace("wpmudev-chat-row-","")}if(i!=undefined){var s=i.split("-");if(s[1]!=undefined)e[t]["last_row_id"]=s[1]}}else{e[t]["last_row_id"]="__EMPTY__"}if(jQuery("body").hasClass("wpmudev-chat-pop-out"))e[t]["template"]="wpmudev-chat-pop-out"}}}var o={};o["messages"]=0;o["users"]=0;o["invites"]=0;o["meta"]=0;var u=Math.round((new Date).getTime()/1e3);if(Object.keys(e).length){o["messages"]=1}if(u-wpmudev_chat_localized["settings"]["session_poll_interval_invites"]>wpmudev_chat.timers["invites"]){o["invites"]=1;wpmudev_chat.timers["invites"]=u}if(u-wpmudev_chat_localized["settings"]["session_poll_interval_meta"]>wpmudev_chat.timers["meta"]){o["meta"]=1;wpmudev_chat.timers["meta"]=u}if(u-wpmudev_chat_localized["settings"]["session_poll_interval_users"]>wpmudev_chat.timers["users"]){o["users"]=1;wpmudev_chat.timers["users"]=u}if(wpmudev_chat.pids["chat_session_message_update"]==""&&wpmudev_chat.errors["chat_session_message_update"]<10){if(o["users"]==0&&o["meta"]==0&&o["invites"]==0&&o["messages"]==0){if(wpmudev_chat.settings["auth"]["type"]!=undefined){var a=wpmudev_chat_localized["settings"]["session_poll_interval_messages"]}else{var a=wpmudev_chat_localized["settings"]["session_poll_interval_messages"]*3}a=5;setTimeout(function(){wpmudev_chat.chat_session_message_update()},a*1e3)}else{wpmudev_chat.pids["chat_session_message_update"]=jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],dataType:"json",cache:false,data:{"function":"chat_messages_update",action:"chatProcess",timers:o,"wpmudev-chat-sessions":e,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},error:function(e,t,n){wpmudev_chat.errors["chat_session_message_update"]=parseInt(wpmudev_chat.errors["chat_session_message_update"])+1;console.log("chat_session_message_update: error HTTP Status["+e.status+"] "+n)},success:function(e){var t={};if(e!=undefined){wpmudev_chat.errors["chat_session_message_update"]=0;if(e["performance"]!=undefined){console.log("performance: chat_messages_update: %o",e["performance"])}if(e["invites"]!=undefined){for(var n in e["invites"]){if(!e["invites"].hasOwnProperty(n))continue;if(wpmudev_chat.settings["sessions"][n]!=undefined){console.log("chat_session ["+n+"] already exists");continue}else{wpmudev_chat.chat_session_add_item(n,e["invites"][n]);wpmudev_chat.chat_session_box_actions(n)}}wpmudev_chat.chat_session_size_box()}if(e["sessions"]!=undefined){for(var n in e["sessions"]){var r=wpmudev_chat.chat_session_get_session_by_id(n);if(r==undefined)continue;var i=e["sessions"][n];if(i["last_row_id"]!=undefined){wpmudev_chat.settings["sessions"][n]["last_row_id"]=i["last_row_id"]}if(i["rows"]!=undefined){if(i["rows"]=="__EMPTY__"){if(wpmudev_chat.settings["sessions"][n]["last_row_id"]!="__EMPTY__"){wpmudev_chat.settings["sessions"][n]["last_row_id"]=i["rows"];jQuery("div#wpmudev-chat-box-"+n+" div.wpmudev-chat-module-messages-list").empty();jQuery("div#wpmudev-chat-box-"+n+" div.wpmudev-chat-module-session-generic-message p").html(r["session_cleared_message"]);jQuery("div#wpmudev-chat-box-"+n+" div.wpmudev-chat-module-session-generic-message").show().delay(5e3).fadeOut(wpmudev_chat.chat_session_size_message_list)}}else if(Object.keys(i["rows"]).length){var s=wpmudev_chat.chat_session_process_rows(r,i["rows"]);if(s==true){if(wpmudev_chat.settings["sessions"][n]["box_sound"]=="enabled"&&wpmudev_chat.settings["user"][n]["sound_on_off"]=="on"){if(!jQuery("div#wpmudev-chat-box-"+n+".wpmudev-chat-box").hasClass("wpmudev-chat-box-pop-out")){if(r["has_send_message"]==true){wpmudev_chat.settings["sessions"][n]["has_send_message"]=false}else{t[n]=true}}}}}wpmudev_chat.chat_session_click_avatar_row(n);wpmudev_chat.chat_session_admin_row_actions(n);if(r["moderator"]=="no"){jQuery("div#wpmudev-chat-box-"+n+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row ul.wpmudev-chat-row-footer").remove()}}if(i["meta"]!=undefined&&Object.keys(i["meta"]).length){if(i["meta"]["session-status"]!=undefined){if(r["session_type"]=="private"){if(i["meta"]["session-status"]=="yes"){wpmudev_chat.chat_session_remove_item(n);continue}}else{wpmudev_chat.chat_session_process_status_change(n,i["meta"]["session-status"])}}if(i["meta"]["users-active"]!=undefined){wpmudev_chat.chat_session_process_users_list(n,i["meta"]["users-active"])}if(i["meta"]["deleted-rows"]!=undefined){wpmudev_chat.chat_session_admin_process_row_delete_actions(n,i["meta"]["deleted-rows"])}}if(i["global"]!=undefined){if(i["global"]["blocked-ip-addresses"]!=undefined){wpmudev_chat.chat_session_admin_process_blocked_ip_addresses(n,i["global"]["blocked-ip-addresses"])}if(i["global"]["blocked-users"]!=undefined){wpmudev_chat.chat_session_admin_process_blocked_users(n,i["global"]["blocked-users"])}}}if(Object.keys(t).length>0){wpmudev_chat.chat_session_sound_play()}}wpmudev_chat.wp_admin_bar_setup();wpmudev_chat.chat_session_set_auth_view()}else{wpmudev_chat.errors["chat_session_message_update"]=parseInt(wpmudev_chat.errors["chat_session_message_update"])+1}wpmudev_chat.chat_session_messages_send()},complete:function(e,t,n){wpmudev_chat.pids["chat_session_message_update"]="";if(Object.keys(wpmudev_chat.settings["sessions"]).length>0){var r=wpmudev_chat_localized["settings"]["session_poll_interval_messages"]}else{if(wpmudev_chat_localized["settings"]["session_poll_interval_messages"]<5)r=5;else r=wpmudev_chat_localized["settings"]["session_poll_interval_messages"]}setTimeout(function(){wpmudev_chat.chat_session_message_update()},r*1e3)}})}}},chat_session_add_item:function(e,t){if(wpmudev_chat.chat_session_get_session_by_id(e)!=undefined)return;wpmudev_chat.settings["sessions"][e]=t["session"];wpmudev_chat.settings["user"][e]=t["user"];wpmudev_chat.cookie("wpmudev-chat-user",JSON.stringify(wpmudev_chat.settings["user"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});var n=t["session"];var r=0;var i=0;jQuery(".wpmudev-chat-box-site").each(function(){r+=1;i+=jQuery(this).outerWidth(true)});if(t["html"]!=undefined&&t["html"]!=undefined!=""){jQuery("body").append(t["html"])}if(t["css"]!=undefined&&t["css"]!=undefined!=""){jQuery("div#wpmudev-chat-box-"+e).after(t["css"])}if(r>0){i+=parseInt(n["box_offset_h"]);if(n["box_position_h"]=="left")jQuery("#wpmudev-chat-box-"+n["id"]).css("left",i+"px");else jQuery("#wpmudev-chat-box-"+n["id"]).css("right",i+"px")}jQuery("#wpmudev-chat-box-"+n["id"]).show()},chat_session_remove_item:function(e){var t={};var n=wpmudev_chat.settings["sessions"][e];t[e]={};t[e]["id"]=n["id"];t[e]["blog_id"]=n["blog_id"];t[e]["session_type"]=n["session_type"];jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],dataType:"json",cache:false,data:{"function":"chat_meta_leave_private_session",action:"chatProcess","wpmudev-chat-sessions":t,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}else if(e["errorStatus"]==false){if(e["sessions"]!=undefined){for(var t in e["sessions"]){var n=jQuery("div#wpmudev-chat-box-"+t);if(!jQuery.isEmptyObject(n)){jQuery(n).remove()}var r=jQuery("style#wpmudev-chat-box-"+t+"-css");if(!jQuery.isEmptyObject(r)){jQuery(r).remove()}delete wpmudev_chat.settings["sessions"][t];delete wpmudev_chat.settings["user"][t];wpmudev_chat.cookie("wpmudev-chat-user",JSON.stringify(wpmudev_chat.settings["user"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]})}}}}}}})},chat_session_update_user_invite_status:function(e,t){jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],dataType:"json",cache:false,data:{"function":"chat_invite_update_user_status",action:"chatProcess","chat-id":e,"invite-status":t,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})},chat_session_size_box:function(){if(jQuery("body").hasClass("wpmudev-chat-pop-out")){return}wpmudev_chat_localized["settings"]["screen_width"]=jQuery(window).outerWidth(true);wpmudev_chat_localized["settings"]["screen_height"]=jQuery(window).outerHeight(true);for(var e in wpmudev_chat.settings["sessions"]){var t=wpmudev_chat.settings["sessions"][e];var n=parseInt(t["box_width"]);if(t["box_shadow_show"]=="enabled"){n=n+parseInt(t["box_shadow_h"])}var r=parseInt(t["box_height"]);if(t["box_shadow_show"]=="enabled"){r=r+parseInt(t["box_shadow_v"])}if(t["box_width_mobile_adjust"]=="window"){if(n>wpmudev_chat_localized["settings"]["screen_width"]){jQuery("#wpmudev-chat-box-"+e).css("width",parseInt(wpmudev_chat_localized["settings"]["screen_width"])-5);if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-site")&&t["box_position_adjust_mobile"]=="enabled"){jQuery("#wpmudev-chat-box-"+e).css("position","relative");jQuery("#wpmudev-chat-box-"+e).css("margin","0");if(t["box_position_h"]=="right"){jQuery("#wpmudev-chat-box-"+e).css("right","0")}else if(t["box_position_h"]=="left"){jQuery("#wpmudev-chat-box-"+e).css("left","0")}if(t["box_shadow_show"]=="enabled"){jQuery("#wpmudev-chat-box-"+e).css("box-shadow","none")}}}else{jQuery("#wpmudev-chat-box-"+e).css("width",t["box_width"]);if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-site")&&t["box_position_adjust_mobile"]=="enabled"){jQuery("#wpmudev-chat-box-"+e).css("position","fixed");if(t["box_position_h"]=="right"){jQuery("#wpmudev-chat-box-"+e).css("margin","0 0 0 "+t["box_offset_h"]);jQuery("#wpmudev-chat-box-"+e).css("right",t["box_offset_h"])}else if(t["box_position_h"]=="left"){jQuery("#wpmudev-chat-box-"+e).css("margin","0 "+t["box_offset_h"]+" 0 0");jQuery("#wpmudev-chat-box-"+e).css("left",t["box_offset_h"])}if(t["box_shadow_show"]=="enabled"){jQuery("#wpmudev-chat-box-"+e).css("box-shadow",t["box_shadow_v"]+" "+t["box_shadow_h"]+" "+t["box_shadow_blur"]+" "+t["box_shadow_spread"]+" "+t["box_shadow_color"])}}}}if(t["box_height_mobile_adjust"]=="window"){if(!jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-min")){if(r>wpmudev_chat_localized["settings"]["screen_height"]){jQuery("#wpmudev-chat-box-"+e).css("height",wpmudev_chat_localized["settings"]["screen_height"]);if(t["box_shadow_show"]=="enabled"){jQuery("#wpmudev-chat-box-"+e).css("box-shadow","none")}if(t["box_position_v"]=="bottom"){jQuery("#wpmudev-chat-box-"+e).css("bottom","0")}else if(t["box_position_v"]=="top"){jQuery("#wpmudev-chat-box-"+e).css("top","0")}}else{jQuery("#wpmudev-chat-box-"+e).css("height",t["box_height"]);if(t["box_shadow_show"]=="enabled"){jQuery("#wpmudev-chat-box-"+e).css("box-shadow",t["box_shadow_v"]+" "+t["box_shadow_h"]+" "+t["box_shadow_blur"]+" "+t["box_shadow_spread"]+" "+t["box_shadow_color"])}if(t["box_position_v"]=="bottom"){jQuery("#wpmudev-chat-box-"+e).css("margin","0 0 "+t["box_offset_v"]+" 0");jQuery("#wpmudev-chat-box-"+e).css("bottom",t["box_offset_v"])}else if(t["box_position_v"]=="top"){jQuery("#wpmudev-chat-box-"+e).css("margin",t["box_offset_v"]+" 0 0 0");jQuery("#wpmudev-chat-box-"+e).css("top",t["box_offset_v"])}}}}}wpmudev_chat.chat_session_size_message_list()},chat_session_size_message_list:function(){for(var e in wpmudev_chat.settings["sessions"]){var t=wpmudev_chat.settings["sessions"][e];if(!jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").is(":visible"))continue;var n=jQuery("#wpmudev-chat-box-"+e).height();var r=jQuery("#wpmudev-chat-box-"+e).width();var i=0;jQuery("#wpmudev-chat-box-"+e+" .wpmudev-chat-module").each(function(){if(!jQuery(this).hasClass("wpmudev-chat-module-messages-list")&&!jQuery(this).hasClass("wpmudev-chat-module-users-list")&&jQuery(this).is(":visible")){i+=jQuery(this).outerHeight(true)}});if(t["users_list_position"]=="none"){if(i<n){var s=n-i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(s+1)}else if(i>n){var s=n-i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(s+1)}}else if(t["users_list_position"]=="left"||t["users_list_position"]=="right"){if(jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list")&&jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").is(":visible")){var o=jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").outerHeight(true)}else{var o=0}if(jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list")&&jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").is(":visible")){var u=jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").outerHeight(true)}else{var u=0}if(o==u){i+=o}else if(o>u){i+=o;jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").height(o)}else if(o<u){i+=u;jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(u)}var a=jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").outerHeight(true);if(i<n){var s=n-i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(a+s);jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").height(a+s)}else if(i>n){var s=n-i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(a+s);jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").height(a+s)}}else if(t["users_list_position"]=="above"||t["users_list_position"]=="below"){if(jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list")&&jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").is(":visible")){i+=jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").outerHeight(true)}if(jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list")&&jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").is(":visible")){var o=jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").outerHeight(true)}else{var o=0}i+=o;if(i<n){var s=n-i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(o+s+1)}else if(i>n){var s=n-i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").height(o+s+1)}}}},chat_session_set_auth_view:function(){jQuery("div.wpmudev-chat-box-site.wpmudev-chat-box-min div.wpmudev-chat-module-login").hide();jQuery("div.wpmudev-chat-box.wpmudev-chat-box-max.wpmudev-chat-session-closed div.wpmudev-chat-module-session-status").show();jQuery("div.wpmudev-chat-box.wpmudev-chat-box-max.wpmudev-chat-session-open div.wpmudev-chat-module-session-status").hide();jQuery("div.wpmudev-chat-box.wpmudev-chat-box-min.wpmudev-chat-session-closed div.wpmudev-chat-module-session-status").hide();if(wpmudev_chat.settings["auth"]["type"]!=undefined){jQuery("div.wpmudev-chat-box div.wpmudev-chat-module-login").hide();jQuery("div.wpmudev-chat-box div.wpmudev-chat-module-login-prompt").hide();if(jQuery("body").hasClass("wpmudev-chat-pop-out"))jQuery("body.wpmudev-chat-pop-out div.wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out").hide();else jQuery("div.wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out").show();if(wpmudev_chat.settings["auth"]["type"]=="wordpress"){jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-login").hide();jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-logout").hide()}else{jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-login").hide();jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-logout").show();jQuery("div.wpmudev-chat-box-private ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-logout").hide()}for(var e in wpmudev_chat.settings["sessions"]){if(!jQuery("div#wpmudev-chat-box-"+e).length)continue;var t=wpmudev_chat.settings["sessions"][e];if(t==undefined)continue;if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-session-ip-blocked")){if(t["moderator"]=="no"){jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-banned-status").show();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-messages-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-users-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-message-area").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-login").hide()}}else if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-session-user-blocked")){if(t["moderator"]=="no"){jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-user-blocked div.wpmudev-chat-module-banned-status").show();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-user-blocked div.wpmudev-chat-module-messages-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-user-blocked div.wpmudev-chat-module-users-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-user-blocked div.wpmudev-chat-module-message-area").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-user-blocked div.wpmudev-chat-module-login").hide()}}else{if(t["moderator"]=="no"){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-banned-status").hide();if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-session-closed")){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").hide()}else{jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").show()}}if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-site")||jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-private")){if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-min")){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-messages-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-users-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out").hide()}else{jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-users-list").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-messages-list").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").show();if(t["moderator"]=="no"){if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-session-closed")){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").hide()}else{jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").show()}}jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").show();if(jQuery("body").hasClass("wpmudev-chat-pop-out"))jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out").hide();else jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out").show()}}else{jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-users-list").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-messages-list").show()}}}}else{jQuery("div.wpmudev-chat-box div.wpmudev-chat-module-session-status").hide();jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-login").show();jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-logout").hide();jQuery("div.wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out").hide();for(var e in wpmudev_chat.settings["sessions"]){if(!jQuery("div#wpmudev-chat-box-"+e).length)continue;var t=wpmudev_chat.settings["sessions"][e];if(t==undefined)continue;if(jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-session-ip-blocked")&&t["moderator"]=="no"){jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-banned-status").show();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-login-prompt").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-messages-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-users-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-message-area").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked div.wpmudev-chat-module-login").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+".wpmudev-chat-session-ip-blocked ul.wpmudev-chat-actions-menu").hide()}else{jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-area").hide();if((t["session_type"]=="site"||t["session_type"]=="private")&&jQuery("div#wpmudev-chat-box-"+t["id"]).hasClass("wpmudev-chat-box-min")){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login-prompt").hide()}else{if(t["noauth_view"]=="default"){if(jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login").is(":visible")){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login-prompt").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-message-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-users-list").hide()}else{jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-messages-list").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-users-list").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login-prompt").show()}jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").show()}else if(t["noauth_view"]=="login-only"){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login").show();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login button.wpmudev-chat-login-cancel").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-messages-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-users-list").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").hide()}else if(t["noauth_view"]=="no-login"){jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login-prompt").hide();jQuery("div#wpmudev-chat-box-"+t["id"]+" div.wpmudev-chat-module-login").hide();jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-login").hide();jQuery("div.wpmudev-chat-box ul.wpmudev-chat-actions-menu li.wpmudev-chat-action-menu-item-logout").hide()}}}}}wpmudev_chat.chat_session_size_message_list();for(var e in wpmudev_chat.settings["sessions"]){if(!jQuery("div#wpmudev-chat-box-"+e).length)continue;var t=wpmudev_chat.settings["sessions"][e];if(t==undefined)continue;var n=jQuery("div#wpmudev-chat-box-"+e).width();var r=jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-header div.wpmudev-chat-module-header-actions").width();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-header div.wpmudev-chat-module-header-title").width(n-r-5)}},chat_session_handle_keydown:function(e){var t=jQuery(this).parents("div.wpmudev-chat-box").attr("id");var n=t.replace("wpmudev-chat-box-","");var r=wpmudev_chat.chat_session_get_session_by_id(n);if(r!=undefined){var i=e.keyCode?e.keyCode:e.which;if(i.toString()!=13||i.toString()==13&&e.shiftKey){var s=jQuery(this).val();if(r["row_message_input_length"]>0){if(s.length>r["row_message_input_length"]){var o=s.substr(0,r["row_message_input_length"]);jQuery(this).val(o);jQuery("#"+t+" div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-length span.wpmudev-chat-character-count").html(o.length)}else{jQuery("#"+t+" div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-length span.wpmudev-chat-character-count").html(s.length)}}else{jQuery("#"+t+" div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-length span.wpmudev-chat-character-count").html(s.length)}}else{if(!jQuery("div#wpmudev-chat-box-"+n+".wpmudev-chat-box div.wpmudev-chat-module-message-area button.wpmudev-chat-send-button").length){e.preventDefault();var s=jQuery.trim(jQuery(this).val());if(s!=""){wpmudev_chat.chat_session_enqueue_message(s,r);jQuery(this).val("");jQuery("#"+t+" div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-length span.wpmudev-chat-character-count").html("0")}}else{}}}},chat_session_handle_send_button:function(e){var t=wpmudev_chat.chat_session_get_session_by_id(e);if(jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area button.wpmudev-chat-send-button").length){jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area button.wpmudev-chat-send-button").click(function(n){n.preventDefault();var r=jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send");var i=jQuery.trim(jQuery(r).val());if(i!=""){wpmudev_chat.chat_session_enqueue_message(i,t);jQuery(r).val("");jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-length span.wpmudev-chat-character-count").html("0")}})}else{jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").on("keydown",wpmudev_chat.chat_session_handle_keydown)}},chat_session_get_session_by_id:function(e){if(wpmudev_chat.settings["sessions"][e]!=undefined)return wpmudev_chat.settings["sessions"][e]},chat_session_set_session_by_id:function(e,t){wpmudev_chat.settings["sessions"][e]=t},chat_session_get_auth_type:function(){if(wpmudev_chat.settings["auth"]["type"]==undefined)return"";else return wpmudev_chat.settings["auth"]["type"]},chat_session_enqueue_message:function(e,t){var n=t["id"];if(wpmudev_chat.send_data[n]==undefined)wpmudev_chat.send_data[n]={};if(e.length){var r=wpmudev_chat.microtime(true);wpmudev_chat.send_data[n][r]=e}wpmudev_chat.chat_session_messages_send()},chat_session_messages_send:function(){if(wpmudev_chat.pids["chat_session_messages_send"]!="")return;var e={};if(wpmudev_chat.settings["sessions"]!=undefined&&Object.keys(wpmudev_chat.settings["sessions"]).length>0){for(var t in wpmudev_chat.settings["sessions"]){if(wpmudev_chat.send_data[t]!=undefined&&Object.keys(wpmudev_chat.send_data[t]).length>0){var n=wpmudev_chat.settings["sessions"][t];e[t]={};e[t]["id"]=n["id"];e[t]["blog_id"]=n["blog_id"];e[t]["session_type"]=n["session_type"];wpmudev_chat.settings["sessions"][t]["has_send_message"]=true}}}if(Object.keys(e).length>0&&wpmudev_chat.pids["chat_session_messages_send"]==""&&wpmudev_chat.errors["chat_session_messages_send"]<10){wpmudev_chat.pids["chat_session_messages_send"]=jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],dataType:"json",cache:false,data:{"function":"chat_message_send",action:"chatProcess","wpmudev-chat-sessions":e,chat_messages:wpmudev_chat.send_data,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},error:function(e,t,n){wpmudev_chat.errors["chat_session_messages_send"]=parseInt(wpmudev_chat.errors["chat_session_messages_send"])+1;console.log("chat_message_send: error HTTP Status["+e.status+"] "+n)},success:function(e){wpmudev_chat.pids["chat_session_messages_send"]="";if(e!=undefined){wpmudev_chat.errors["chat_session_messages_send"]=0;if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){console.log("Chat: chat_message_send: reply [%s]",e["errorText"])}}else if(e["chat_messages"]!=undefined){for(var t in e["chat_messages"]){if(!e["chat_messages"].hasOwnProperty(t))continue;var n=e["chat_messages"][t];for(var r in n){if(!n.hasOwnProperty(r))continue;if(n[r]==true&&wpmudev_chat.send_data[t][r]!=undefined){var i=wpmudev_chat.send_data[t][r];delete wpmudev_chat.send_data[t][r]}}}}}}else{wpmudev_chat.errors["chat_session_messages_send"]=parseInt(wpmudev_chat.errors["chat_session_messages_send"])+1}var s=1;setTimeout(function(){wpmudev_chat.chat_session_messages_send()},s*1e3)},complete:function(e,t,n){wpmudev_chat.pids["chat_session_messages_send"]="";var r=1;setTimeout(function(){wpmudev_chat.chat_session_messages_send()},r*1e3)}})}},chat_session_process_rows:function(e,t){var n="";var r=e["id"];var i=0;for(var s in t){if(t.hasOwnProperty(s)){if(!jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list div#wpmudev-chat-row-"+s).length){i+=1;if(e["box_input_position"]=="top"){n=t[s]+n}else{n=n+t[s]}}}}if(n!==""){var o=true;var u=jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list");var a=u.height();var f=jQuery("div.wpmudev-chat-row",u).last();if(jQuery(f).length){var l=jQuery(f).height();var c=f.offset();var h=u.offset();var p=c.top-h.top;if(p<a)o=true;else o=false}if(e["box_input_position"]=="top"){jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list").prepend(n)}else if(e["box_input_position"]=="bottom"){jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list").append(n);if(o==true){var f=jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").last();if(f.length){var d=f.position();var v=u.scrollTop()+d.top;jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list").animate({scrollTop:v},1e3)}}}if(e["log_limit"]!=undefined){while(jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").length>e["log_limit"]){if(e["box_input_position"]=="bottom"){jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").eq(0).remove()}else if(e["box_input_position"]=="top"){jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").last().remove()}}}if(i>0&&jQuery("#wpmudev-chat-box-"+r).hasClass("wpmudev-chat-box-min")){var m=jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-header span.wpmudev-chat-title-count").attr("last_row_count");if(m==""||m==undefined){m=0}else{m=parseInt(m)}var g=i+m;jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-header span.wpmudev-chat-title-count").html("("+g+")");jQuery("#wpmudev-chat-box-"+r+" div.wpmudev-chat-module-header span.wpmudev-chat-title-count").attr("last_row_count",g)}return true}},chat_session_admin_row_actions:function(e){if(wpmudev_chat.settings["auth"]["auth_hash"]!=undefined){jQuery("div#wpmudev-chat-box-"+e+'.wpmudev-chat-box-moderator div.wpmudev-chat-module-messages-list div.wpmudev-chat-row ul.wpmudev-chat-row-footer li.wpmudev-chat-admin-actions-item-invite a[rel="'+wpmudev_chat.settings["auth"]["auth_hash"]+'"]').each(function(){jQuery(this).parents("li.wpmudev-chat-admin-actions-item-invite").hide()})}var t="div#wpmudev-chat-box-"+e+".wpmudev-chat-box-moderator div.wpmudev-chat-module-messages-list div.wpmudev-chat-row ul.wpmudev-chat-row-footer li.wpmudev-chat-admin-actions-item a";jQuery(t).unbind("click");jQuery(t).click(function(t){t.preventDefault();var n=jQuery(this).parents(".wpmudev-chat-row").attr("id").replace("wpmudev-chat-row-","");var r=wpmudev_chat.chat_session_get_session_by_id(e);if(r==undefined)return false;if(jQuery(this).hasClass("wpmudev-chat-admin-actions-item-delete")){if(jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-moderator div.wpmudev-chat-module-messages-list #wpmudev-chat-row-"+n).hasClass("wpmudev-chat-row-deleted"))var i="undelete";else var i="delete";jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_session_moderate_message",chat_id:e,chat_session:r,row_id:n,moderate_action:i,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})}else if(jQuery(this).hasClass("wpmudev-chat-admin-actions-item-block-ip")){var s=jQuery(this).attr("rel");if(jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-moderator div.wpmudev-chat-module-messages-list #wpmudev-chat-row-"+n).hasClass("wpmudev-chat-row-ip-blocked"))var i="unblock-ip";else var i="block-ip";jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_session_moderate_ipaddress",chat_id:e,chat_session:r,ip_address:s,moderate_action:i,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})}else if(jQuery(this).hasClass("wpmudev-chat-admin-actions-item-block-user")){var o=jQuery(this).attr("rel");if(jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-moderator div.wpmudev-chat-module-messages-list #wpmudev-chat-row-"+n).hasClass("wpmudev-chat-row-user-blocked"))var u="unblock-user";else var u="block-user";jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_session_moderate_user",chat_id:e,chat_session:r,moderate_item:o,moderate_action:u,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})}else if(jQuery(this).hasClass("wpmudev-chat-user-invite")){var a=jQuery(this).attr("rel");if(a!=""){wpmudev_chat.chat_process_private_invite(a)}}return false})},chat_session_admin_process_row_delete_actions:function(e,t){var n="wpmudev-chat-row-deleted";jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row").each(function(){var r=jQuery(this).attr("id");var i=r.replace("wpmudev-chat-row-","");var s=jQuery.inArray(i,t);if(s==-1){jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r).removeClass(n);jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r+" ul.wpmudev-chat-row-footer li.wpmudev-chat-admin-actions-item a.wpmudev-chat-admin-actions-item-delete span").text(wpmudev_chat_localized["settings"]["row_delete_text"])}else{jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r).addClass(n);jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r+" ul.wpmudev-chat-row-footer li.wpmudev-chat-admin-actions-item a.wpmudev-chat-admin-actions-item-delete span").text(wpmudev_chat_localized["settings"]["row_undelete_text"])}})},chat_session_admin_process_blocked_ip_addresses:function(e,t){var n="wpmudev-chat-row-ip-blocked";jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row."+n).each(function(){var r=jQuery(this).attr("id");if(!jQuery("#wpmudev-chat-box-"+e).hasClass("wpmudev-chat-box-private")){var i=jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r+" ul.wpmudev-chat-row-footer li.wpmudev-chat-admin-actions-item a.wpmudev-chat-admin-actions-item-block-ip").attr("rel");if(i!=undefined){var s=jQuery.inArray(i,t);if(s==-1){jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r).removeClass(n)}else{jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r).addClass(n)}}}});for(var r in t){if(t.hasOwnProperty(r)){var i=t[r];i=i.replace(".","-");i=i.replace(".","-");i=i.replace(".","-");if(!jQuery("#wpmudev-chat-box-"+e).hasClass("wpmudev-chat-box-private")){jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row-ip-"+i).each(function(){var t=jQuery(this).attr("id");jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+t).addClass(n)})}}}if(!jQuery("#wpmudev-chat-box-"+e).hasClass("wpmudev-chat-box-private")){if(wpmudev_chat.settings["auth"]["ip_address"]!=undefined&&wpmudev_chat.settings["sessions"][e]["moderator"]!="yes"){var s=wpmudev_chat.settings["auth"]["ip_address"];var o=jQuery.inArray(s,t);if(o==-1){jQuery("#wpmudev-chat-box-"+e).removeClass("wpmudev-chat-session-ip-blocked")}else{jQuery("#wpmudev-chat-box-"+e).addClass("wpmudev-chat-session-ip-blocked")}}}for(var e in wpmudev_chat.settings["sessions"]){if(jQuery("div#wpmudev-chat-box-"+e).length){if(!jQuery("#wpmudev-chat-box-"+e).hasClass("wpmudev-chat-box-private")){var o=jQuery.inArray(wpmudev_chat.settings["sessions"][e]["ip_address"],t);if(o==-1){jQuery("#wpmudev-chat-box-"+e).removeClass("wpmudev-chat-session-ip-blocked")}else{jQuery("#wpmudev-chat-box-"+e).addClass("wpmudev-chat-session-ip-blocked")}}}}},chat_session_admin_process_blocked_users:function(e,t){var n="wpmudev-chat-row-user-blocked";jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row."+n).each(function(){var r=jQuery(this).attr("id");var i=jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r+" ul.wpmudev-chat-row-footer li.wpmudev-chat-admin-actions-item a.wpmudev-chat-admin-actions-item-block-user").attr("rel");if(i!=undefined){var s=jQuery.inArray(i,t);if(s==-1){jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r).removeClass(n)}else{jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+r).addClass(n)}}});for(var r in t){if(t.hasOwnProperty(r)){var i=t[r];i=i.replace("@","-");i=i.replace(".","-");jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row-user-"+i).each(function(){var t=jQuery(this).attr("id");var r;jQuery("#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list #"+t).addClass(n)})}}if(wpmudev_chat.settings["auth"]["email"]!=undefined&&wpmudev_chat.settings["sessions"][e]["moderator"]!="yes"){var s=wpmudev_chat.settings["auth"]["email"];var o=jQuery.inArray(s,t);if(o==-1){jQuery("#wpmudev-chat-box-"+e).removeClass("wpmudev-chat-session-user-blocked")}else{jQuery("#wpmudev-chat-box-"+e).addClass("wpmudev-chat-session-user-blocked")}}},chat_session_process_status_change:function(e,t){wpmudev_chat.settings["sessions"][e]["session_status"]=t;if(t=="open"){jQuery("div#wpmudev-chat-box-"+e).removeClass("wpmudev-chat-session-closed");jQuery("div#wpmudev-chat-box-"+e).addClass("wpmudev-chat-session-open")}else{jQuery("div#wpmudev-chat-box-"+e).removeClass("wpmudev-chat-session-open");jQuery("div#wpmudev-chat-box-"+e).addClass("wpmudev-chat-session-closed")}},chat_session_status_update:function(e,t){jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_session_moderate_status",chat_session:wpmudev_chat.chat_session_get_session_by_id(e),chat_session_status:t,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})},chat_session_click_avatar_row:function(e){jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row p.wpmudev-chat-message a.wpmudev-chat-user").unbind("click");jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list div.wpmudev-chat-row p.wpmudev-chat-message a.wpmudev-chat-user").click(function(t){t.preventDefault();var n=jQuery(this).attr("title");if(n!=""){var r=jQuery("#wpmudev-chat-box-"+e+" textarea.wpmudev-chat-send");var i=jQuery(r).val();if(wpmudev_chat.isPlaceholderSupported==false){var s=jQuery(r).attr("placeholder");if(s==i){i=""}}if(i!="")i=i+" ";i=i+n+" ";jQuery(r).val(i).focus()}t.preventDefault();return false})},chat_session_add_user_to_list:function(e,t,n){var r=wpmudev_chat.chat_session_get_session_by_id(e);if(r==undefined)return;if(r["users_list_position"]=="none")return;if(t["auth_hash"]==wpmudev_chat.settings["auth"]["auth_hash"])return;var i=t.auth_hash;if(!jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list ul.wpmudev-chat-"+n).length){jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").append('<ul class="wpmudev-chat-'+n+'"></ul>')}if(!jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list ul.wpmudev-chat-"+n+" li#wpmudev-chat-user-"+i).length){var s;if(r["users_list_show"]=="avatar"&&t["avatar"]!=undefined){s='<li id="wpmudev-chat-user-'+i+'" class="wpmudev-chat-user"><a title="@'+t["name"]+'" href="#">'+t["avatar"]+"</a></li>"}else{s='<li id="wpmudev-chat-user-'+i+'" class="wpmudev-chat-user"><a title="@'+t["name"]+'" href="#">'+t["name"]+"</a></li>"}if(s!=""){jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list ul.wpmudev-chat-"+n).append(s);jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list ul.wpmudev-chat-"+n+" li#wpmudev-chat-user-"+i+" a").click(function(t){t.preventDefault();var n=jQuery(this).attr("title");if(n!=""){var r=jQuery("#wpmudev-chat-box-"+e+" textarea.wpmudev-chat-send");var i=jQuery(r).val();if(wpmudev_chat.isPlaceholderSupported==false){var s=jQuery(r).attr("placeholder");if(s==i){i=""}}if(i!="")i=i+" ";i=i+n+" ";jQuery(r).val(i).focus()}})}}},chat_session_remove_user_from_list:function(e,t,n){var r=wpmudev_chat.chat_session_get_session_by_id(e);if(r==undefined)return;if(r["users_list_position"]=="none")return;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list ul.wpmudev-chat-"+n+" li#wpmudev-chat-user-"+t).remove()},chat_session_private_update_title:function(e){if(e["session_type"]!="private")return;var t="";var n=e["id"];if(Object.keys(e["users"]).length>0){for(var r in e["users"]){if(!e["users"].hasOwnProperty(r))continue;if(Object.keys(e["users"][r]).length>0){for(var i in e["users"][r]){if(!e["users"][r].hasOwnProperty(i))continue;if(e["users"][r][i]["auth_hash"]!=wpmudev_chat.settings["auth"]["auth_hash"]){if(t!="")t=t+",";t=t+e["users"][r][i]["name"]}}}}}if(t!="")jQuery("div#wpmudev-chat-box-"+n+" div.wpmudev-chat-module-header span.wpmudev-chat-private-attendees").html(t);else jQuery("div#wpmudev-chat-box-"+n+" div.wpmudev-chat-module-header span.wpmudev-chat-private-attendees").html("")},chat_session_process_users_list:function(e,t){var n=wpmudev_chat.chat_session_get_session_by_id(e);if(n==undefined)return;var r="";var i="";var s="";var o="";if(n["users"]==undefined){n["users"]={}}if(Object.keys(n["users"]).length>0){for(var u in n["users"]){if(!n["users"].hasOwnProperty(u))continue;if(Object.keys(n["users"][u]).length>0){for(var a in n["users"][u]){if(!n["users"][u].hasOwnProperty(a))continue;if(t[u][a]==undefined){wpmudev_chat.chat_session_remove_user_from_list(e,a,u);if(n["users"][u][a]!=undefined){if(a!=wpmudev_chat.settings["auth"]["auth_hash"]){if(i!="")i+=", ";i+=n["users"][u][a]["name"]}delete n["users"][u][a]}}}}}}for(var u in t){if(!t.hasOwnProperty(u))continue;if(n["users"][u]==undefined){n["users"][u]={}}if(Object.keys(t[u]).length>0){for(var a in t[u]){if(!t[u].hasOwnProperty(a))continue;if(a!=wpmudev_chat.settings["auth"]["auth_hash"]){var f="";if(n["users"][u][a]==undefined){n["users"][u][a]=t[u][a];f=t[u][a]["connect_status"]}else{if(n["users"][u][a]["connect_status"]!=t[u][a]["connect_status"]){n["users"][u][a]=t[u][a];f=t[u][a]["connect_status"]}else if(t[u][a]["connect_status"]=="pending"||t[u][a]["connect_status"]=="declined"){f=t[u][a]["connect_status"]}else if(t[u][a]["connect_status"]=="exited"){f=t[u][a]["connect_status"]}}if(f=="accepted"){if(r!="")r+=", ";r+=t[u][a]["name"];wpmudev_chat.chat_session_add_user_to_list(e,t[u][a],u)}else if(f=="pending"){if(o!="")o+=", ";o+=t[u][a]["name"]}else if(f=="declined"){if(s!="")s+=", ";s+=t[u][a]["name"]}else if(f=="exited"){if(i!="")i+=", ";i+=t[u][a]["name"]}}}}else{}}if(n["users_enter_exit_status"]=="enabled"&&wpmudev_chat.settings["auth"]["type"]!=undefined){var l=n["users_enter_exit_delay"];l=1e3*l;if(r!=""){r=wpmudev_chat_localized["settings"]["user_entered_chat"]+": "+r;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").empty();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").html("<p>"+r+"</p>");if(n["session_type"]=="private"){jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").show().delay(l).fadeOut(wpmudev_chat.chat_session_size_message_list)}else{jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").show().delay(l).fadeOut(wpmudev_chat.chat_session_size_message_list)}}if(i!=""){i=wpmudev_chat_localized["settings"]["user_exited_chat"]+": "+i;jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").empty();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").html("<p>"+i+"</p>");if(n["session_type"]=="private"){jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").show();wpmudev_chat.chat_session_size_message_list()}else{jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").show().delay(l).fadeOut(wpmudev_chat.chat_session_size_message_list)}}if(n["session_type"]=="private"){var c="";if(o!=""||s!=""){if(o!=""){c+=wpmudev_chat_localized["settings"]["user_pending_chat"]+": "+o}if(s!=""){c+=wpmudev_chat_localized["settings"]["user_declined_chat"]+": "+s}if(c!=""){jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").empty();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").html("<p>"+c+"</p>");jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-session-user-status-message").show()}}else{}}}wpmudev_chat.chat_session_set_session_by_id(e,n);wpmudev_chat.chat_session_private_update_title(n)},chat_process_private_invite:function(e){if(e!=""){jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_session_invite_private","wpmudev-chat-to-user":e,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})}},chat_process_user_status_change:function(e){if(e!=""){jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_update_user_status","wpmudev-chat-user-status":e,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(t){if(jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-item span.wpmudev-chat-user-status-current span.wpmudev-chat-ab-icon").length){jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-item span.wpmudev-chat-user-status-current span.wpmudev-chat-ab-icon").removeClass("wpmudev-chat-ab-icon-"+wpmudev_chat.settings["auth"]["chat_status"]);jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-item span.wpmudev-chat-user-status-current span.wpmudev-chat-ab-icon").addClass("wpmudev-chat-ab-icon-"+e);jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-sub-wrapper li#wp-admin-bar-wpmudev-chat-user-statuses div.ab-sub-wrapper li#wp-admin-bar-wpmudev-chat-user-status-change-"+wpmudev_chat.settings["auth"]["chat_status"]).removeClass("wpmudev-chat-user-status-current");jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-sub-wrapper li#wp-admin-bar-wpmudev-chat-user-statuses div.ab-sub-wrapper li#wp-admin-bar-wpmudev-chat-user-status-change-"+e).addClass("wpmudev-chat-user-status-current");var n=jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-sub-wrapper li#wp-admin-bar-wpmudev-chat-user-statuses div.ab-sub-wrapper li.wpmudev-chat-user-status-current span.wpmudev-chat-ab-label").html();if(n!=""){jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container div.ab-sub-wrapper li#wp-admin-bar-wpmudev-chat-user-statuses div.ab-item span.wpmudev-chat-current-status-label").html(n)}}if(jQuery("select.wpmudev-chat-status-widget").length){jQuery("select.wpmudev-chat-status-widget").val(e);if(e=="available"){jQuery("select.wpmudev-chat-status-widget").addClass("wpmudev-chat-status-widget-available")}else{jQuery("select.wpmudev-chat-status-widget").removeClass("wpmudev-chat-status-widget-available")}}wpmudev_chat.settings["auth"]["chat_status"]=e;wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]})}})}},chat_session_sound_play:function(){if(wpmudev_chat.Sounds["ping"]){wpmudev_chat.Sounds["ping"].play()}},chat_session_sound_setup:function(e){try{wpmudev_chat.Sounds["ping"]=new buzz.sound(wpmudev_chat_localized["settings"]["plugin_url"]+"audio/ping",{formats:["mp3","wav","ogg"]})}catch(t){if(wpmudev_chat_localized["settings"]["soundManager-js"]!==undefined){jQuery.getScript(wpmudev_chat_localized["settings"]["soundManager-js"],function(t,n,r){if(e==0){wpmudev_chat.chat_session_sound_setup(e+1)}})}}},chat_session_box_actions:function(e){console.log("chat_session_box_actions: adding chat_id:"+e);var t=wpmudev_chat.chat_session_get_session_by_id(e);if(wpmudev_chat.settings["user"][e]["status_max_min"]=="max"){wpmudev_chat.chat_session_site_max(e)}else if(wpmudev_chat.settings["user"][e]["status_max_min"]=="min"){wpmudev_chat.chat_session_site_min(e)}jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings ul.wpmudev-chat-actions-settings-menu").css({display:"none"});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings a.wpmudev-chat-actions-settings-button").click(function(e){e.preventDefault();console.log("click event settings gear [%o]",e);jQuery(this).next().slideToggle(400)});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings ul.wpmudev-chat-actions-settings-menu li a").click(function(t){t.preventDefault();t.stopPropagation();jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings ul.wpmudev-chat-actions-settings-menu").css({display:"none"})});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-emoticons ul.wpmudev-chat-emoticons-list").css({display:"none"});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-emoticons").click(function(e){e.preventDefault();jQuery("ul.wpmudev-chat-emoticons-list",this).slideToggle(400)});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-emoticons ul.wpmudev-chat-emoticons-list li img").click(function(t){t.preventDefault();t.stopPropagation();jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta li.wpmudev-chat-send-input-emoticons ul.wpmudev-chat-emoticons-list").css({display:"none"})});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-out a").click(function(t){t.preventDefault();var n=jQuery(this).attr("href");var r=wpmudev_chat.chat_session_get_session_by_id(e);var i=500;if(wpmudev_chat_localized["settings"]["screen_width"]<500){i=wpmudev_chat_localized["settings"]["screen_width"]}var s=500;if(wpmudev_chat_localized["settings"]["screen_height"]<500){s=wpmudev_chat_localized["settings"]["screen_height"]}var o=window.open(n,r["box_title"],"width="+i+",height="+s+",resizable=yes,scrollbars=yes");if(o==null||typeof o=="undefined"){alert("Your browser has blocked a popup window\n\nWhen try to open the following url:\n"+n);window.location.href=n}else{wpmudev_chat.popouts[e]=o;jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box").hide();jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box").addClass("wpmudev-chat-box-pop-out");var u=window.setInterval(function(){if(o.closed!==false){jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box").show();jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box").removeClass("wpmudev-chat-box-pop-out");wpmudev_chat.popouts[e]="";window.clearInterval(u)}else{}},1e3)}});if(jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-private").hasClass("wpmudev-chat-box-invite-pending")){jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-private.wpmudev-chat-box-invite-pending div.wpmudev-chat-module-invite-prompt button").click(function(t){t.preventDefault();if(jQuery(this).hasClass("wpmudev-chat-invite-accept")){console.log("Accepted");wpmudev_chat.chat_session_update_user_invite_status(e,"accepted");jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-private").removeClass("wpmudev-chat-box-invite-pending");jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-private").addClass("wpmudev-chat-box-invite-accepted")}else if(jQuery(this).hasClass("wpmudev-chat-invite-declined")){console.log("Declined");wpmudev_chat.chat_session_update_user_invite_status(e,"declined");wpmudev_chat.chat_session_remove_item(e)}})}else{jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box-private div.wpmudev-chat-module-invite-prompt").hide()}jQuery("body.wpmudev-chat-pop-out div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings-pop-in a").click(function(e){e.preventDefault();window.close()});wpmudev_chat.chat_session_handle_send_button(e);if(wpmudev_chat.isPlaceholderSupported==false){var n=jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").attr("placeholder");var r=jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").val();if(r=="")jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").val(n);jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").focus(function(){if(jQuery(this).val()==n){jQuery(this).val("")}});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").blur(function(){if(jQuery(this).val()==""){jQuery(this).val(n)}})}if(jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box").hasClass("wpmudev-chat-box-can-minmax")){jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box .wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-min-max a").click(function(t){t.preventDefault();wpmudev_chat.chat_session_site_change_minmax(e,t)});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box .wpmudev-chat-module-header div.wpmudev-chat-module-header-title").click(function(t){t.preventDefault();wpmudev_chat.chat_session_site_change_minmax(e,t)})}jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-login a.wpmudev-chat-action-login").click(function(t){t.preventDefault();var n=jQuery(this).parents(".wpmudev-chat-box").attr("id");jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-messages-list").hide();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-users-list").hide();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-login").show();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-login-prompt").hide();jQuery("div#wpmudev-chat-box-"+e+" div.wpmudev-chat-module-login input.wpmudev-chat-login-name").focus();return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-logout a.wpmudev-chat-action-logout").click(function(e){e.preventDefault();if(wpmudev_chat.settings["auth"]["type"]=="wordpress"){return}else if(wpmudev_chat.settings["auth"]["type"]=="public_user"){wpmudev_chat.settings["auth"]={}}else if(wpmudev_chat.settings["auth"]["type"]=="facebook"){FB.logout();wpmudev_chat.settings["auth"]={}}else if(wpmudev_chat.settings["auth"]["type"]=="google_plus"){if(wpmudev_chat.settings["auth"]["access_token"]!=""&&wpmudev_chat.settings["auth"]["access_token"]!=undefined){wpmudev_chat.settings["auth"]={};var t="https://accounts.google.com/o/oauth2/revoke?token="+wpmudev_chat.settings["auth"]["access_token"];jQuery.ajax({type:"GET",url:t,async:false,contentType:"application/json",dataType:"jsonp",success:function(e){wpmudev_chat.settings["auth"]={}},error:function(e){}})}}else if(wpmudev_chat.settings["auth"]["type"]=="twitter"){wpmudev_chat.settings["auth"]={}}wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});wpmudev_chat.chat_session_set_auth_view();return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-exit a.wpmudev-chat-action-exit").click(function(t){t.preventDefault();wpmudev_chat.chat_session_remove_item(e)});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box button.wpmudev-chat-login-cancel").click(function(){var e=jQuery(this).parents(".wpmudev-chat-box");jQuery("div.wpmudev-chat-module-login",e).hide();wpmudev_chat.chat_session_set_auth_view();return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box a.wpmudev-chat-action-sound").click(wpmudev_chat.chat_session_site_change_sound);jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box button.wpmudev-chat-login-submit").click(function(){var e=jQuery(this).parents(".wpmudev-chat-box").attr("id");var t=jQuery("#"+e+" input.wpmudev-chat-login-name").val();var n=jQuery("#"+e+" input.wpmudev-chat-login-email").val();var r={};r["type"]="public_user";r["id"]="";r["name"]=t;r["profile_link"]="";r["avatar"]=n;r["email"]=n;var i=wpmudev_chat.chat_session_user_login(r,e)});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-message-area ul.wpmudev-chat-send-meta ul.wpmudev-chat-emoticons-list img").click(function(e){var t=jQuery(this).parents(".wpmudev-chat-box").attr("id");jQuery("#"+t+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").val(jQuery("#"+t+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").val()+" "+jQuery(this).attr("alt"));jQuery("#"+t+".wpmudev-chat-box div.wpmudev-chat-module-message-area textarea.wpmudev-chat-send").focus();return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-session-status-open a.wpmudev-chat-action-session-open").click(function(){var t="open";wpmudev_chat.chat_session_status_update(e,t);return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-session-status-closed a.wpmudev-chat-action-session-closed").click(function(){var t="closed";wpmudev_chat.chat_session_status_update(e,t);return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-session-clear a.wpmudev-chat-action-session-clear").click(function(){var t=jQuery(this).parents(".wpmudev-chat-box").attr("id");var n=wpmudev_chat.chat_session_get_session_by_id(e);if(n!=undefined){var r={};r[e]={};r[e]["id"]=n["id"];r[e]["blog_id"]=n["blog_id"];r[e]["session_type"]=n["session_type"];jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_messages_clear","wpmudev-chat-sessions":r,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})}return false});jQuery("div#wpmudev-chat-box-"+e+".wpmudev-chat-box div.wpmudev-chat-module-header ul.wpmudev-chat-actions-settings-menu li.wpmudev-chat-action-menu-item-session-archive a.wpmudev-chat-action-session-archive").click(function(){var t=jQuery(this).parents(".wpmudev-chat-box").attr("id");var n=wpmudev_chat.chat_session_get_session_by_id(e);if(n!=undefined){var r={};r[e]={};r[e]["id"]=n["id"];r[e]["blog_id"]=n["blog_id"];r[e]["session_type"]=n["session_type"];jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],cache:false,dataType:"json",data:{action:"chatProcess","function":"chat_messages_archive","wpmudev-chat-sessions":r,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==true){if(e["errorText"]!=undefined){}}}}}})}return false})},chat_session_site_change_minmax:function(e,t){var n="";if(jQuery("div#wpmudev-chat-box-"+e).hasClass("wpmudev-chat-box-min")){wpmudev_chat.chat_session_site_max(e);n="max";jQuery("div#wpmudev-chat-box-"+e+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").show()}else if(jQuery("div#wpmudev-chat-box-"+e).hasClass("wpmudev-chat-box-max")){wpmudev_chat.chat_session_site_min(e);n="min";jQuery("div#wpmudev-chat-box-"+e+" ul.wpmudev-chat-actions-menu li.wpmudev-chat-actions-settings").hide()}wpmudev_chat.settings["user"][e]["status_max_min"]=n;wpmudev_chat.cookie("wpmudev-chat-user",JSON.stringify(wpmudev_chat.settings["user"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]})},chat_session_site_change_sound:function(e){e.preventDefault();var t=jQuery(this).parents(".wpmudev-chat-box");var n=jQuery(t).attr("id").replace("wpmudev-chat-box-","");if(jQuery(t).hasClass("wpmudev-chat-box-sound-on")){jQuery(t).removeClass("wpmudev-chat-box-sound-on");jQuery(t).addClass("wpmudev-chat-box-sound-off");wpmudev_chat.settings["user"][n]["sound_on_off"]="off"}else if(jQuery(t).hasClass("wpmudev-chat-box-sound-off")){jQuery(t).removeClass("wpmudev-chat-box-sound-off");jQuery(t).addClass("wpmudev-chat-box-sound-on");wpmudev_chat.settings["user"][n]["sound_on_off"]="on"}wpmudev_chat.cookie("wpmudev-chat-user",JSON.stringify(wpmudev_chat.settings["user"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]})},chat_session_site_max:function(e){if(jQuery("body").hasClass("wpmudev-chat-pop-out"))return;var t=wpmudev_chat.chat_session_get_session_by_id(e);if(t==undefined)return;var n=jQuery("#wpmudev-chat-box-"+e);jQuery(n).removeClass("wpmudev-chat-box-min");jQuery(n).addClass("wpmudev-chat-box-max");if(t["box_height"]!=undefined){jQuery(n).height(t["box_height"])}jQuery(".wpmudev-chat-module",n).each(function(){if(jQuery(this).hasClass("wpmudev-chat-module-min-hidden")){jQuery(this).removeClass("wpmudev-chat-module-min-hidden");jQuery(this).show()}});jQuery(".wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-min-max img.wpmudev-chat-min",n).show();jQuery(".wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-min-max img.wpmudev-chat-max",n).hide();jQuery(".wpmudev-chat-module-header span.wpmudev-chat-title-count",n).html("");jQuery(".wpmudev-chat-module-header span.wpmudev-chat-title-count",n).attr("last_row_count","0");jQuery(".wpmudev-chat-module-header span.wpmudev-chat-title-count",n).hide();wpmudev_chat.chat_session_set_auth_view()},chat_session_site_min:function(e){var t=wpmudev_chat.chat_session_get_session_by_id(e);if(t==undefined)return;var n=jQuery("#wpmudev-chat-box-"+e);jQuery(n).removeClass("wpmudev-chat-box-max");jQuery(n).addClass("wpmudev-chat-box-min");var r=jQuery(n).outerHeight();var i=0;jQuery(".wpmudev-chat-module",n).each(function(){if(jQuery(this).hasClass("wpmudev-chat-module-header")){i+=jQuery(this).outerHeight(true)}else{if(jQuery(this).is(":visible")){jQuery(this).addClass("wpmudev-chat-module-min-hidden");jQuery(this).hide()}}});if(i>0){jQuery(n).height(i);if(t["box_position_v"]=="bottom"){var s=t["box_border_width"]?t["box_border_width"]:0;s=parseInt(s);s=s?s:0}}jQuery(".wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-min-max img.wpmudev-chat-max",n).show();jQuery(".wpmudev-chat-module-header ul.wpmudev-chat-actions-menu li.wpmudev-chat-min-max img.wpmudev-chat-min",n).hide();jQuery(".wpmudev-chat-module-header span.wpmudev-chat-title-count",n).show();return false},chat_session_user_login:function(e,t){jQuery.ajax({type:"POST",url:wpmudev_chat_localized["settings"]["ajax_url"],dataType:"json",cache:false,data:{"function":"chat_user_login",action:"chatProcess",user_info:e,"wpmudev-chat-settings-request-uri":wpmudev_chat_localized["settings"]["REQUEST_URI"]},success:function(e){if(e!=undefined){if(e["errorStatus"]!=undefined){if(e["errorStatus"]==false){if(e["user_info"]!=undefined){wpmudev_chat.settings["auth"]=e["user_info"];wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});if(t!=""){jQuery("#"+t+" .wpmudev-chat-login-error").html("");jQuery("#"+t+" .wpmudev-chat-login-error").hide()}wpmudev_chat.chat_session_set_auth_view();return false}}else if(e["errorStatus"]==true){if(e["errorText"]!=undefined&&e["errorText"]!=""){if(t!=""){jQuery("#"+t+" .wpmudev-chat-login-error").html(e["errorText"]);jQuery("#"+t+" .wpmudev-chat-login-error").show()}}}}}}})},chat_session_facebook_setup:function(){if(wpmudev_chat_localized["settings"]["facebook_active"]=="1"){if(!jQuery("#fb-root").length){jQuery("body").append('<div id="fb-root"></div>')}FB.init({appId:wpmudev_chat_localized["settings"]["facebook_app_id"],status:true,cookie:true,xfbml:true});FB.XFBML.parse();FB.Event.subscribe("auth.statusChange",function(e){var t=wpmudev_chat.cookie("wpmudev-chat-auth");if(t==""){wpmudev_chat.settings["auth"]={}}else{wpmudev_chat.settings["auth"]=jQuery.parseJSON(t)}if(e.status==="connected"){FB.api("/me",function(e){if(e.id!=undefined){var t={};t["type"]="facebook";t["id"]=e.id;t["name"]=e.name;t["profile_link"]=e.link;t["avatar"]="http://graph.facebook.com/"+e.id+"/picture";t["email"]="";wpmudev_chat.chat_session_user_login(t,"")}else{if(wpmudev_chat.settings["auth"]["type"]!=undefined&&wpmudev_chat.settings["auth"]["type"]=="facebook"){wpmudev_chat.settings["auth"]={};wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});wpmudev_chat.chat_session_set_auth_view()}}})}else if(e.status==="not_authorized"){if(wpmudev_chat.settings["auth"]["type"]!=undefined&&wpmudev_chat.settings["auth"]["type"]=="facebook"){wpmudev_chat.settings["auth"]={};wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});wpmudev_chat.chat_session_set_auth_view()}}else{if(wpmudev_chat.settings["auth"]["type"]!=undefined&&wpmudev_chat.settings["auth"]["type"]=="facebook"){wpmudev_chat.settings["auth"]={};wpmudev_chat.cookie("wpmudev-chat-auth",JSON.stringify(wpmudev_chat.settings["auth"]),{path:wpmudev_chat_localized["settings"]["cookiepath"],domain:wpmudev_chat_localized["settings"]["cookie_domain"]});wpmudev_chat.chat_session_set_auth_view()}}})}else{jQuery("div.wpmudev-chat-box span.chat-facebook-signin-btn").hide()}return},chat_session_google_plus_setup:function(){if(wpmudev_chat_localized["settings"]["google_plus_active"]=="1"){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src="https://apis.google.com/js/client:plusone.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},chat_session_twitter_setup:function(){if(wpmudev_chat_localized["settings"]["twitter_active"]==1){jQuery(".wpmudev-chat-box .wpmudev-chat-module-login a.chat-twitter-signin-btn").click(function(e){e.preventDefault();if(window.location.search==""){var t=window.location.href+"?"+"&wpmudev-chat-action=pop-twitter";}else{var t=window.location.href+"&wpmudev-chat-action=pop-twitter"}window.location.href=t;return false})}},wp_admin_bar_setup:function(){if(jQuery("#wpadminbar #wp-toolbar li#wp-admin-bar-wpmudev-chat-container").length){if(wpmudev_chat.settings["auth"]["chat_status"]!=undefined){jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container li#wp-admin-bar-wpmudev-chat-user-status-change-"+wpmudev_chat.settings["auth"]["chat_status"]).addClass("wpmudev-chat-user-status-current")}if(wpmudev_chat.bound!=true){wpmudev_chat.bound=true;jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container li#wp-admin-bar-wpmudev-chat-user-statuses ul#wp-admin-bar-wpmudev-chat-user-statuses-default li a.ab-item").click(function(e){e.preventDefault();var t=jQuery(this).parents("li").attr("id").replace("wp-admin-bar-wpmudev-chat-user-status-change-","");if(wpmudev_chat.settings["auth"]["chat_status"]!=t){wpmudev_chat.chat_process_user_status_change(t)}return false});jQuery("#wp-toolbar li#wp-admin-bar-wpmudev-chat-container li#wp-admin-bar-wpmudev-chat-user-friends ul.ab-submenu li a.wpmudev-chat-user-invite").click(function(e){e.preventDefault();var t=jQuery(this).attr("rel");t=t?t:"";if(t!=""){wpmudev_chat.chat_process_private_invite(t)}return false})}else{}}},chat_privite_invite_click:function(){if(jQuery("div.friends-wrap").length){jQuery("div.friends-wrap a.wpmudev-chat-user-invite").click(function(e){e.preventDefault();var t=jQuery(this).attr("rel");t=t?t:"";if(t!=""){wpmudev_chat.chat_process_private_invite(t)}})}if(jQuery("body.users-php table.wp-list-table td.column-wpmudev-chat-status").length){jQuery("body.users-php table.wp-list-table td.column-wpmudev-chat-status a.wpmudev-chat-user-invite").click(function(e){e.preventDefault();var t=jQuery(this).attr("rel");t=t?t:"";if(t!=""){wpmudev_chat.chat_process_private_invite(t)}})}jQuery(document).on("click","body.buddypress ul#members-list div.wpmudev-chat-now-button a.wpmudev-chat-user-invite",function(e){e.preventDefault();var t=jQuery(this).attr("rel");t=t?t:"";if(t!=""){wpmudev_chat.chat_process_private_invite(t)}});jQuery(document).on("click","body.buddypress ul#member-list div.wpmudev-chat-now-button a.wpmudev-chat-user-invite",function(e){e.preventDefault();var t=jQuery(this).attr("rel");t=t?t:"";if(t!=""){wpmudev_chat.chat_process_private_invite(t)}});if(jQuery(".wpmudev-chat-friends-widget").length){jQuery(".wpmudev-chat-friends-widget a.wpmudev-chat-user-invite").click(function(e){e.preventDefault();var t=jQuery(this).attr("rel");t=t?t:"";if(t!=""){wpmudev_chat.chat_process_private_invite(t)}})}if(jQuery("select.wpmudev-chat-status-widget").length){jQuery("select.wpmudev-chat-status-widget").change(function(e){e.preventDefault();var t=jQuery(this).val();if(wpmudev_chat.settings["auth"]["chat_status"]!=t){wpmudev_chat.chat_process_user_status_change(t)}})}},microtime:function(e){var t=(new Date).getTime();var n=parseInt(t/1e3);return e?t/1e3:(t-n*1e3)/1e3+" "+n},cookie:function(e,t,n){if(typeof t!="undefined"){n=n||{};if(t===null){t="";n=$.extend({},n);n.expires=-1}var r="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var i;if(typeof n.expires=="number"){i=new Date;i.setTime(i.getTime()+n.expires*24*60*60*1e3)}else{i=n.expires}r="; expires="+i.toUTCString()}var s=n.path?"; path="+n.path:"";var o=n.domain?"; domain="+n.domain:"";var u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,s,o,u].join("")}else{var a=null;if(document.cookie&&document.cookie!=""){var f=document.cookie.split(";");for(var l=0;l<f.length;l++){var c=jQuery.trim(f[l]);if(c.substring(0,e.length+1)==e+"="){a=decodeURIComponent(c.substring(e.length+1));break}}}return a}},moveCaretToEnd:function(e){if(typeof e.selectionStart=="number"){e.selectionStart=e.selectionEnd=e.value.length}else if(typeof e.createTextRange!="undefined"){e.focus();var t=e.createTextRange();t.collapse(false);t.select()}}});jQuery(document).ready(wpmudev_chat.init);

/* <![CDATA[ */
var ajax_var = {"url":"http:\/\/localhost\/gv\/wp-admin\/admin-ajax.php","nonce":"afe36e1c23"};
/* ]]> */

// JM Like Post
jQuery(document).ready(function(e){var t=true;e("body").on("click",".vid-feeling",function(n){if(!t){return}t=false;n.preventDefault();heart=e(this);status=heart.data("status");post_id=heart.data("post_id");$this=e(this);if(status=="like"){var r=+e("span.like_count").html();if(e(this).hasClass("liked")){e(this).removeClass("liked")}else{e(this).addClass("liked").next().removeClass("disliked")}}else{var i=+e("span.dislike_count").html();if(e(this).hasClass("disliked")){e(this).removeClass("disliked")}else{e(this).addClass("disliked").prev().removeClass("liked")}}e.ajax({type:"post",url:ajax_var.url,data:"action=jm-post-like&nonce="+ajax_var.nonce+"&jm_post_like=&post_id="+post_id+"&status="+status,dataType:"json",success:function(n){console.log(n);var r=n[0],i=n[1],s=n[2];if(r==0){if(i.indexOf("already")!==-1){var o=i.replace("already","");if(o==0){}heart.prop("title","Like");e(".like_count").html(o)}else{heart.prop("title","Unlike");e(".like_count").html(i)}e(".dislike_count").html(s)}else{if(i.indexOf("already")!==-1){var o=i.replace("already","");if(o==0){}heart.prop("title","Like");e(".dislike_count").html(o)}else{heart.prop("title","Unlike");e(".dislike_count").html(i)}e(".like_count").html(s)}t=true;var u=+e("span.like_count").html(),a=+e("span.dislike_count").html(),f=u+a,l;if(f>0){l=u/f*100;e(".like-bar span").animate({width:l+"%"},500)}else{e(".like-bar span").animate({width:0},500)}}})})});

// Ajaxy Search
(function($){$.fn.extend({ajaxyLiveSearch:function(e,t){if(e&&typeof e=="object"){e=$.extend({},$.ajaxyLiveSearch.defaults,e)}else{e=$.ajaxyLiveSearch.defaults}if(this.is("input")){this.each(function(){new $.ajaxyLiveSearch.load(this,e,t)});return}}});$.ajaxyLiveSearch={element:null,timeout:null,options:null,load:function(e,t,n){this.element=e;this.timeout=null;this.options=t;if($(e).val()==""){$(e).val(t.text)}$(e).attr("autocomplete","off");if($("#sf_sb").length==0){$("body").append('<div id="sf_sb" class="sf_sb">'+'<div class="sf_sb_cont">'+'<div class="sf_sb_top"></div>'+'<div id="sf_results" style="width:100%">'+'<div id="sf_val" ></div>'+'<div id="sf_more"></div>'+"</div>"+'<div class="sf_sb_bottom"></div>'+"</div>"+"</div>")}$.ajaxyLiveSearch.loadEvents(this)},loadResults:function(object){options=object.options;elem=object.element;window.sf_lastElement=elem;if(jQuery(elem).val()!=""&&jQuery.trim(jQuery(elem).val()).length>1){jQuery("body").data("sf_results",null);var loading='<li class="sf_lnk sf_more sf_selected">'+'<a id="sf_loading" href="'+options.searchUrl.replace("%s",encodeURI(jQuery(elem).val()))+'">'+"</a>"+"</li>";jQuery("#sf_val").html("<ul>"+loading+"</ul>");var pos=this.bounds(elem,options);if(!pos){jQuery("#sf_sb").hide();return false}if(Math.ceil(pos.left)+parseInt(options.width,10)>jQuery(window).width()){jQuery("#sf_sb").css("width",jQuery(window).width()-pos.left-20)}if(options.rtl==1){jQuery("#sf_sb").css({top:pos.bottom,left:pos.right})}else{jQuery("#sf_sb").css({top:pos.bottom,left:pos.left})}jQuery("#sf_sb").show();var data={action:"ajaxy_sf",sf_value:jQuery(elem).val(),search:options.search};if(options.ajaxData){data=window[options.ajaxData](data)}if(options.search){var mresults=options.search.split(",");var results=[];var m="";var s=0;var c=[];for(var kindex in mresults){var dm=mresults[kindex].split(":");if(dm.length==2){if(dm[1].indexOf(jQuery(elem).val())==0){results[results.length]=mresults[kindex]}}else if(dm.length==1){if(mresults[kindex].indexOf(jQuery(elem).val())==0){results[results.length]=mresults[kindex]}}}c=$.ajaxyLiveSearch.htmlArrayResults(results);m+=c[0];s+=c[1];var sf_selected="";if(s==0){sf_selected=" sf_selected"}m+='<li class="sf_lnk sf_more'+sf_selected+'">{total} Results Found</li>';m=m.replace(/{search_value_escaped}/g,jQuery(elem).val());m=m.replace(/{search_url_escaped}/g,options.searchUrl.replace("%s",encodeURI(jQuery(elem).val())));m=m.replace(/{search_value}/g,jQuery(elem).val());m=m.replace(/{total}/g,s);jQuery("body").data("sf_results",results);if(s>0){jQuery("#sf_val").html("<ul>"+m+"</ul>")}else{jQuery("#sf_val").html("<ul>"+m+"</ul>")}$.ajaxyLiveSearch.loadLiveEvents(object);jQuery("#sf_sb").show()}else{if(cache[form_data]){jQuery("#sf_val").html('<ul class="sf_main">'+cache[form_data]+"</ul>");$.ajaxyLiveSearch.loadLiveEvents(object);jQuery("#sf_sb").show();jQuery("#sf_val li.sf_lnk").eq(0).addClass("sf_selected").focus()}else{jQuery.post(options.ajaxUrl,data,function(resp){var results=eval("("+resp+")");var m="";var s=0;for(var mindex in results){var c=[];for(var kindex in results[mindex]){c=$.ajaxyLiveSearch.htmlResults(results[mindex][kindex],mindex,kindex);m+=c[0];s+=c[1]}}var sf_selected="";if(s==0){sf_selected=" sf_selected"}if(!options.callback){m+='<li class="sf_lnk sf_more'+sf_selected+'">'+sf_templates+"</li>"}m=m.replace(/{search_value_escaped}/g,jQuery(elem).val());m=m.replace(/{search_url_escaped}/g,options.searchUrl.replace("%s",encodeURI(jQuery(elem).val())));m=m.replace(/{search_value}/g,jQuery(elem).val());m=m.replace(/{total}/g,s);jQuery("body").data("sf_results",results);if(s>0){jQuery("#sf_val").html('<ul class="sf_main">'+m+"</ul>")}else{jQuery("#sf_val").html('<ul class="sf_main">'+m+"</ul>")}$.ajaxyLiveSearch.loadLiveEvents(object);cache[form_data]=m;jQuery("#sf_sb").show();jQuery("#sf_val li.sf_lnk").eq(0).addClass("sf_selected").focus()})}}}else{jQuery("#sf_sb").hide()}},bounds:function(e,t){var n=jQuery(e).offset();if(n){return{top:n.top,left:n.left+t.leftOffset,bottom:n.top+jQuery(e).innerHeight()+t.topOffset-5,right:n.left-jQuery("#sf_sb").innerWidth()+jQuery(e).innerWidth()}}},htmlResults:function(e,t,n){var r="";var i=0;if(typeof e!="undefined"){if(e.all.length>0){r+='<li class="sf_header">'+e.title+'</li><li><div class="sf_result_container"><ul>';for(var s=0;s<e.all.length;s++){i++;r+="<li result-type='object' index-type='"+t+"' index-array='"+n+"' index='"+s+"' class=\"sf_lnk "+e.class_name+'">'+$.ajaxyLiveSearch.replaceResults(e.all[s],e.template)+"</li>"}r+="</ul></div></li>"}}return new Array(r,i)},htmlArrayResults:function(e){var t="";var n=0;if(typeof e!="undefined"){if(e.length>0){t+='<li><div class="sf_result_container"><ul>';for(var r=0;r<e.length;r++){var i=e[r].split(":");var s="";if(i.length==2){s=i[1]}else{s=e[r]}n++;t+="<li result-type='array' index='"+r+"' class=\"sf_lnk sf_category\"><a href='javascript:;'>"+s+"</a></li>"}t+="</ul></div></li>"}}return new Array(t,n)},replaceResults:function(e,t){for(var n in e){t=t.replace(new RegExp("{"+n+"}","g"),e[n])}return t},loadLiveEvents:function(e){var t={object:e};jQuery("#sf_val li.sf_lnk").mouseover(function(){start=jQuery(this).index(".sf_lnk");jQuery(".sf_lnk").each(function(){jQuery(this).attr("class",jQuery(this).attr("class").replace(" sf_selected",""))});jQuery(this).attr("class",jQuery(this).attr("class")+" sf_selected")});if(t.object.options.callback){jQuery("#sf_val li.sf_lnk").click(function(e){try{window[t.object.options.callback](t.object,this)}catch(n){alert(n)}return false})}},loadEvents:function(e){var t={object:e};cache={};jQuery(document).click(function(){jQuery("#sf_sb").hide()});jQuery(window).resize(function(){var e=$.ajaxyLiveSearch.bounds(window.sf_lastElement,t.object.options);if(e){jQuery("#sf_sb").css({top:e.bottom,left:e.left})}});jQuery(e.element).keyup(function(e){if(e.keyCode!="38"&&e.keyCode!="40"&&e.keyCode!="13"&&e.keyCode!="27"&&e.keyCode!="39"&&e.keyCode!="37"){var n=t.object;if(n.timeout!=null){clearTimeout(n.timeout)}jQuery(n.element).attr("class",jQuery(n.element).attr("class").replace(" sf_focused","")+" sf_focused");var r={object:t.object};form_data=$(".searchform").serialize();if(!cache[form_data]){n.timeout=setTimeout(function(){jQuery.ajaxyLiveSearch.loadResults(r.object)},t.object.options.delay)}else{jQuery.ajaxyLiveSearch.loadResults(r.object)}}});jQuery(window).keydown(function(e){if(jQuery("#sf_sb").css("display")!="none"&&jQuery("#sf_sb").css("display")!="undefined"&&jQuery("#sf_sb").length>0){if(e.keyCode=="38"||e.keyCode=="40"){}else if(e.keyCode==27){jQuery("#sf_sb").hide()}else if(e.keyCode==13){var n=jQuery("#sf_val li.sf_selected a").attr("href");if(typeof n!="undefined"&&n!=""){if(t.object.options.callback){t.object.options.callback(this)}else{window.location.href=n}return false}else{if(t.object.options.callback){t.object.options.callback(this)}else if(t.object.element!=null){window.location.href=sf_url.replace("%s",encodeURI(jQuery(t.object).val()))}return false}}}});jQuery(e.element).focus(function(){if(jQuery(this).val()==t.object.options.text){jQuery(this).val("");jQuery(this).attr("class",jQuery(this).attr("class")+" sf_focused")}if(t.object.options.expand>0){jQuery(t.object.element).animate({width:t.object.options.iwidth})}});jQuery(e.element).blur(function(){if(jQuery(this).val()==""){jQuery(this).val(t.object.options.text);jQuery(this).attr("class",jQuery(this).attr("class").replace(/ sf_focused/g,""))}if(t.object.options.expand>0){jQuery(t.object.element).animate({width:t.object.options.expand})}})}};$.ajaxyLiveSearch.defaults={delay:500,leftOffset:0,topOffset:5,text:"Search For",iwidth:180,width:315,ajaxUrl:"",ajaxData:false,searchUrl:"",expand:false,callback:false,rtl:true,search:false}})(jQuery);

// Ajaxy Search Selective
function sf_addItem(e,t,n,r,i){var s=jQuery(e).find(".sf_ajaxy-selective-item");var o=false;var u="";var a=i.split(":");if(a.length==2){u=a[0]}else{u=i}if(s.length>0){for(var f=0;f<s.length;f++){if(jQuery(s[f]).find("input.sf_ajaxy-selective-close-hidden").val()==u){o=true;break}}}if(o){jQuery(e).find(".sf_ajaxy-selective-input").val("");jQuery("#sf_sb").hide();return}var l=t.split(":");if(l.length==2){t=a[1]}var c=jQuery('<span class="sf_ajaxy-selective-item">'+t+'<a class="sf_ajaxy-selective-close">X</a><input class="sf_ajaxy-selective-close-hidden" type="hidden" name="'+n+'" value="'+u+'" /></span>');if(s.length<=0){jQuery(e).prepend(c)}else{c.insertAfter(s[s.length-1])}c.click(function(){jQuery(this).remove()});var h=jQuery(e).find(".sf_ajaxy-selective-input");if(h){h.val("");if(r!="array"){h.css("visibility","hidden")}else{h.focus()}}jQuery("#sf_sb").hide()};

// BBPress Editor
jQuery(document).ready(function(){if(typeof edButtons!=="undefined"){edButtons[110]=new QTags.TagButton("code","code","`","`","c");QTags._buttonsInit()}jQuery("#bbp_topic_title").bind("keydown.editor-focus",function(e){if(e.which!==9)return;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey){if(typeof tinymce!=="undefined"){if(!tinymce.activeEditor.isHidden()){var t=tinymce.activeEditor.editorContainer;jQuery("#"+t+" td.mceToolbar > a").focus()}else{jQuery("textarea.bbp-the-content").focus()}}else{jQuery("textarea.bbp-the-content").focus()}e.preventDefault()}});jQuery("#bbp_topic_tags").bind("keydown.editor-focus",function(e){if(e.which!==9)return;if(e.shiftKey&&!e.ctrlKey&&!e.altKey){if(typeof tinymce!=="undefined"){if(!tinymce.activeEditor.isHidden()){var t=tinymce.activeEditor.editorContainer;jQuery("#"+t+" td.mceToolbar > a").focus()}else{jQuery("textarea.bbp-the-content").focus()}}else{jQuery("textarea.bbp-the-content").focus()}e.preventDefault()}})});

// jQuery UI Widget
(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(n,r,i){var s,o,u,a,f={},l=n.split(".")[0];n=n.split(".")[1],s=l+"-"+n,i||(i=r,r=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][n],u=e[l][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new u(e,n)},e.extend(u,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new r,a.options=e.widget.extend({},a.options),e.each(i,function(n,i){return e.isFunction(i)?(f[n]=function(){var e=function(){return r.prototype[n].apply(this,arguments)},t=function(e){return r.prototype[n].apply(this,e)};return function(){var n,r=this._super,s=this._superApply;return this._super=e,this._superApply=t,n=i.apply(this,arguments),this._super=r,this._superApply=s,n}}(),t):(f[n]=i,t)}),u.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||n:n},f,{constructor:u,namespace:l,widgetName:n,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,u,n._proto)}),delete o._childConstructors):r._childConstructors.push(u),e.widget.bridge(n,u)},e.widget.extend=function(n){for(var i,o,u=r.call(arguments,1),a=0,f=u.length;f>a;a++)for(i in u[a])o=u[a][i],u[a].hasOwnProperty(i)&&o!==t&&(n[i]=e.isPlainObject(o)?e.isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(u){var f="string"==typeof u,l=r.call(arguments,1),c=this;return u=!f&&l.length?e.widget.extend.apply(null,[u].concat(l)):u,f?this.each(function(){var r,i=e.data(this,o);return i?e.isFunction(i[u])&&"_"!==u.charAt(0)?(r=i[u].apply(i,l),r!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):t):e.error("no such method '"+u+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+u+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(u||{})._init():e.data(this,o,new i(u,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,s,o,u=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(u={},i=n.split("."),n=i.shift(),i.length){for(s=u[n]=e.widget.extend({},this.options[n]),o=0;i.length-1>o;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(n=i.pop(),1===arguments.length)return s[n]===t?null:s[n];s[n]=r}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];u[n]=r}return this._setOptions(u),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,r,i){var s,o=this;"boolean"!=typeof n&&(i=r,r=n,n=!1),i?(r=s=e(r),this.bindings=this.bindings.add(r)):(i=r,r=this.element,s=this.widget()),e.each(i,function(i,u){function f(){return n||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof u?o[u]:u).apply(o,arguments):t}"string"!=typeof u&&(f.guid=u.guid=u.guid||f.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?s.delegate(h,c,f):r.bind(c,f)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})})(jQuery);

// jQuery UI Position
(function(e,t){function n(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function r(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,o=Math.max,u=Math.abs,a=Math.round,f=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var n,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),n=o.offsetWidth,i.css("overflow","scroll"),r=o.offsetWidth,n===r&&(r=i[0].clientWidth),i.remove(),s=n-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var s,p,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};return y=i(b),b[0].preventDefault&&(t.at="left top"),p=y.width,v=y.height,m=y.offset,g=e.extend({},m),e.each(["my","at"],function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=f.test(r[0])?r.concat(["center"]):l.test(r[0])?["center"].concat(r):["center","center"]),r[0]=f.test(r[0])?r[0]:"center",r[1]=l.test(r[1])?r[1]:"center",e=c.exec(r[0]),n=c.exec(r[1]),x[this]=[e?e[0]:0,n?n[0]:0],t[this]=[h.exec(r[0])[0],h.exec(r[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===t.at[0]?g.left+=p:"center"===t.at[0]&&(g.left+=p/2),"bottom"===t.at[1]?g.top+=v:"center"===t.at[1]&&(g.top+=v/2),s=n(x.at,p,v),g.left+=s[0],g.top+=s[1],this.each(function(){var i,f,l=e(this),c=l.outerWidth(),h=l.outerHeight(),d=r(this,"marginLeft"),y=r(this,"marginTop"),T=c+d+r(this,"marginRight")+E.width,N=h+y+r(this,"marginBottom")+E.height,C=e.extend({},g),L=n(x.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?C.left-=c:"center"===t.my[0]&&(C.left-=c/2),"bottom"===t.my[1]?C.top-=h:"center"===t.my[1]&&(C.top-=h/2),C.left+=L[0],C.top+=L[1],e.support.offsetFractions||(C.left=a(C.left),C.top=a(C.top)),i={marginLeft:d,marginTop:y},e.each(["left","top"],function(n,r){e.ui.position[S[n]]&&e.ui.position[S[n]][r](C,{targetWidth:p,targetHeight:v,elemWidth:c,elemHeight:h,collisionPosition:i,collisionWidth:T,collisionHeight:N,offset:[s[0]+L[0],s[1]+L[1]],my:t.my,at:t.at,within:w,elem:l})}),t.using&&(f=function(e){var n=m.left-C.left,r=n+p-c,i=m.top-C.top,s=i+v-h,a={target:{element:b,left:m.left,top:m.top,width:p,height:v},element:{element:l,left:C.left,top:C.top,width:c,height:h},horizontal:0>r?"left":n>0?"right":"center",vertical:0>s?"top":i>0?"bottom":"middle"};c>p&&p>u(n+r)&&(a.horizontal="center"),h>v&&v>u(i+s)&&(a.vertical="middle"),a.important=o(u(n),u(r))>o(u(i),u(s))?"horizontal":"vertical",t.using.call(this,e,a)}),l.offset(e.extend(C,{using:f}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,u=e.left-t.collisionPosition.marginLeft,a=i-u,f=u+t.collisionWidth-s-i;t.collisionWidth>s?a>0&&0>=f?(n=e.left+a+t.collisionWidth-s-i,e.left+=a-n):e.left=f>0&&0>=a?i:a>f?i+s-t.collisionWidth:i:a>0?e.left+=a:f>0?e.left-=f:e.left=o(e.left-u,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,u=e.top-t.collisionPosition.marginTop,a=i-u,f=u+t.collisionHeight-s-i;t.collisionHeight>s?a>0&&0>=f?(n=e.top+a+t.collisionHeight-s-i,e.top+=a-n):e.top=f>0&&0>=a?i:a>f?i+s-t.collisionHeight:i:a>0?e.top+=a:f>0?e.top-=f:e.top=o(e.top-u,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,s=i.offset.left+i.scrollLeft,o=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,f=e.left-t.collisionPosition.marginLeft,l=f-a,c=f+t.collisionWidth-o-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];0>l?(n=e.left+h+p+d+t.collisionWidth-o-s,(0>n||u(l)>n)&&(e.left+=h+p+d)):c>0&&(r=e.left-t.collisionPosition.marginLeft+h+p+d-a,(r>0||c>u(r))&&(e.left+=h+p+d))},top:function(e,t){var n,r,i=t.within,s=i.offset.top+i.scrollTop,o=i.height,a=i.isWindow?i.scrollTop:i.offset.top,f=e.top-t.collisionPosition.marginTop,l=f-a,c=f+t.collisionHeight-o-a,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,v=-2*t.offset[1];0>l?(r=e.top+p+d+v+t.collisionHeight-o-s,e.top+p+d+v>l&&(0>r||u(l)>r)&&(e.top+=p+d+v)):c>0&&(n=e.top-t.collisionPosition.marginTop+p+d+v-a,e.top+p+d+v>c&&(n>0||c>u(n))&&(e.top+=p+d+v))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&11>i,t.innerHTML="",n.removeChild(t)}()})(jQuery);

// jQuery UI Menu
(function(e){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(n){var r=e(n.target).closest(".ui-menu-item");!this.mouseHandled&&r.not(".ui-state-disabled").length&&(this.select(n),n.isPropagationStopped()||(this.mouseHandled=!0),r.has(".ui-menu").length?this.expand(n):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(n){var r=e(n.currentTarget);r.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(n,r)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(n){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(n)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){e(n.target).closest(".ui-menu").length||this.collapseAll(n),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var n=e(this);n.data("ui-menu-submenu-carat")&&n.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(n){function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,s,o,u,a,f=!0;switch(n.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(n);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(n);break;case e.ui.keyCode.HOME:this._move("first","first",n);break;case e.ui.keyCode.END:this._move("last","last",n);break;case e.ui.keyCode.UP:this.previous(n);break;case e.ui.keyCode.DOWN:this.next(n);break;case e.ui.keyCode.LEFT:this.collapse(n);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(n);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(n);break;case e.ui.keyCode.ESCAPE:this.collapse(n);break;default:f=!1,s=this.previousFilter||"",o=String.fromCharCode(n.keyCode),u=!1,clearTimeout(this.filterTimer),o===s?u=!0:o=s+o,a=RegExp("^"+r(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),i=u&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(n.keyCode),a=RegExp("^"+r(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),i.length?(this.focus(n,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}f&&n.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var n,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var n=e(this),i=n.prev("a"),s=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),n.attr("aria-labelledby",i.attr("id"))}),n=i.add(this.element),n.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),n.children(":not(.ui-menu-item)").each(function(){var n=e(this);/[^\-\u2014\u2013\s]/.test(n.text())||n.addClass("ui-widget-content ui-menu-divider")}),n.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(n){var r,i,s,o,u,a;this._hasScroll()&&(r=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=n.offset().top-this.activeMenu.offset().top-r-i,o=this.activeMenu.scrollTop(),u=this.activeMenu.height(),a=n.height(),0>s?this.activeMenu.scrollTop(o+s):s+a>u&&this.activeMenu.scrollTop(o+s-u+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(n){var r=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(n.parents(".ui-menu")).hide().attr("aria-hidden","true"),n.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(r)},collapseAll:function(n,r){clearTimeout(this.timer),this.timer=this._delay(function(){var s=r?this.element:e(n&&n.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(n),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,r)},nextPage:function(n){var r,i,s;return this.active?(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return r=e(this),0>r.offset().top-i-s}),this.focus(n,r)):this.focus(n,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(n),undefined)},previousPage:function(n){var r,i,s;return this.active?(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return r=e(this),r.offset().top-i+s>0}),this.focus(n,r)):this.focus(n,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(n),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(n){this.active=this.active||e(n.target).closest(".ui-menu-item");var r={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(n,!0),this._trigger("select",n,r)}})})(jQuery);

// jQuery UI Autocomplete
(function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,r,i,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,u="input"===s;this.isMultiLine=o?!0:u?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return n=!0,i=!0,r=!0,undefined;n=!1,i=!1,r=!1;var o=e.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:n=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:n=!0,this._move("nextPage",s);break;case o.UP:n=!0,this._keyEvent("previous",s);break;case o.DOWN:n=!0,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(n=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:r=!0,this._searchTimeout(s)}},keypress:function(i){if(n)return n=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault(),undefined;if(!r){var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:this._move("previousPage",i);break;case s.PAGE_DOWN:this._move("nextPage",i);break;case s.UP:this._keyEvent("previous",i);break;case s.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(n){n.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var r=this.menu.element[0];e(n.target).closest(".ui-menu-item").length||this._delay(function(){var n=this;this.document.one("mousedown",function(i){i.target===n.element[0]||i.target===r||e.contains(r,i.target)||n.close()})})},menufocus:function(n,r){if(this.isNewMenu&&(this.isNewMenu=!1,n.originalEvent&&/^mouse/.test(n.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(n.target).trigger(n.originalEvent)}),undefined;var i=r.item.data("ui-autocomplete-item");!1!==this._trigger("focus",n,{item:i})?n.originalEvent&&/^key/.test(n.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var n=this.options.appendTo;return n&&(n=n.jquery||n.nodeType?e(n):this.document.find(n).eq(0)),n||(n=this.element.closest(".ui-front")),n.length||(n=this.document[0].body),n},_initSource:function(){var n,r,i=this;e.isArray(this.options.source)?(n=this.options.source,this.source=function(r,i){i(e.ui.autocomplete.filter(n,r.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(n,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:r,data:n,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var n=++this.requestIndex;return e.proxy(function(e){n===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(n){return n.length&&n[0].label&&n[0].value?n:e.map(n,function(n){return"string"==typeof n?{label:n,value:n}:e.extend({label:n.label||n.value,value:n.value||n.label},n)})},_suggest:function(n){var r=this.menu.element.empty();this._renderMenu(r,n),this.isNewMenu=!0,this.menu.refresh(),r.show(),this._resizeMenu(),r.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,r){var i=this;e.each(r,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(n,r){return e("<li>").append(e("<a>").text(r.label)).appendTo(n)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(n,r){var i=RegExp(e.ui.autocomplete.escapeRegex(r),"i");return e.grep(n,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);

// Suggest
!function(a){a.suggest=function(b,c){function d(){var a=o.offset();p.css({top:a.top+b.offsetHeight+"px",left:a.left+"px"})}function e(a){if(/27$|38$|40$/.test(a.keyCode)&&p.is(":visible")||/^13$|^9$/.test(a.keyCode)&&k())switch(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.returnValue=!1,a.keyCode){case 38:n();break;case 40:m();break;case 9:case 13:l();break;case 27:p.hide()}else o.val().length!=r&&(q&&clearTimeout(q),q=setTimeout(f,c.delay),r=o.val().length)}function f(){var b,d,e=a.trim(o.val());c.multiple&&(b=e.lastIndexOf(c.multipleSep),-1!=b&&(e=a.trim(e.substr(b+c.multipleSep.length)))),e.length>=c.minchars?(cached=g(e),cached?i(cached.items):a.get(c.source,{q:e},function(a){p.hide(),d=j(a,e),i(d),h(e,d,a.length)})):p.hide()}function g(a){var b;for(b=0;b<s.length;b++)if(s[b].q==a)return s.unshift(s.splice(b,1)[0]),s[0];return!1}function h(a,b,d){for(var e;s.length&&t+d>c.maxCacheSize;)e=s.pop(),t-=e.size;s.push({q:a,size:d,items:b}),t+=d}function i(b){var e,f="";if(b){if(!b.length)return void p.hide();for(d(),e=0;e<b.length;e++)f+="<li>"+b[e]+"</li>";p.html(f).show(),p.children("li").mouseover(function(){p.children("li").removeClass(c.selectClass),a(this).addClass(c.selectClass)}).click(function(a){a.preventDefault(),a.stopPropagation(),l()})}}function j(b,d){var e,f,g=[],h=b.split(c.delimiter);for(e=0;e<h.length;e++)f=a.trim(h[e]),f&&(f=f.replace(new RegExp(d,"ig"),function(a){return'<span class="'+c.matchClass+'">'+a+"</span>"}),g[g.length]=f);return g}function k(){var a;return p.is(":visible")?(a=p.children("li."+c.selectClass),a.length||(a=!1),a):!1}function l(){$currentResult=k(),$currentResult&&(c.multiple?($currentVal=-1!=o.val().indexOf(c.multipleSep)?o.val().substr(0,o.val().lastIndexOf(c.multipleSep)+c.multipleSep.length):"",o.val($currentVal+$currentResult.text()+c.multipleSep),o.focus()):o.val($currentResult.text()),p.hide(),o.trigger("change"),c.onSelect&&c.onSelect.apply(o[0]))}function m(){$currentResult=k(),$currentResult?$currentResult.removeClass(c.selectClass).next().addClass(c.selectClass):p.children("li:first-child").addClass(c.selectClass)}function n(){var a=k();a?a.removeClass(c.selectClass).prev().addClass(c.selectClass):p.children("li:last-child").addClass(c.selectClass)}var o,p,q,r,s,t;o=a(b).attr("autocomplete","off"),p=a("<ul/>"),q=!1,r=0,s=[],t=0,p.addClass(c.resultsClass).appendTo("body"),d(),a(window).load(d).resize(d),o.blur(function(){setTimeout(function(){p.hide()},200)}),o.keydown(e)},a.fn.suggest=function(b,c){return b?(c=c||{},c.multiple=c.multiple||!1,c.multipleSep=c.multipleSep||", ",c.source=b,c.delay=c.delay||100,c.resultsClass=c.resultsClass||"ac_results",c.selectClass=c.selectClass||"ac_over",c.matchClass=c.matchClass||"ac_match",c.minchars=c.minchars||2,c.delimiter=c.delimiter||"\n",c.onSelect=c.onSelect||!1,c.maxCacheSize=c.maxCacheSize||65536,this.each(function(){new a.suggest(this,c)}),this):void 0}}(jQuery);

// jQueryUI mouse
(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);

// jQueryUI Slider
(function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;n>t;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=n,s=e(this),o=t)}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(t,n){var r,i,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),undefined;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],s=0;r.length>s;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=100*((a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())),l["horizontal"===a.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&("horizontal"===a.orientation?(0===r&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(0===r&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?100*((r-i)/(s-i)):0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),"max"===o&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),"max"===o&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(n){var r,i,s,o,u=e(n.target).data("ui-slider-handle-index");switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(n.target).addClass("ui-state-active"),r=this._start(n,u),r===!1))return}switch(o=this.options.step,i=s=this.options.values&&this.options.values.length?this.values(u):this.value(),n.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-o)}this._slide(n,u,s)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})})(jQuery);

// Comment Reply
var addComment={moveForm:function(a,b,c,d){var e,f=this,g=f.I(a),h=f.I(c),i=f.I("cancel-comment-reply-link"),j=f.I("comment_parent"),k=f.I("comment_post_ID");if(g&&h&&i&&j){f.respondId=c,d=d||!1,f.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",h.parentNode.insertBefore(e,h)),g.parentNode.insertBefore(h,g.nextSibling),k&&d&&(k.value=d),j.value=b,i.style.display="",i.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{f.I("comment").focus()}catch(l){}return!1}},I:function(a){return document.getElementById(a)}};

// Modernizr
window.Modernizr=function(e,t,n){function r(e){g.cssText=e}function i(e,t){return r(E.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&g[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+x.join(r+" ")+r).split(" ");if(s(t,"string")||s(t,"undefined"))return u(i,t);i=(e+" "+T.join(r+" ")+r).split(" ");return a(i,t,n)}function l(){h.input=function(n){for(var r=0,i=n.length;r<i;r++)L[n[r]]=n[r]in y;L.list&&(L.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement);return L}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));h.inputtypes=function(e){for(var r=0,i,s,o,u=e.length;r<u;r++){y.setAttribute("type",s=e[r]);i=y.type!=="text";if(i){y.value=b;y.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(s)&&y.style.WebkitAppearance!==n){d.appendChild(y);o=t.defaultView;i=o.getComputedStyle&&o.getComputedStyle(y,null).WebkitAppearance!=="textfield"&&y.offsetHeight!==0;d.removeChild(y)}else/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=y.checkValidity&&y.checkValidity()===!1:i=y.value!=b)}k[e[r]]=!!i}return k}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var c="2.6.2",h={},p=!0,d=t.documentElement,v="modernizr",m=t.createElement(v),g=m.style,y=t.createElement("input"),b=":)",w={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",x=S.split(" "),T=S.toLowerCase().split(" "),N={svg:"http://www.w3.org/2000/svg"},C={},k={},L={},A=[],O=A.slice,M,_=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(r,10))while(r--){u=t.createElement("div");u.id=i?i[r]:v+(r+1);f.appendChild(u)}s=["&#173;",'<style id="s',v,'">',e,"</style>"].join("");f.id=v;(l?f:c).innerHTML+=s;c.appendChild(f);if(!l){c.style.background="";c.style.overflow="hidden";a=d.style.overflow;d.style.overflow="hidden";d.appendChild(c)}o=n(f,e);if(!l){c.parentNode.removeChild(c);d.style.overflow=a}else f.parentNode.removeChild(f);return!!o},D=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;_("@media "+t+" { #"+v+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"});return r},P=function(){function e(e,i){i=i||t.createElement(r[e]||"div");e="on"+e;var o=e in i;if(!o){i.setAttribute||(i=t.createElement("div"));if(i.setAttribute&&i.removeAttribute){i.setAttribute(e,"");o=s(i[e],"function");s(i[e],"undefined")||(i[e]=n);i.removeAttribute(e)}}i=null;return o}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),H={}.hasOwnProperty,B;!s(H,"undefined")&&!s(H.call,"undefined")?B=function(e,t){return H.call(e,t)}:B=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")};Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=O.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(O.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(O.call(arguments)))};return r});C.flexbox=function(){return f("flexWrap")};C.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")};C.canvastext=function(){return!!h.canvas&&!!s(t.createElement("canvas").getContext("2d").fillText,"function")};C.webgl=function(){return!!e.WebGLRenderingContext};C.touch=function(){var n;"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:_(["@media (",E.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9});return n};C.geolocation=function(){return"geolocation"in navigator};C.postmessage=function(){return!!e.postMessage};C.websqldatabase=function(){return!!e.openDatabase};C.indexedDB=function(){return!!f("indexedDB",e)};C.hashchange=function(){return P("hashchange",e)&&(t.documentMode===n||t.documentMode>7)};C.history=function(){return!!e.history&&!!history.pushState};C.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e};C.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e};C.rgba=function(){r("background-color:rgba(150,255,150,.5)");return o(g.backgroundColor,"rgba")};C.hsla=function(){r("background-color:hsla(120,40%,100%,.5)");return o(g.backgroundColor,"rgba")||o(g.backgroundColor,"hsla")};C.multiplebgs=function(){r("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(g.background)};C.backgroundsize=function(){return f("backgroundSize")};C.borderimage=function(){return f("borderImage")};C.borderradius=function(){return f("borderRadius")};C.boxshadow=function(){return f("boxShadow")};C.textshadow=function(){return t.createElement("div").style.textShadow===""};C.opacity=function(){i("opacity:.55");return/^0.55$/.test(g.opacity)};C.cssanimations=function(){return f("animationName")};C.csscolumns=function(){return f("columnCount")};C.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";r((e+"-webkit- ".split(" ").join(t+e)+E.join(n+e)).slice(0,-e.length));return o(g.backgroundImage,"gradient")};C.cssreflections=function(){return f("boxReflect")};C.csstransforms=function(){return!!f("transform")};C.csstransforms3d=function(){var e=!!f("perspective");e&&"webkitPerspective"in d.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3});return e};C.csstransitions=function(){return f("transition")};C.fontface=function(){var e;_('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0});return e};C.generatedcontent=function(){var e;_(["#",v,"{font:0/0 a}#",v,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3});return e};C.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType){n=new Boolean(n);n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(r){}return n};C.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType){n=new Boolean(n);n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,"");n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(r){}return n};C.localstorage=function(){try{localStorage.setItem(v,v);localStorage.removeItem(v);return!0}catch(e){return!1}};C.sessionstorage=function(){try{sessionStorage.setItem(v,v);sessionStorage.removeItem(v);return!0}catch(e){return!1}};C.webworkers=function(){return!!e.Worker};C.applicationcache=function(){return!!e.applicationCache};C.svg=function(){return!!t.createElementNS&&!!t.createElementNS(N.svg,"svg").createSVGRect};C.inlinesvg=function(){var e=t.createElement("div");e.innerHTML="<svg/>";return(e.firstChild&&e.firstChild.namespaceURI)==N.svg};C.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(N.svg,"animate")))};C.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(N.svg,"clipPath")))};for(var j in C)if(B(C,j)){M=j.toLowerCase();h[M]=C[j]();A.push((h[M]?"":"no-")+M)}h.input||l();h.addTest=function(e,t){if(typeof e=="object")for(var r in e)B(e,r)&&h.addTest(r,e[r]);else{e=e.toLowerCase();if(h[e]!==n)return h;t=typeof t=="function"?t():t;typeof p!="undefined"&&p&&(d.className+=" "+(t?"":"no-")+e);h[e]=t}return h};r("");m=y=null;h._version=c;h._prefixes=E;h._domPrefixes=T;h._cssomPrefixes=x;h.mq=D;h.hasEvent=P;h.testProp=function(e){return u([e])};h.testAllProps=f;h.testStyles=_;h.prefixed=function(e,t,n){return t?f(e,t,n):f(e,"pfx")};d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+A.join(" "):"");return h}(this,this.document);(function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};

// Caroufredsel
(function($){function sc_setScroll(e,t,n){n.transition=="transition"&&t=="swing"&&(t="ease");return{anims:[],duration:e,orgDuration:e,easing:t,startTime:getTime()}}function sc_startScroll(e,t){for(var n=0,r=e.anims.length;n<r;n++){var i=e.anims[n];if(!i)continue;i[0][t.transition](i[1],e.duration,e.easing,i[2])}}function sc_stopScroll(e,t){is_boolean(t)||(t=!0);is_object(e.pre)&&sc_stopScroll(e.pre,t);for(var n=0,r=e.anims.length;n<r;n++){var i=e.anims[n];i[0].stop(!0);if(t){i[0].css(i[1]);is_function(i[2])&&i[2]()}}is_object(e.post)&&sc_stopScroll(e.post,t)}function sc_afterScroll(e,t,n){t&&t.remove();switch(n.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":e.css("opacity",1);e.css("filter","")}}function sc_fireCallbacks(e,t,n,r,i){t[n]&&t[n].call(e,r);if(i[n].length)for(var s=0,o=i[n].length;s<o;s++)i[n][s].call(e,r);return[]}function sc_fireQueue(e,t,n){if(t.length){e.trigger(cf_e(t[0][0],n),t[0][1]);t.shift()}return t}function sc_hideHiddenItems(e){e.each(function(){var e=$(this);e.data("_cfs_isHidden",e.is(":hidden")).hide()})}function sc_showHiddenItems(e){e&&e.each(function(){var e=$(this);e.data("_cfs_isHidden")||e.show()})}function sc_clearTimers(e){e.auto&&clearTimeout(e.auto);e.progress&&clearInterval(e.progress);return e}function sc_mapCallbackArguments(e,t,n,r,i,s,o){return{width:o.width,height:o.height,items:{old:e,skipped:t,visible:n},scroll:{items:r,direction:i,duration:s}}}function sc_getDuration(e,t,n,r){var i=e.duration;if(e.fx=="none")return 0;i=="auto"?i=t.scroll.duration/t.scroll.items*n:i<10&&(i=r/i);if(i<1)return 0;e.fx=="fade"&&(i/=2);return Math.round(i)}function nv_showNavi(e,t,n){var r=is_number(e.items.minimum)?e.items.minimum:e.items.visible+1;if(t=="show"||t=="hide")var i=t;else if(r>t){debug(n,"Not enough items ("+t+" total, "+r+" needed): Hiding navigation.");var i="hide"}else var i="show";var s=i=="show"?"removeClass":"addClass",o=cf_c("hidden",n);e.auto.button&&e.auto.button[i]()[s](o);e.prev.button&&e.prev.button[i]()[s](o);e.next.button&&e.next.button[i]()[s](o);e.pagination.container&&e.pagination.container[i]()[s](o)}function nv_enableNavi(e,t,n){if(e.circular||e.infinite)return;var r=t=="removeClass"||t=="addClass"?t:!1,i=cf_c("disabled",n);e.auto.button&&r&&e.auto.button[r](i);if(e.prev.button){var s=r||t==0?"addClass":"removeClass";e.prev.button[s](i)}if(e.next.button){var s=r||t==e.items.visible?"addClass":"removeClass";e.next.button[s](i)}}function go_getObject(e,t){is_function(t)?t=t.call(e):is_undefined(t)&&(t={});return t}function go_getItemsObject(e,t){t=go_getObject(e,t);is_number(t)?t={visible:t}:t=="variable"?t={visible:t,width:t,height:t}:is_object(t)||(t={});return t}function go_getScrollObject(e,t){t=go_getObject(e,t);is_number(t)?t<=50?t={items:t}:t={duration:t}:is_string(t)?t={easing:t}:is_object(t)||(t={});return t}function go_getNaviObject(e,t){t=go_getObject(e,t);if(is_string(t)){var n=cf_getKeyCode(t);n==-1?t=$(t):t=n}return t}function go_getAutoObject(e,t){t=go_getNaviObject(e,t);is_jquery(t)?t={button:t}:is_boolean(t)?t={play:t}:is_number(t)&&(t={timeoutDuration:t});t.progress&&(is_string(t.progress)||is_jquery(t.progress))&&(t.progress={bar:t.progress});return t}function go_complementAutoObject(e,t){is_function(t.button)&&(t.button=t.button.call(e));is_string(t.button)&&(t.button=$(t.button));is_boolean(t.play)||(t.play=!0);is_number(t.delay)||(t.delay=0);is_undefined(t.pauseOnEvent)&&(t.pauseOnEvent=!0);is_boolean(t.pauseOnResize)||(t.pauseOnResize=!0);is_number(t.timeoutDuration)||(t.timeoutDuration=t.duration<10?2500:t.duration*5);if(t.progress){is_function(t.progress.bar)&&(t.progress.bar=t.progress.bar.call(e));is_string(t.progress.bar)&&(t.progress.bar=$(t.progress.bar));if(t.progress.bar){is_function(t.progress.updater)||(t.progress.updater=$.fn.carouFredSel.progressbarUpdater);is_number(t.progress.interval)||(t.progress.interval=50)}else t.progress=!1}return t}function go_getPrevNextObject(e,t){t=go_getNaviObject(e,t);is_jquery(t)?t={button:t}:is_number(t)&&(t={key:t});return t}function go_complementPrevNextObject(e,t){is_function(t.button)&&(t.button=t.button.call(e));is_string(t.button)&&(t.button=$(t.button));is_string(t.key)&&(t.key=cf_getKeyCode(t.key));return t}function go_getPaginationObject(e,t){t=go_getNaviObject(e,t);is_jquery(t)?t={container:t}:is_boolean(t)&&(t={keys:t});return t}function go_complementPaginationObject(e,t){is_function(t.container)&&(t.container=t.container.call(e));is_string(t.container)&&(t.container=$(t.container));is_number(t.items)||(t.items=!1);is_boolean(t.keys)||(t.keys=!1);!is_function(t.anchorBuilder)&&!is_false(t.anchorBuilder)&&(t.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder);is_number(t.deviation)||(t.deviation=0);return t}function go_getSwipeObject(e,t){is_function(t)&&(t=t.call(e));is_undefined(t)&&(t={onTouch:!1});is_true(t)?t={onTouch:t}:is_number(t)&&(t={items:t});return t}function go_complementSwipeObject(e,t){is_boolean(t.onTouch)||(t.onTouch=!0);is_boolean(t.onMouse)||(t.onMouse=!1);is_object(t.options)||(t.options={});is_boolean(t.options.triggerOnTouchEnd)||(t.options.triggerOnTouchEnd=!1);return t}function go_getMousewheelObject(e,t){is_function(t)&&(t=t.call(e));is_true(t)?t={}:is_number(t)?t={items:t}:is_undefined(t)&&(t=!1);return t}function go_complementMousewheelObject(e,t){return t}function gn_getItemIndex(e,t,n,r,i){is_string(e)&&(e=$(e,i));is_object(e)&&(e=$(e,i));if(is_jquery(e)){e=i.children().index(e);is_boolean(n)||(n=!1)}else is_boolean(n)||(n=!0);is_number(e)||(e=0);is_number(t)||(t=0);n&&(e+=r.first);e+=t;if(r.total>0){while(e>=r.total)e-=r.total;while(e<0)e+=r.total}return e}function gn_getVisibleItemsPrev(e,t,n){var r=0,i=0;for(var s=n;s>=0;s--){var o=e.eq(s);r+=o.is(":visible")?o[t.d.outerWidth](!0):0;if(r>t.maxDimension)return i;s==0&&(s=e.length);i++}}function gn_getVisibleItemsPrevFilter(e,t,n){return gn_getItemsPrevFilter(e,t.items.filter,t.items.visibleConf.org,n)}function gn_getScrollItemsPrevFilter(e,t,n,r){return gn_getItemsPrevFilter(e,t.items.filter,r,n)}function gn_getItemsPrevFilter(e,t,n,r){var i=0,s=0;for(var o=r,u=e.length;o>=0;o--){s++;if(s==u)return s;var a=e.eq(o);if(a.is(t)){i++;if(i==n)return s}o==0&&(o=u)}}function gn_getVisibleOrg(e,t){return t.items.visibleConf.org||e.children().slice(0,t.items.visible).filter(t.items.filter).length}function gn_getVisibleItemsNext(e,t,n){var r=0,i=0;for(var s=n,o=e.length-1;s<=o;s++){var u=e.eq(s);r+=u.is(":visible")?u[t.d.outerWidth](!0):0;if(r>t.maxDimension)return i;i++;if(i==o+1)return i;s==o&&(s=-1)}}function gn_getVisibleItemsNextTestCircular(e,t,n,r){var i=gn_getVisibleItemsNext(e,t,n);t.circular||n+i>r&&(i=r-n);return i}function gn_getVisibleItemsNextFilter(e,t,n){return gn_getItemsNextFilter(e,t.items.filter,t.items.visibleConf.org,n,t.circular)}function gn_getScrollItemsNextFilter(e,t,n,r){return gn_getItemsNextFilter(e,t.items.filter,r+1,n,t.circular)-1}function gn_getItemsNextFilter(e,t,n,r,i){var s=0,o=0;for(var u=r,a=e.length-1;u<=a;u++){o++;if(o>=a)return o;var f=e.eq(u);if(f.is(t)){s++;if(s==n)return o}u==a&&(u=-1)}}function gi_getCurrentItems(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsPrev(e,t,n){return e.slice(n,t.items.visibleConf.old+n)}function gi_getNewItemsPrev(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsNext(e,t){return e.slice(0,t.items.visibleConf.old)}function gi_getNewItemsNext(e,t,n){return e.slice(n,t.items.visible+n)}function sz_storeMargin(e,t,n){if(t.usePadding){is_string(n)||(n="_cfs_origCssMargin");e.each(function(){var e=$(this),r=parseInt(e.css(t.d.marginRight),10);is_number(r)||(r=0);e.data(n,r)})}}function sz_resetMargin(e,t,n){if(t.usePadding){var r=is_boolean(n)?n:!1;is_number(n)||(n=0);sz_storeMargin(e,t,"_cfs_tempCssMargin");e.each(function(){var e=$(this);e.css(t.d.marginRight,r?e.data("_cfs_tempCssMargin"):n+e.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(e){e.each(function(){var e=$(this);e.data("_cfs_origCss",e.attr("style")||"")})}function sz_restoreOrigCss(e){e.each(function(){var e=$(this);e.attr("style",e.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(e,t){var n=e.items.visible,r=e.items[e.d.width],i=e[e.d.height],s=is_percentage(i);t.each(function(){var t=$(this),n=r-ms_getPaddingBorderMargin(t,e,"Width");t[e.d.width](n);s&&t[e.d.height](ms_getPercentage(n,i))})}function sz_setSizes(e,t){var n=e.parent(),r=e.children(),i=gi_getCurrentItems(r,t),s=cf_mapWrapperSizes(ms_getSizes(i,t,!0),t,!1);n.css(s);if(t.usePadding){var o=t.padding,u=o[t.d[1]];t.align&&u<0&&(u=0);var a=i.last();a.css(t.d.marginRight,a.data("_cfs_origCssMargin")+u);e.css(t.d.top,o[t.d[0]]);e.css(t.d.left,o[t.d[3]])}e.css(t.d.width,s[t.d.width]+ms_getTotalSize(r,t,"width")*2);e.css(t.d.height,ms_getLargestSize(r,t,"height"));return s}function ms_getSizes(e,t,n){return[ms_getTotalSize(e,t,"width",n),ms_getLargestSize(e,t,"height",n)]}function ms_getLargestSize(e,t,n,r){is_boolean(r)||(r=!1);if(is_number(t[t.d[n]])&&r)return t[t.d[n]];if(is_number(t.items[t.d[n]]))return t.items[t.d[n]];n=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(e,t,n)}function ms_getTrueLargestSize(e,t,n){var r=0;for(var i=0,s=e.length;i<s;i++){var o=e.eq(i),u=o.is(":visible")?o[t.d[n]](!0):0;r<u&&(r=u)}return r}function ms_getTotalSize(e,t,n,r){is_boolean(r)||(r=!1);if(is_number(t[t.d[n]])&&r)return t[t.d[n]];if(is_number(t.items[t.d[n]]))return t.items[t.d[n]]*e.length;var i=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",s=0;for(var o=0,u=e.length;o<u;o++){var a=e.eq(o);s+=a.is(":visible")?a[t.d[i]](!0):0}return s}function ms_getParentSize(e,t,n){var r=e.is(":visible");r&&e.hide();var i=e.parent()[t.d[n]]();r&&e.show();return i}function ms_getMaxDimension(e,t){return is_number(e[e.d.width])?e[e.d.width]:t}function ms_hasVariableSizes(e,t,n){var r=!1,i=!1;for(var s=0,o=e.length;s<o;s++){var u=e.eq(s),a=u.is(":visible")?u[t.d[n]](!0):0;r===!1?r=a:r!=a&&(i=!0);r==0&&(i=!0)}return i}function ms_getPaddingBorderMargin(e,t,n){return e[t.d["outer"+n]](!0)-e[t.d[n.toLowerCase()]]()}function ms_getPercentage(e,t){if(is_percentage(t)){t=parseInt(t.slice(0,-1),10);if(!is_number(t))return e;e*=t/100}return e}function cf_e(e,t,n,r,i){is_boolean(n)||(n=!0);is_boolean(r)||(r=!0);is_boolean(i)||(i=!1);n&&(e=t.events.prefix+e);r&&(e=e+"."+t.events.namespace);r&&i&&(e+=t.serialNumber);return e}function cf_c(e,t){return is_string(t.classnames[e])?t.classnames[e]:e}function cf_mapWrapperSizes(e,t,n){is_boolean(n)||(n=!0);var r=t.usePadding&&n?t.padding:[0,0,0,0],i={};i[t.d.width]=e[0]+r[1]+r[3];i[t.d.height]=e[1]+r[0]+r[2];return i}function cf_sortParams(e,t){var n=[];for(var r=0,i=e.length;r<i;r++)for(var s=0,o=t.length;s<o;s++)if(t[s].indexOf(typeof e[r])>-1&&is_undefined(n[s])){n[s]=e[r];break}return n}function cf_getPadding(e){if(is_undefined(e))return[0,0,0,0];if(is_number(e))return[e,e,e,e];is_string(e)&&(e=e.split("px").join("").split("em").join("").split(" "));if(!is_array(e))return[0,0,0,0];for(var t=0;t<4;t++)e[t]=parseInt(e[t],10);switch(e.length){case 0:return[0,0,0,0];case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];default:return[e[0],e[1],e[2],e[3]]}}function cf_getAlignPadding(e,t){var n=is_number(t[t.d.width])?Math.ceil(t[t.d.width]-ms_getTotalSize(e,t,"width")):0;switch(t.align){case"left":return[0,n];case"right":return[n,0];case"center":default:return[Math.ceil(n/2),Math.floor(n/2)]}}function cf_getDimensions(e){var t=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],n=t[0].length,r=e.direction=="right"||e.direction=="left"?0:1,i={};for(var s=0;s<n;s++)i[t[0][s]]=t[r][s];return i}function cf_getAdjust(e,t,n,r){var i=e;if(is_function(n))i=n.call(r,i);else if(is_string(n)){var s=n.split("+"),o=n.split("-");if(o.length>s.length)var u=!0,a=o[0],f=o[1];else var u=!1,a=s[0],f=s[1];switch(a){case"even":i=e%2==1?e-1:e;break;case"odd":i=e%2==0?e-1:e;break;default:i=e}f=parseInt(f,10);if(is_number(f)){u&&(f=-f);i+=f}}if(!is_number(i)||i<1)i=1;return i}function cf_getItemsAdjust(e,t,n,r){return cf_getItemAdjustMinMax(cf_getAdjust(e,t,n,r),t.items.visibleConf)}function cf_getItemAdjustMinMax(e,t){is_number(t.min)&&e<t.min&&(e=t.min);is_number(t.max)&&e>t.max&&(e=t.max);e<1&&(e=1);return e}function cf_getSynchArr(e){is_array(e)||(e=[[e]]);is_array(e[0])||(e=[e]);for(var t=0,n=e.length;t<n;t++){is_string(e[t][0])&&(e[t][0]=$(e[t][0]));is_boolean(e[t][1])||(e[t][1]=!0);is_boolean(e[t][2])||(e[t][2]=!0);is_number(e[t][3])||(e[t][3]=0)}return e}function cf_getKeyCode(e){return e=="right"?39:e=="left"?37:e=="up"?38:e=="down"?40:-1}function cf_setCookie(e,t,n){if(e){var r=t.triggerHandler(cf_e("currentPosition",n));$.fn.carouFredSel.cookie.set(e,r)}}function cf_getCookie(e){var t=$.fn.carouFredSel.cookie.get(e);return t==""?0:t}function in_mapCss(e,t){var n={};for(var r=0,i=t.length;r<i;r++)n[t[r]]=e.css(t[r]);return n}function in_complementItems(e,t,n,r){is_object(e.visibleConf)||(e.visibleConf={});is_object(e.sizesConf)||(e.sizesConf={});e.start==0&&is_number(r)&&(e.start=r);if(is_object(e.visible)){e.visibleConf.min=e.visible.min;e.visibleConf.max=e.visible.max;e.visible=!1}else if(is_string(e.visible)){e.visible=="variable"?e.visibleConf.variable=!0:e.visibleConf.adjust=e.visible;e.visible=!1}else if(is_function(e.visible)){e.visibleConf.adjust=e.visible;e.visible=!1}is_string(e.filter)||(e.filter=n.filter(":hidden").length>0?":visible":"*");if(!e[t.d.width])if(t.responsive){debug(!0,"Set a "+t.d.width+" for the items!");e[t.d.width]=ms_getTrueLargestSize(n,t,"outerWidth")}else e[t.d.width]=ms_hasVariableSizes(n,t,"outerWidth")?"variable":n[t.d.outerWidth](!0);e[t.d.height]||(e[t.d.height]=ms_hasVariableSizes(n,t,"outerHeight")?"variable":n[t.d.outerHeight](!0));e.sizesConf.width=e.width;e.sizesConf.height=e.height;return e}function in_complementVisibleItems(e,t){e.items[e.d["width"]]=="variable"&&(e.items.visibleConf.variable=!0);if(!e.items.visibleConf.variable){if(is_number(e[e.d.width]))e.items.visible=Math.floor(e[e.d.width]/e.items[e.d.width]);else{e.items.visible=Math.floor(t/e.items[e.d.width]);e[e.d.width]=e.items.visible*e.items[e.d.width];e.items.visibleConf.adjust||(e.align=!1)}if(e.items.visible=="Infinity"||e.items.visible<1){debug(!0,'Not a valid number of visible items: Set to "variable".');e.items.visibleConf.variable=!0}}return e}function in_complementPrimarySize(e,t,n){e=="auto"&&(e=ms_getTrueLargestSize(n,t,"outerWidth"));return e}function in_complementSecondarySize(e,t,n){e=="auto"&&(e=ms_getTrueLargestSize(n,t,"outerHeight"));e||(e=t.items[t.d.height]);return e}function in_getAlignPadding(e,t){var n=cf_getAlignPadding(gi_getCurrentItems(t,e),e);e.padding[e.d[1]]=n[1];e.padding[e.d[3]]=n[0];return e}function in_getResponsiveValues(e,t,n){var r=cf_getItemAdjustMinMax(Math.ceil(e[e.d.width]/e.items[e.d.width]),e.items.visibleConf);r>t.length&&(r=t.length);var i=Math.floor(e[e.d.width]/r);e.items.visible=r;e.items[e.d.width]=i;e[e.d.width]=r*i;return e}function bt_pauseOnHoverConfig(e){if(is_string(e))var t=e.indexOf("immediate")>-1?!0:!1,n=e.indexOf("resume")>-1?!0:!1;else var t=n=!1;return[t,n]}function bt_mousesheelNumber(e){return is_number(e)?e:null}function is_null(e){return e===null}function is_undefined(e){return is_null(e)||typeof e=="undefined"||e===""||e==="undefined"}function is_array(e){return e instanceof Array}function is_jquery(e){return e instanceof jQuery}function is_object(e){return(e instanceof Object||typeof e=="object")&&!is_null(e)&&!is_jquery(e)&&!is_array(e)&&!is_function(e)}function is_number(e){return(e instanceof Number||typeof e=="number")&&!isNaN(e)}function is_string(e){return(e instanceof String||typeof e=="string")&&!is_undefined(e)&&!is_true(e)&&!is_false(e)}function is_function(e){return e instanceof Function||typeof e=="function"}function is_boolean(e){return e instanceof Boolean||typeof e=="boolean"||is_true(e)||is_false(e)}function is_true(e){return e===!0||e==="true"}function is_false(e){return e===!1||e==="false"}function is_percentage(e){return is_string(e)&&e.slice(-1)=="%"}function getTime(){return(new Date).getTime()}function deprecated(e,t){debug(!0,e+" is DEPRECATED, support for it will be removed. Use "+t+" instead.")}function debug(e,t){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(e)){var n=" ("+e.selector+")";e=e.debug}else var n="";if(!e)return!1;is_string(t)?t="carouFredSel"+n+": "+t:t=["carouFredSel"+n+":",t];window.console.log(t)}return!1}if($.fn.carouFredSel)return;$.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(!0,'No element found for "'+this.selector+'".');return this}if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;if($cfs.data("_cfs_isCarousel")){starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",!0])}var FN={};FN._init=function(e,t,n){e=go_getObject($tt0,e);e.items=go_getItemsObject($tt0,e.items);e.scroll=go_getScrollObject($tt0,e.scroll);e.auto=go_getAutoObject($tt0,e.auto);e.prev=go_getPrevNextObject($tt0,e.prev);e.next=go_getPrevNextObject($tt0,e.next);e.pagination=go_getPaginationObject($tt0,e.pagination);e.swipe=go_getSwipeObject($tt0,e.swipe);e.mousewheel=go_getMousewheelObject($tt0,e.mousewheel);t&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,e));opts=$.extend(!0,{},$.fn.carouFredSel.defaults,e);opts.d=cf_getDimensions(opts);crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var r=$cfs.children(),i=ms_getParentSize($wrp,opts,"width");is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber);opts.maxDimension=ms_getMaxDimension(opts,i);opts.items=in_complementItems(opts.items,opts,r,n);opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,r);opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,r);opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%"));if(is_percentage(opts[opts.d.width])){crsl.upDateOnWindowResize=!0;crsl.primarySizePercentage=opts[opts.d.width];opts[opts.d.width]=ms_getPercentage(i,crsl.primarySizePercentage);opts.items.visible||(opts.items.visibleConf.variable=!0)}if(opts.responsive){opts.usePadding=!1;opts.padding=[0,0,0,0];opts.align=!1;opts.items.visibleConf.variable=!1}else{opts.items.visible||(opts=in_complementVisibleItems(opts,i));if(!opts[opts.d.width])if(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&opts.items.filter=="*"){opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width];opts.align=!1}else opts[opts.d.width]="variable";is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1);opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(r,opts,0))}if(opts.items.filter!="*"&&!opts.items.visibleConf.variable){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(r,opts,0)}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;if(opts.responsive){opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible);opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible);opts=in_getResponsiveValues(opts,r,i)}else{opts.padding=cf_getPadding(opts.padding);opts.align=="top"?opts.align="left":opts.align=="bottom"&&(opts.align="right");switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){opts=in_getAlignPadding(opts,r);opts.usePadding=!0}break;default:opts.align=!1;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?!1:!0}}is_number(opts.scroll.duration)||(opts.scroll.duration=500);is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible);opts.auto=$.extend(!0,{},opts.scroll,opts.auto);opts.prev=$.extend(!0,{},opts.scroll,opts.prev);opts.next=$.extend(!0,{},opts.scroll,opts.next);opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination);opts.auto=go_complementAutoObject($tt0,opts.auto);opts.prev=go_complementPrevNextObject($tt0,opts.prev);opts.next=go_complementPrevNextObject($tt0,opts.next);opts.pagination=go_complementPaginationObject($tt0,opts.pagination);opts.swipe=go_complementSwipeObject($tt0,opts.swipe);opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel);opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise));if(opts.auto.onPauseStart){opts.auto.onTimeoutStart=opts.auto.onPauseStart;deprecated("auto.onPauseStart","auto.onTimeoutStart")}if(opts.auto.onPausePause){opts.auto.onTimeoutPause=opts.auto.onPausePause;deprecated("auto.onPausePause","auto.onTimeoutPause")}if(opts.auto.onPauseEnd){opts.auto.onTimeoutEnd=opts.auto.onPauseEnd;deprecated("auto.onPauseEnd","auto.onTimeoutEnd")}if(opts.auto.pauseDuration){opts.auto.timeoutDuration=opts.auto.pauseDuration;deprecated("auto.pauseDuration","auto.timeoutDuration")}};FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var e=$cfs.children(),t=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),n="relative";switch(t.position){case"absolute":case"fixed":n=t.position}conf.wrapper=="parent"?sz_storeOrigCss($wrp):$wrp.css(t);$wrp.css({overflow:"hidden",position:n});sz_storeOrigCss($cfs);$cfs.data("_cfs_origCssZindex",t.zIndex);$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});sz_storeMargin(e,opts);sz_storeOrigCss(e);opts.responsive&&sz_setResponsiveSizes(opts,e)};FN._bind_events=function(){FN._unbind_events();$cfs.bind(cf_e("stop",conf),function(e,t){e.stopPropagation();crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf));crsl.isStopped=!0;if(opts.auto.play){opts.auto.play=!1;$cfs.trigger(cf_e("pause",conf),t)}return!0});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();crsl.isScrolling&&sc_stopScroll(scrl);return!0});$cfs.bind(cf_e("pause",conf),function(e,t,n){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(t&&crsl.isScrolling){scrl.isStopped=!0;var r=getTime()-scrl.startTime;scrl.duration-=r;scrl.pre&&(scrl.pre.duration-=r);scrl.post&&(scrl.post.duration-=r);sc_stopScroll(scrl,!1)}!crsl.isPaused&&!crsl.isScrolling&&n&&(tmrs.timePassed+=getTime()-tmrs.startTime);crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf));crsl.isPaused=!0;if(opts.auto.onTimeoutPause){var i=opts.auto.timeoutDuration-tmrs.timePassed,s=100-Math.ceil(i*100/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,s,i)}return!0});$cfs.bind(cf_e("play",conf),function(e,t,n,r){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var i=[t,n,r],s=["string","number","boolean"],o=cf_sortParams(i,s);t=o[0];n=o[1];r=o[2];t!="prev"&&t!="next"&&(t=crsl.direction);is_number(n)||(n=0);is_boolean(r)||(r=!1);if(r){crsl.isStopped=!1;opts.auto.play=!0}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused&&opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}crsl.isPaused=!1;tmrs.startTime=getTime();var u=opts.auto.timeoutDuration+n;dur2=u-tmrs.timePassed;perc=100-Math.ceil(dur2*100/u);opts.auto.progress&&(tmrs.progress=setInterval(function(){var e=getTime()-tmrs.startTime+tmrs.timePassed,t=Math.ceil(e*100/u);opts.auto.progress.updater.call(opts.auto.progress.bar[0],t)},opts.auto.progress.interval));tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100);opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2);crsl.isScrolling?$cfs.trigger(cf_e("play",conf),t):$cfs.trigger(cf_e(t,conf),opts.auto)},dur2);opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2);return!0});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=!1;crsl.isPaused=!1;crsl.isScrolling=!0;scrl.startTime=getTime();sc_startScroll(scrl,conf)}else $cfs.trigger(cf_e("play",conf));return!0});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,t,n,r,i){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}var s=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(s>itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+" total, "+s+" needed): Not scrolling.")}var o=[t,n,r,i],u=["object","number/string","function","boolean"],a=cf_sortParams(o,u);t=a[0];n=a[1];r=a[2];i=a[3];var f=e.type.slice(conf.events.prefix.length);is_object(t)||(t={});is_function(r)&&(t.onAfter=r);is_boolean(i)&&(t.queue=i);t=$.extend(!0,{},opts[f],t);if(t.conditions&&!t.conditions.call($tt0,f)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}if(!is_number(n)){if(opts.items.filter!="*")n="visible";else{var l=[n,t.items,opts[f].items];for(var a=0,c=l.length;a<c;a++)if(is_number(l[a])||l[a]=="page"||l[a]=="visible"){n=l[a];break}}switch(n){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(cf_e(f+"Page",conf),[t,r]);case"visible":!opts.items.visibleConf.variable&&opts.items.filter=="*"&&(n=opts.items.visible)}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[f,[t,n,r]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(t.duration>0&&crsl.isScrolling){if(t.queue){t.queue=="last"&&(queu=[]);(t.queue!="first"||queu.length==0)&&$cfs.trigger(cf_e("queue",conf),[f,[t,n,r]])}e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+f,conf),[t,n]);if(opts.synchronise){var h=opts.synchronise,p=[t,n];for(var d=0,c=h.length;d<c;d++){var v=f;h[d][2]||(v=v=="prev"?"next":"prev");h[d][1]||(p[0]=h[d][0].triggerHandler("_cfs_triggerEvent",["configuration",v]));p[1]=n+h[d][3];h[d][0].trigger("_cfs_triggerEvent",["slide_"+v,p])}}return!0});$cfs.bind(cf_e("slide_prev",conf),function(e,t,n){e.stopPropagation();var r=$cfs.children();if(!opts.circular&&itms.first==0){opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1);return e.stopImmediatePropagation()}sz_resetMargin(r,opts);if(!is_number(n)){if(opts.items.visibleConf.variable)n=gn_getVisibleItemsPrev(r,opts,itms.total-1);else if(opts.items.filter!="*"){var i=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsPrevFilter(r,opts,itms.total-1,i)}else n=opts.items.visible;n=cf_getAdjust(n,opts,t.items,$tt0)}opts.circular||itms.total-n<itms.first&&(n=itms.total-itms.first);opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var s=cf_getItemsAdjust(gn_getVisibleItemsNext(r,opts,itms.total-n),opts,opts.items.visibleConf.adjust,$tt0);if(opts.items.visible+n<=s&&n<itms.total){n++;s=cf_getItemsAdjust(gn_getVisibleItemsNext(r,opts,itms.total-n),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=s}else if(opts.items.filter!="*"){var s=gn_getVisibleItemsNextFilter(r,opts,itms.total-n);opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(r,opts,!0);if(n==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+n+" items backward.");itms.first+=n;while(itms.first>=itms.total)itms.first-=itms.total;if(!opts.circular){itms.first==0&&t.onEnd&&t.onEnd.call($tt0,"prev");opts.infinite||nv_enableNavi(opts,itms.first,conf)}$cfs.children().slice(itms.total-n,itms.total).prependTo($cfs);itms.total<opts.items.visible+n&&$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(!0).appendTo($cfs);var r=$cfs.children(),o=gi_getOldItemsPrev(r,opts,n),u=gi_getNewItemsPrev(r,opts),a=r.eq(n-1),f=o.last(),l=u.last();sz_resetMargin(r,opts);var c=0,h=0;if(opts.align){var p=cf_getAlignPadding(u,opts);c=p[0];h=p[1]}var d=c<0?opts.padding[opts.d[3]]:0,v=!1,m=$();if(opts.items.visible<n){m=r.slice(opts.items.visibleConf.old,n);if(t.fx=="directscroll"){var g=opts.items[opts.d.width];v=m;a=l;sc_hideHiddenItems(v);opts.items[opts.d.width]="variable"}}var y=!1,b=ms_getTotalSize(r.slice(0,n),opts,"width"),w=cf_mapWrapperSizes(ms_getSizes(u,opts,!0),opts,!opts.usePadding),E=0,S={},x={},T={},N={},C={},k={},L={},A=sc_getDuration(t,opts,n,b);switch(t.fx){case"cover":case"cover-fade":E=ms_getTotalSize(r.slice(0,opts.items.visible),opts,"width")}v&&(opts.items[opts.d.width]=g);sz_resetMargin(r,opts,!0);h>=0&&sz_resetMargin(f,opts,opts.padding[opts.d[1]]);c>=0&&sz_resetMargin(a,opts,opts.padding[opts.d[3]]);if(opts.align){opts.padding[opts.d[1]]=h;opts.padding[opts.d[3]]=c}k[opts.d.left]=-(b-d);L[opts.d.left]=-(E-d);x[opts.d.left]=w[opts.d.width];var O=function(){},M=function(){},_=function(){},D=function(){},P=function(){},H=function(){},B=function(){},j=function(){},F=function(){},I=function(){},q=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=$cfs.clone(!0).appendTo($wrp)}switch(t.fx){case"crossfade":case"uncover":case"uncover-fade":y.children().slice(0,n).remove();y.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":y.children().slice(opts.items.visible).remove();y.css(L)}$cfs.css(k);scrl=sc_setScroll(A,t.easing,conf);S[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){O=function(){$wrp.css(w)};M=function(){scrl.anims.push([$wrp,w])}}if(opts.usePadding){if(l.not(a).length){T[opts.d.marginRight]=a.data("_cfs_origCssMargin");if(c<0)a.css(T);else{B=function(){a.css(T)};j=function(){scrl.anims.push([a,T])}}}switch(t.fx){case"cover":case"cover-fade":y.children().eq(n-1).css(T)}if(l.not(f).length){N[opts.d.marginRight]=f.data("_cfs_origCssMargin");_=function(){f.css(N)};D=function(){scrl.anims.push([f,N])}}if(h>=0){C[opts.d.marginRight]=l.data("_cfs_origCssMargin")+opts.padding[opts.d[1]];P=function(){l.css(C)};H=function(){scrl.anims.push([l,C])}}}q=function(){$cfs.css(S)};var R=opts.items.visible+n-itms.total;I=function(){if(R>0){$cfs.children().slice(itms.total).remove();o=$($cfs.children().slice(itms.total-(opts.items.visible-R)).get().concat($cfs.children().slice(0,R).get()))}sc_showHiddenItems(v);if(opts.usePadding){var e=$cfs.children().eq(opts.items.visible+n-1);e.css(opts.d.marginRight,e.data("_cfs_origCssMargin"))}};var U=sc_mapCallbackArguments(o,m,u,n,"prev",A,w);F=function(){sc_afterScroll($cfs,y,t);crsl.isScrolling=!1;clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",U,clbk);queu=sc_fireQueue($cfs,queu,conf);crsl.isPaused||$cfs.trigger(cf_e("play",conf))};crsl.isScrolling=!0;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",U,clbk);switch(t.fx){case"none":$cfs.css(S);O();_();P();B();q();I();F();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){O();_();P();B();q();I();scrl=sc_setScroll(A,t.easing,conf);scrl.anims.push([$cfs,{opacity:1},F]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([y,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},F]);M();_();P();B();q();I();break;case"cover":scrl.anims.push([y,S,function(){_();P();B();q();I();F()}]);M();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]);scrl.anims.push([y,S,function(){_();P();B();q();I();F()}]);M();break;case"uncover":scrl.anims.push([y,x,F]);M();_();P();B();q();I();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([y,x,F]);M();_();P();B();q();I();break;default:scrl.anims.push([$cfs,S,function(){I();F()}]);M();D();H();j()}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[!1,w]);return!0});$cfs.bind(cf_e("slide_next",conf),function(e,t,n){e.stopPropagation();var r=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible){opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1);return e.stopImmediatePropagation()}sz_resetMargin(r,opts);if(!is_number(n)){if(opts.items.filter!="*"){var i=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsNextFilter(r,opts,0,i)}else n=opts.items.visible;n=cf_getAdjust(n,opts,t.items,$tt0)}var s=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var o=gn_getVisibleItemsNext(r,opts,n),i=gn_getVisibleItemsPrev(r,opts,s-1);else var o=opts.items.visible,i=opts.items.visible;n+o>s&&(n=s-i)}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var o=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(r,opts,n,s),opts,opts.items.visibleConf.adjust,$tt0);while(opts.items.visible-n>=o&&n<itms.total){n++;o=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(r,opts,n,s),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=o}else if(opts.items.filter!="*"){var o=gn_getVisibleItemsNextFilter(r,opts,n);opts.items.visible=cf_getItemsAdjust(o,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(r,opts,!0);if(n==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+n+" items forward.");itms.first-=n;while(itms.first<0)itms.first+=itms.total;if(!opts.circular){itms.first==opts.items.visible&&t.onEnd&&t.onEnd.call($tt0,"next");opts.infinite||nv_enableNavi(opts,itms.first,conf)}itms.total<opts.items.visible+n&&$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(!0).appendTo($cfs);var r=$cfs.children(),u=gi_getOldItemsNext(r,opts),a=gi_getNewItemsNext(r,opts,n),f=r.eq(n-1),l=u.last(),c=a.last();sz_resetMargin(r,opts);var h=0,p=0;if(opts.align){var d=cf_getAlignPadding(a,opts);h=d[0];p=d[1]}var v=!1,m=$();if(opts.items.visibleConf.old<n){m=r.slice(opts.items.visibleConf.old,n);if(t.fx=="directscroll"){var g=opts.items[opts.d.width];v=m;f=l;sc_hideHiddenItems(v);opts.items[opts.d.width]="variable"}}var y=!1,b=ms_getTotalSize(r.slice(0,n),opts,"width"),w=cf_mapWrapperSizes(ms_getSizes(a,opts,!0),opts,!opts.usePadding),E=0,S={},x={},T={},N={},C={},k=sc_getDuration(t,opts,n,b);switch(t.fx){case"uncover":case"uncover-fade":E=ms_getTotalSize(r.slice(0,opts.items.visibleConf.old),opts,"width")}v&&(opts.items[opts.d.width]=g);opts.align&&opts.padding[opts.d[1]]<0&&(opts.padding[opts.d[1]]=0);sz_resetMargin(r,opts,!0);sz_resetMargin(l,opts,opts.padding[opts.d[1]]);if(opts.align){opts.padding[opts.d[1]]=p;opts.padding[opts.d[3]]=h}C[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var L=function(){},A=function(){},O=function(){},M=function(){},_=function(){},D=function(){},P=function(){},H=function(){},B=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=$cfs.clone(!0).appendTo($wrp);y.children().slice(opts.items.visibleConf.old).remove()}switch(t.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1);y.css("zIndex",0)}scrl=sc_setScroll(k,t.easing,conf);S[opts.d.left]=-b;x[opts.d.left]=-E;h<0&&(S[opts.d.left]+=h);if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){L=function(){$wrp.css(w)};A=function(){scrl.anims.push([$wrp,w])}}if(opts.usePadding){var j=c.data("_cfs_origCssMargin");p>=0&&(j+=opts.padding[opts.d[1]]);c.css(opts.d.marginRight,j);f.not(l).length&&(N[opts.d.marginRight]=l.data("_cfs_origCssMargin"));O=function(){l.css(N)};M=function(){scrl.anims.push([l,N])};var F=f.data("_cfs_origCssMargin");h>0&&(F+=opts.padding[opts.d[3]]);T[opts.d.marginRight]=F;_=function(){f.css(T)};D=function(){scrl.anims.push([f,T])}}B=function(){$cfs.css(C)};var I=opts.items.visible+n-itms.total;H=function(){I>0&&$cfs.children().slice(itms.total).remove();var e=$cfs.children().slice(0,n).appendTo($cfs).last();I>0&&(a=gi_getCurrentItems(r,opts));sc_showHiddenItems(v);if(opts.usePadding){if(itms.total<opts.items.visible+n){var t=$cfs.children().eq(opts.items.visible-1);t.css(opts.d.marginRight,t.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}e.css(opts.d.marginRight,e.data("_cfs_origCssMargin"))}};var q=sc_mapCallbackArguments(u,m,a,n,"next",k,w);P=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex"));sc_afterScroll($cfs,y,t);crsl.isScrolling=!1;clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",q,clbk);queu=sc_fireQueue($cfs,queu,conf);crsl.isPaused||$cfs.trigger(cf_e("play",conf))};crsl.isScrolling=!0;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",q,clbk);switch(t.fx){case"none":$cfs.css(S);L();O();_();B();H();P();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){L();O();_();B();H();scrl=sc_setScroll(k,t.easing,conf);scrl.anims.push([$cfs,{opacity:1},P]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([y,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},P]);A();O();_();B();H();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]());scrl.anims.push([$cfs,C,P]);A();O();_();H();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]());scrl.anims.push([y,{opacity:0}]);scrl.anims.push([$cfs,C,P]);A();O();_();H();break;case"uncover":scrl.anims.push([y,x,P]);A();O();_();B();H();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([y,x,P]);A();O();_();B();H();break;default:scrl.anims.push([$cfs,S,function(){B();H();P()}]);A();M();D()}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[!1,w]);return!0});$cfs.bind(cf_e("slideTo",conf),function(e,t,n,r,i,s,o){e.stopPropagation();var u=[t,n,r,i,s,o],a=["string/number/object","number","boolean","object","string","function"],f=cf_sortParams(u,a);i=f[3];s=f[4];o=f[5];t=gn_getItemIndex(f[0],f[1],f[2],itms,$cfs);if(t==0)return!1;is_object(i)||(i=!1);s!="prev"&&s!="next"&&(opts.circular?s=t<=itms.total/2?"next":"prev":s=itms.first==0||itms.first>t?"next":"prev");s=="prev"&&(t=itms.total-t);$cfs.trigger(cf_e(s,conf),[i,t,o]);return!0});$cfs.bind(cf_e("prevPage",conf),function(e,t,n){e.stopPropagation();var r=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[r-1,t,"prev",n])});$cfs.bind(cf_e("nextPage",conf),function(e,t,n){e.stopPropagation();var r=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[r+1,t,"next",n])});$cfs.bind(cf_e("slideToPage",conf),function(e,t,n,r,i){e.stopPropagation();is_number(t)||(t=$cfs.triggerHandler(cf_e("currentPage",conf)));var s=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/s)-1;t<0&&(t=o);t>o&&(t=0);return $cfs.triggerHandler(cf_e("slideTo",conf),[t*s,0,!0,n,r,i])});$cfs.bind(cf_e("jumpToStart",conf),function(e,t){e.stopPropagation();t?t=gn_getItemIndex(t,0,!0,itms,$cfs):t=0;t+=itms.first;if(t!=0){if(itms.total>0)while(t>itms.total)t-=itms.total;$cfs.prepend($cfs.children().slice(t,itms.total))}return!0});$cfs.bind(cf_e("synchronise",conf),function(e,t){e.stopPropagation();if(t)t=cf_getSynchArr(t);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");t=opts.synchronise}var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),r=!0;for(var i=0,s=t.length;i<s;i++)t[i][0].triggerHandler(cf_e("slideTo",conf),[n,t[i][3],!0])||(r=!1);return r});$cfs.bind(cf_e("queue",conf),function(e,t,n){e.stopPropagation();is_function(t)?t.call($tt0,queu):is_array(t)?queu=t:is_undefined(t)||queu.push([t,n]);return queu});$cfs.bind(cf_e("insertItem",conf),function(e,t,n,r,i){e.stopPropagation();var s=[t,n,r,i],o=["string/object","string/number/object","boolean","number"],u=cf_sortParams(s,o);t=u[0];n=u[1];r=u[2];i=u[3];is_object(t)&&!is_jquery(t)?t=$(t):is_string(t)&&(t=$(t));if(!is_jquery(t)||t.length==0)return debug(conf,"Not a valid object.");is_undefined(n)&&(n="end");sz_storeMargin(t,opts);sz_storeOrigCss(t);var a=n,f="before";if(n=="end")if(r){if(itms.first==0){n=itms.total-1;f="after"}else{n=itms.first;itms.first+=t.length}n<0&&(n=0)}else{n=itms.total-1;f="after"}else n=gn_getItemIndex(n,i,r,itms,$cfs);var l=$cfs.children().eq(n);if(l.length)l[f](t);else{debug(conf,"Correct insert-position not found! Appending item to the end.");$cfs.append(t)}a!="end"&&!r&&n<itms.first&&(itms.first+=t.length);itms.total=$cfs.children().length;itms.first>=itms.total&&(itms.first-=itms.total);$cfs.trigger(cf_e("updateSizes",conf));$cfs.trigger(cf_e("linkAnchors",conf));return!0});$cfs.bind(cf_e("removeItem",conf),function(e,t,n,r){e.stopPropagation();var i=[t,n,r],s=["string/number/object","boolean","number"],o=cf_sortParams(i,s);t=o[0];n=o[1];r=o[2];var u=!1;if(t instanceof $&&t.length>1){a=$();t.each(function(e,t){var i=$cfs.trigger(cf_e("removeItem",conf),[$(this),n,r]);i&&(a=a.add(i))});return a}if(is_undefined(t)||t=="end")a=$cfs.children().last();else{t=gn_getItemIndex(t,r,n,itms,$cfs);var a=$cfs.children().eq(t);a.length&&t<itms.first&&(itms.first-=a.length)}if(a&&a.length){a.detach();itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf))}return a});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length);is_array(t)&&(clbk[n]=t);is_function(t)&&clbk[n].push(t);return clbk[n]});$cfs.bind(cf_e("currentPosition",conf),function(e,t){e.stopPropagation();if(itms.first==0)var n=0;else var n=itms.total-itms.first;is_function(t)&&t.call($tt0,n);return n});$cfs.bind(cf_e("currentPage",conf),function(e,t){e.stopPropagation();var n=opts.pagination.items||opts.items.visible,r=Math.ceil(itms.total/n-1),i;itms.first==0?i=0:itms.first<itms.total%n?i=0:itms.first==n&&!opts.circular?i=r:i=Math.round((itms.total-itms.first)/n);i<0&&(i=0);i>r&&(i=r);is_function(t)&&t.call($tt0,i);return i});$cfs.bind(cf_e("currentVisible",conf),function(e,t){e.stopPropagation();var n=gi_getCurrentItems($cfs.children(),opts);is_function(t)&&t.call($tt0,n);return n});$cfs.bind(cf_e("slice",conf),function(e,t,n,r){e.stopPropagation();if(itms.total==0)return!1;var i=[t,n,r],s=["number","number","function"],o=cf_sortParams(i,s);t=is_number(o[0])?o[0]:0;n=is_number(o[1])?o[1]:itms.total;r=o[2];t+=itms.first;n+=itms.first;if(items.total>0){while(t>itms.total)t-=itms.total;while(n>itms.total)n-=itms.total;while(t<0)t+=itms.total;while(n<0)n+=itms.total}var u=$cfs.children(),a;n>t?a=u.slice(t,n):a=$(u.slice(t,itms.total).get().concat(u.slice(0,n).get()));is_function(r)&&r.call($tt0,a);return a});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length),r=crsl[n];is_function(t)&&t.call($tt0,r);return r});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a)){opts_orig=$.extend(!0,{},opts_orig,a);b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a)}else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val="");b.call($tt0,val)}else{if(!!is_undefined(b))return eval("opts."+a);typeof c!="boolean"&&(c=!0);eval("opts_orig."+a+" = b");c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts);FN._init(opts_orig);FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,t,n){e.stopPropagation();is_undefined(t)?t=$("body"):is_string(t)&&(t=$(t));if(!is_jquery(t)||t.length==0)return debug(conf,"Not a valid object.");is_string(n)||(n="a.caroufredsel");t.find(n).each(function(){var e=this.hash||"";e.length>0&&$cfs.children().index($(e))!=-1&&$(this).unbind("click").click(function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),e)})});return!0});$cfs.bind(cf_e("updatePageStatus",conf),function(e,t,n){e.stopPropagation();if(!opts.pagination.container)return;var r=opts.pagination.items||opts.items.visible,i=Math.ceil(itms.total/r);if(t){if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var e=0;e<i;e++){var t=$cfs.children().eq(gn_getItemIndex(e*r,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(t[0],e+1))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[e*r,-opts.pagination.deviation,!0,opts.pagination])})})})}var s=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;s>=i&&(s=0);s<0&&(s=i-1);opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(s).addClass(cf_c("selected",conf))});return!0});$cfs.bind(cf_e("updateSizes",conf),function(e){var t=opts.items.visible,n=$cfs.children(),r=ms_getParentSize($wrp,opts,"width");itms.total=n.length;if(crsl.primarySizePercentage){opts.maxDimension=r;opts[opts.d.width]=ms_getPercentage(r,crsl.primarySizePercentage)}else opts.maxDimension=ms_getMaxDimension(opts,r);if(opts.responsive){opts.items.width=opts.items.sizesConf.width;opts.items.height=opts.items.sizesConf.height;opts=in_getResponsiveValues(opts,n,r);t=opts.items.visible;sz_setResponsiveSizes(opts,n)}else opts.items.visibleConf.variable?t=gn_getVisibleItemsNext(n,opts,0):opts.items.filter!="*"&&(t=gn_getVisibleItemsNextFilter(n,opts,0));if(!opts.circular&&itms.first!=0&&t>itms.first){if(opts.items.visibleConf.variable)var i=gn_getVisibleItemsPrev(n,opts,itms.first)-itms.first;else if(opts.items.filter!="*")var i=gn_getVisibleItemsPrevFilter(n,opts,itms.first)-itms.first;else var i=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+i+" items backward.");$cfs.trigger(cf_e("prev",conf),i)}opts.items.visible=cf_getItemsAdjust(t,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts=in_getAlignPadding(opts,n);var s=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,s]);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);return s});$cfs.bind(cf_e("destroy",conf),function(e,t){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("_cfs_isCarousel",!1);$cfs.trigger(cf_e("finish",conf));t&&$cfs.trigger(cf_e("jumpToStart",conf));sz_restoreOrigCss($cfs.children());sz_restoreOrigCss($cfs);FN._unbind_events();FN._unbind_buttons();conf.wrapper=="parent"?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs);return!0});$cfs.bind(cf_e("debug",conf),function(e){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items);opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items);opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items);return conf.debug});$cfs.bind("_cfs_triggerEvent",function(e,t,n){e.stopPropagation();return $cfs.triggerHandler(cf_e(t,conf),n)})};FN._unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,!1));$cfs.unbind("_cfs_triggerEvent")};FN._bind_buttons=function(){FN._unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(e){e.preventDefault();var t=!1,n=null;if(crsl.isPaused)t="play";else if(opts.auto.pauseOnEvent){t="pause";n=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}t&&$cfs.trigger(cf_e(t,conf),n)});if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.pagination.container&&opts.pagination.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}(opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var t=e.keyCode;if(t==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(t==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}});opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var t=e.keyCode;if(t>=49&&t<58){t=(t-49)*opts.items.visible;if(t<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[t,0,!0,opts.pagination])}}});if($.fn.swipe){var t="ontouchstart"in window;if(t&&opts.swipe.onTouch||!t&&opts.swipe.onMouse){var n=$.extend(!0,{},opts.prev,opts.swipe),r=$.extend(!0,{},opts.next,opts.swipe),i=function(){$cfs.trigger(cf_e("prev",conf),[n])},s=function(){$cfs.trigger(cf_e("next",conf),[r])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=s;opts.swipe.options.swipeDown=i;break;default:opts.swipe.options.swipeLeft=s;opts.swipe.options.swipeRight=i}crsl.swipe&&$cfs.swipe("destroy");$wrp.swipe(opts.swipe.options);$wrp.css("cursor","move");crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var o=$.extend(!0,{},opts.prev,opts.mousewheel),u=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1));$wrp.bind(cf_e("mousewheel",conf,!1),function(e,t){e.preventDefault();t>0?$cfs.trigger(cf_e("prev",conf),[o]):$cfs.trigger(cf_e("next",conf),[u])});crsl.mousewheel=!0}opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay);if(crsl.upDateOnWindowResize){var a=function(e){$cfs.trigger(cf_e("finish",conf));opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf));sz_resetMargin($cfs.children(),opts);$cfs.trigger(cf_e("updateSizes",conf))},f=$(window),l=null;if($.debounce&&conf.onWindowResize=="debounce")l=$.debounce(200,a);else if($.throttle&&conf.onWindowResize=="throttle")l=$.throttle(300,a);else{var c=0,h=0;l=function(){var e=f.width(),t=f.height();if(e!=c||t!=h){a();c=e;h=t}}}f.bind(cf_e("resize",conf,!1,!0,!0),l)}};FN._unbind_buttons=function(){var e=cf_e("",conf),t=cf_e("",conf,!1);ns3=cf_e("",conf,!1,!0,!0);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(t);opts.auto.button&&opts.auto.button.unbind(t);opts.prev.button&&opts.prev.button.unbind(t);opts.next.button&&opts.next.button.unbind(t);if(opts.pagination.container){opts.pagination.container.unbind(t);opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()}if(crsl.swipe){$cfs.swipe("destroy");$wrp.css("cursor","default");crsl.swipe=!1}crsl.mousewheel&&(crsl.mousewheel=!1);nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp=conf.wrapper=="parent"?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;conf.transition=conf.transition&&$.fn.transition?"transition":"animate";FN._init(opts_orig,!0,starting_position);FN._build();FN._bind_events();FN._bind_buttons();if(is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];opts.items.start!=0&&start_arr.push(opts.items.start)}opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10));if(start_arr.length>0)for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0)continue;if(s===!0){s=window.location.hash;if(s.length<1)continue}else s==="random"&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm});$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]);$cfs.trigger(cf_e("linkAnchors",conf));conf.debug&&$cfs.trigger(cf_e("debug",conf));return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}};$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(e){return'<a href="#"><span>'+e+"</span></a>"};$.fn.carouFredSel.progressbarUpdater=function(e){$(this).css("width",e+"%")};$.fn.carouFredSel.cookie={get:function(e){e+="=";var t=document.cookie.split(";");for(var n=0,r=t.length;n<r;n++){var i=t[n];while(i.charAt(0)==" ")i=i.slice(1);if(i.indexOf(e)==0)return i.slice(e.length)}return 0},set:function(e,t,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);r="; expires="+i.toGMTString()}document.cookie=e+"="+t+r+"; path=/"},remove:function(e){$.fn.carouFredSel.cookie.set(e,"",-1)}};$.extend($.easing,{quadratic:function(e){var t=e*e;return e*(-t*e+4*t-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){var t=e*e;return e*(33*t*t-106*t*e+126*t-67*e+15)}})})(jQuery);

// jQuery Flexslider
(function(e){e.flexslider=function(t,n){var r=e(t);r.vars=e.extend({},e.flexslider.defaults,n);var i=r.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp",a="",f,l=r.vars.direction==="vertical",c=r.vars.reverse,h=r.vars.itemWidth>0,p=r.vars.animation==="fade",d=r.vars.asNavFor!=="",v={},m=true;e.data(t,"flexslider",r);v={init:function(){r.animating=false;r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0,10);if(isNaN(r.currentSlide))r.currentSlide=0;r.animatingTo=r.currentSlide;r.atEnd=r.currentSlide===0||r.currentSlide===r.last;r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" "));r.slides=e(r.vars.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=e(r.vars.sync).length>0;if(r.vars.animation==="slide")r.vars.animation="swing";r.prop=l?"top":"marginLeft";r.args={};r.manualPause=false;r.stopped=false;r.started=false;r.startTimeout=null;r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t){if(e.style[t[n]]!==undefined){r.pfx=t[n].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";return true}}return false}();r.ensureAnimationEnd="";if(r.vars.controlsContainer!=="")r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer);if(r.vars.manualControls!=="")r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls);if(r.vars.randomize){r.slides.sort(function(){return Math.round(Math.random())-.5});r.container.empty().append(r.slides)}r.doMath();r.setup("init");if(r.vars.controlNav)v.controlNav.setup();if(r.vars.directionNav)v.directionNav.setup();if(r.vars.keyboard&&(e(r.containerSelector).length===1||r.vars.multipleKeyboard)){e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(t===39||t===37)){var n=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):false;r.flexAnimate(n,r.vars.pauseOnAction)}})}if(r.vars.mousewheel){r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var s=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)})}if(r.vars.pausePlay)v.pausePlay.setup();if(r.vars.slideshow&&r.vars.pauseInvisible)v.pauseInvisible.init();if(r.vars.slideshow){if(r.vars.pauseOnHover){r.hover(function(){if(!r.manualPlay&&!r.manualPause)r.pause()},function(){if(!r.manualPause&&!r.manualPlay&&!r.stopped)r.play()})}if(!r.vars.pauseInvisible||!v.pauseInvisible.isHidden()){r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play()}}if(d)v.asNav.setup();if(o&&r.vars.touch)v.touch();if(!p||p&&r.vars.smoothHeight)e(window).bind("resize orientationchange focus",v.resize);r.find("img").attr("draggable","false");setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=true;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(i+"active-slide").eq(r.currentItem).addClass(i+"active-slide");if(!s){r.slides.on(u,function(t){t.preventDefault();var n=e(this),s=n.index();var o=n.offset().left-e(r).scrollLeft();if(o<=0&&n.hasClass(i+"active-slide")){r.flexAnimate(r.getTarget("prev"),true)}else if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass(i+"active-slide")){r.direction=r.currentItem<s?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction,false,true,true)}})}else{t._slider=r;r.slides.each(function(){var t=this;t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",function(e){e.preventDefault();if(e.currentTarget._gesture)e.currentTarget._gesture.addPointer(e.pointerId)},false);t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass("active")){r.direction=r.currentItem<i?"next":"prev";r.flexAnimate(i,r.vars.pauseOnAction,false,true,true)}})})}}},controlNav:{setup:function(){if(!r.manualControls){v.controlNav.setupPaging()}else{v.controlNav.setupManual()}},setupPaging:function(){var t=r.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,s,o;r.controlNavScaffold=e('<ol class="'+i+"control-nav "+i+t+'"></ol>');if(r.pagingCount>1){for(var f=0;f<r.pagingCount;f++){o=r.slides.eq(f);s=r.vars.controlNav==="thumbnails"?'<img src="'+o.attr("data-thumb")+'"/>':"<a>"+n+"</a>";if("thumbnails"===r.vars.controlNav&&true===r.vars.thumbCaptions){var l=o.attr("data-thumbcaption");if(""!=l&&undefined!=l)s+='<span class="'+i+'caption">'+l+"</span>"}r.controlNavScaffold.append("<li>"+s+"</li>");n++}}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);v.controlNav.set();v.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){r.direction=s>r.currentSlide?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction)}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls;v.controlNav.active();r.controlNav.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){s>r.currentSlide?r.direction="next":r.direction="prev";r.flexAnimate(s,r.vars.pauseOnAction)}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},set:function(){var t=r.vars.controlNav==="thumbnails"?"img":"a";r.controlNav=e("."+i+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(i+"active").eq(r.animatingTo).addClass(i+"active")},update:function(t,n){if(r.pagingCount>1&&t==="add"){r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>"))}else if(r.pagingCount===1){r.controlNavScaffold.find("li").remove()}else{r.controlNav.eq(n).closest("li").remove()}v.controlNav.set();r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+i+'direction-nav"><li><a class="'+i+'prev" href="#">'+r.vars.prevText+'</a></li><li><a class="'+i+'next" href="#">'+r.vars.nextText+"</a></li></ul>");if(r.controlsContainer){e(r.controlsContainer).append(t);r.directionNav=e("."+i+"direction-nav li a",r.controlsContainer)}else{r.append(t);r.directionNav=e("."+i+"direction-nav li a",r)}v.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();var n;if(a===""||a===t.type){n=e(this).hasClass(i+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}if(a===""){a=t.type}v.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";if(r.pagingCount===1){r.directionNav.addClass(e).attr("tabindex","-1")}else if(!r.vars.animationLoop){if(r.animatingTo===0){r.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1")}else if(r.animatingTo===r.last){r.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1")}else{r.directionNav.removeClass(e).removeAttr("tabindex")}}else{r.directionNav.removeClass(e).removeAttr("tabindex")}}},pausePlay:{setup:function(){var t=e('<div class="'+i+'pauseplay"><a></a></div>');if(r.controlsContainer){r.controlsContainer.append(t);r.pausePlay=e("."+i+"pauseplay a",r.controlsContainer)}else{r.append(t);r.pausePlay=e("."+i+"pauseplay a",r)}v.pausePlay.update(r.vars.slideshow?i+"pause":i+"play");r.pausePlay.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){if(e(this).hasClass(i+"pause")){r.manualPause=true;r.manualPlay=false;r.pause()}else{r.manualPause=false;r.manualPlay=true;r.play()}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},update:function(e){e==="play"?r.pausePlay.removeClass(i+"pause").addClass(i+"play").html(r.vars.playText):r.pausePlay.removeClass(i+"play").addClass(i+"pause").html(r.vars.pauseText)}},touch:function(){var e,n,i,o,u,a,f=false,d=0,v=0,m=0;if(!s){t.addEventListener("touchstart",g,false);function g(s){if(r.animating){s.preventDefault()}else if(window.navigator.msPointerEnabled||s.touches.length===1){r.pause();o=l?r.h:r.w;a=Number(new Date);d=s.touches[0].pageX;v=s.touches[0].pageY;i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o;e=l?v:d;n=l?d:v;t.addEventListener("touchmove",y,false);t.addEventListener("touchend",b,false)}}function y(t){d=t.touches[0].pageX;v=t.touches[0].pageY;u=l?e-v:e-d;f=l?Math.abs(u)<Math.abs(d-n):Math.abs(u)<Math.abs(v-n);var s=500;if(!f||Number(new Date)-a>s){t.preventDefault();if(!p&&r.transitions){if(!r.vars.animationLoop){u=u/(r.currentSlide===0&&u<0||r.currentSlide===r.last&&u>0?Math.abs(u)/o+2:1)}r.setProps(i+u,"setTouch")}}}function b(s){t.removeEventListener("touchmove",y,false);if(r.animatingTo===r.currentSlide&&!f&&!(u===null)){var l=c?-u:u,h=l>0?r.getTarget("next"):r.getTarget("prev");if(r.canAdvance(h)&&(Number(new Date)-a<550&&Math.abs(l)>50||Math.abs(l)>o/2)){r.flexAnimate(h,r.vars.pauseOnAction)}else{if(!p)r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,true)}}t.removeEventListener("touchend",b,false);e=null;n=null;u=null;i=null}}else{t.style.msTouchAction="none";t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",w,false);t._slider=r;t.addEventListener("MSGestureChange",E,false);t.addEventListener("MSGestureEnd",S,false);function w(e){e.stopPropagation();if(r.animating){e.preventDefault()}else{r.pause();t._gesture.addPointer(e.pointerId);m=0;o=l?r.h:r.w;a=Number(new Date);i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o}}function E(e){e.stopPropagation();var n=e.target._slider;if(!n){return}var r=-e.translationX,s=-e.translationY;m=m+(l?s:r);u=m;f=l?Math.abs(m)<Math.abs(-r):Math.abs(m)<Math.abs(-s);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){t._gesture.stop()});return}if(!f||Number(new Date)-a>500){e.preventDefault();if(!p&&n.transitions){if(!n.vars.animationLoop){u=m/(n.currentSlide===0&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/o+2:1)}n.setProps(i+u,"setTouch")}}}function S(t){t.stopPropagation();var r=t.target._slider;if(!r){return}if(r.animatingTo===r.currentSlide&&!f&&!(u===null)){var s=c?-u:u,l=s>0?r.getTarget("next"):r.getTarget("prev");if(r.canAdvance(l)&&(Number(new Date)-a<550&&Math.abs(s)>50||Math.abs(s)>o/2)){r.flexAnimate(l,r.vars.pauseOnAction)}else{if(!p)r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,true)}}e=null;n=null;u=null;i=null;m=0}}},resize:function(){if(!r.animating&&r.is(":visible")){if(!h)r.doMath();if(p){v.smoothHeight()}else if(h){r.slides.width(r.computedW);r.update(r.pagingCount);r.setProps()}else if(l){r.viewport.height(r.h);r.setProps(r.h,"setTotal")}else{if(r.vars.smoothHeight)v.smoothHeight();r.newSlides.width(r.computedW);r.setProps(r.computedW,"setTotal")}}},smoothHeight:function(e){if(!l||p){var t=p?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,false,true);break;case"play":if(!n.playing&&!n.asNav){n.play()}break;case"pause":n.pause();break}},uniqueID:function(t){t.find("[id]").each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")});return t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++){if(e[t]+"Hidden"in document)v.pauseInvisible.visProp=e[t]+"Hidden"}if(v.pauseInvisible.visProp){var n=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){if(v.pauseInvisible.isHidden()){if(r.startTimeout)clearTimeout(r.startTimeout);else r.pause()}else{if(r.started)r.play();else r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()}})}},isHidden:function(){return document[v.pauseInvisible.visProp]||false}},setToClearWatchedEvent:function(){clearTimeout(f);f=setTimeout(function(){a=""},3e3)}};r.flexAnimate=function(t,n,s,u,a){if(!r.vars.animationLoop&&t!==r.currentSlide){r.direction=t>r.currentSlide?"next":"prev"}if(d&&r.pagingCount===1)r.direction=r.currentItem<t?"next":"prev";if(!r.animating&&(r.canAdvance(t,a)||s)&&r.is(":visible")){if(d&&u){var f=e(r.vars.asNavFor).data("flexslider");r.atEnd=t===0||t===r.count-1;f.flexAnimate(t,true,false,true,a);r.direction=r.currentItem<t?"next":"prev";f.direction=r.direction;if(Math.ceil((t+1)/r.visible)-1!==r.currentSlide&&t!==0){r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");t=Math.floor(t/r.visible)}else{r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");return false}}r.animating=true;r.animatingTo=t;if(n)r.pause();r.vars.before(r);if(r.syncExists&&!a)v.sync("animate");if(r.vars.controlNav)v.controlNav.active();if(!h)r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");r.atEnd=t===0||t===r.last;if(r.vars.directionNav)v.directionNav.update();if(t===r.last){r.vars.end(r);if(!r.vars.animationLoop)r.pause()}if(!p){var m=l?r.slides.filter(":first").height():r.computedW,g,y,b;if(h){g=r.vars.itemMargin;b=(r.itemW+g)*r.move*r.animatingTo;y=b>r.limit&&r.visible!==1?r.limit:b}else if(r.currentSlide===0&&t===r.count-1&&r.vars.animationLoop&&r.direction!=="next"){y=c?(r.count+r.cloneOffset)*m:0}else if(r.currentSlide===r.last&&t===0&&r.vars.animationLoop&&r.direction!=="prev"){y=c?0:(r.count+1)*m}else{y=c?(r.count-1-t+r.cloneOffset)*m:(t+r.cloneOffset)*m}r.setProps(y,"",r.vars.animationSpeed);if(r.transitions){if(!r.vars.animationLoop||!r.atEnd){r.animating=false;r.currentSlide=r.animatingTo}r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(r.ensureAnimationEnd);r.wrapup(m)});clearTimeout(r.ensureAnimationEnd);r.ensureAnimationEnd=setTimeout(function(){r.wrapup(m)},r.vars.animationSpeed+100)}else{r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(m)})}}else{if(!o){r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing);r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup)}else{r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1});r.slides.eq(t).css({opacity:1,zIndex:2});r.wrapup(m)}}if(r.vars.smoothHeight)v.smoothHeight(r.vars.animationSpeed)}};r.wrapup=function(e){if(!p&&!h){if(r.currentSlide===0&&r.animatingTo===r.last&&r.vars.animationLoop){r.setProps(e,"jumpEnd")}else if(r.currentSlide===r.last&&r.animatingTo===0&&r.vars.animationLoop){r.setProps(e,"jumpStart")}}r.animating=false;r.currentSlide=r.animatingTo;r.vars.after(r)};r.animateSlides=function(){if(!r.animating&&m)r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.animatedSlides=null;r.playing=false;if(r.vars.pausePlay)v.pausePlay.update("play");if(r.syncExists)v.sync("pause")};r.play=function(){if(r.playing)clearInterval(r.animatedSlides);r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed);r.started=r.playing=true;if(r.vars.pausePlay)v.pausePlay.update("pause");if(r.syncExists)v.sync("play")};r.stop=function(){r.pause();r.stopped=true};r.canAdvance=function(e,t){var n=d?r.pagingCount-1:r.last;return t?true:d&&r.currentItem===r.count-1&&e===0&&r.direction==="prev"?true:d&&r.currentItem===0&&e===r.pagingCount-1&&r.direction!=="next"?false:e===r.currentSlide&&!d?false:r.vars.animationLoop?true:r.atEnd&&r.currentSlide===0&&e===n&&r.direction!=="next"?false:r.atEnd&&r.currentSlide===n&&e===0&&r.direction==="next"?false:true};r.getTarget=function(e){r.direction=e;if(e==="next"){return r.currentSlide===r.last?0:r.currentSlide+1}else{return r.currentSlide===0?r.last:r.currentSlide-1}};r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(h){return t==="setTouch"?e:c&&r.animatingTo===r.last?0:c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n}else{switch(t){case"setTotal":return c?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return c?e:e;case"jumpEnd":return c?e:r.count*e;case"jumpStart":return c?r.count*e:e;default:return e}}}();return i*-1+"px"}();if(r.transitions){i=l?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)";n=n!==undefined?n/1e3+"s":"0s";r.container.css("-"+r.pfx+"-transition-duration",n);r.container.css("transition-duration",n)}r.args[r.prop]=i;if(r.transitions||n===undefined)r.container.css(r.args);r.container.css("transform",i)};r.setup=function(t){if(!p){var n,s;if(t==="init"){r.viewport=e('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container);r.cloneCount=0;r.cloneOffset=0;if(c){s=e.makeArray(r.slides).reverse();r.slides=e(s);r.container.empty().append(r.slides)}}if(r.vars.animationLoop&&!h){r.cloneCount=2;r.cloneOffset=1;if(t!=="init")r.container.find(".clone").remove();v.uniqueID(r.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(r.container);v.uniqueID(r.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(r.container)}r.newSlides=e(r.vars.selector,r);n=c?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;if(l&&!h){r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},t==="init"?100:0)}else{r.container.width((r.count+r.cloneCount)*200+"%");r.setProps(n*r.computedW,"init");setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});if(r.vars.smoothHeight)v.smoothHeight()},t==="init"?100:0)}}else{r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(t==="init"){if(!o){r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)}else{r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2})}}if(r.vars.smoothHeight)v.smoothHeight()}if(!h)r.slides.removeClass(i+"active-slide").eq(r.currentSlide).addClass(i+"active-slide");r.vars.init(r)};r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=r.viewport===undefined?r.width():r.viewport.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();if(h){r.itemT=r.vars.itemWidth+t;r.minW=n?n*r.itemT:r.w;r.maxW=i?i*r.itemT-t:r.w;r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth;r.visible=Math.floor(r.w/r.itemW);r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible;r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1);r.last=r.pagingCount-1;r.limit=r.pagingCount===1?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t}else{r.itemW=r.w;r.pagingCount=r.count;r.last=r.count-1}r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();if(!h){if(e<r.currentSlide){r.currentSlide+=1}else if(e<=r.currentSlide&&e!==0){r.currentSlide-=1}r.animatingTo=r.currentSlide}if(r.vars.controlNav&&!r.manualControls){if(t==="add"&&!h||r.pagingCount>r.controlNav.length){v.controlNav.update("add")}else if(t==="remove"&&!h||r.pagingCount<r.controlNav.length){if(h&&r.currentSlide>r.last){r.currentSlide-=1;r.animatingTo-=1}v.controlNav.update("remove",r.last)}}if(r.vars.directionNav)v.directionNav.update()};r.addSlide=function(t,n){var i=e(t);r.count+=1;r.last=r.count-1;if(l&&c){n!==undefined?r.slides.eq(r.count-n).after(i):r.container.prepend(i)}else{n!==undefined?r.slides.eq(n).before(i):r.container.append(i)}r.update(n,"add");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;if(isNaN(t)){e(t,r.slides).remove()}else{l&&c?r.slides.eq(r.last).remove():r.slides.eq(t).remove()}r.doMath();r.update(n,"remove");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.removed(r)};r.destroy=function(){var t="."+r.vars.namespace;if(r.vars.controlNav)r.controlNav.closest(t+"control-nav").remove();if(r.vars.directionNav)r.directionNav.closest(t+"direction-nav").remove();if(r.vars.pausePlay)r.pausePlay.closest(t+"pauseplay").remove();r.find(".clone").remove();r.unbind(r.vars.eventNamespace);if(r.vars.animation!="fade")r.container.unwrap();r.container.removeAttr("style");r.container.unbind(r.vars.eventNamespace);r.slides.removeAttr("style");r.slides.filter(t+"active-slide").removeClass(r.vars.namespace+"active-slide");r.slides.unbind(r.vars.eventNamespace);e(document).unbind(r.vars.eventNamespace+"-"+r.id);e(window).unbind(r.vars.eventNamespace+"-"+r.id);r.stop();r.removeData("flexslider")};v.init()};e(window).blur(function(e){focused=false}).focus(function(e){focused=true});e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:false,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};e.fn.flexslider=function(t){if(t===undefined)t={};if(typeof t==="object"){return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);if(i.length===1&&t.allowOneSlide===true||i.length===0){i.fadeIn(400);if(t.start)t.start(n)}else if(n.data("flexslider")===undefined){new e.flexslider(this,t)}})}else{var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),true);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),true);break;case"destroy":n.destroy();break;default:if(typeof t==="number")n.flexAnimate(t,true)}}}})(jQuery);

// Fitvids
(function(e){e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("div");i.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>';r.appendChild(i.childNodes[1])}t&&e.extend(n,t);return this.each(function(){var t="iframe[src*='player.vimeo.com'] iframe[src*='youtube.com'] iframe[src*='youtube-nocookie.com'] iframe[src*='kickstarter.com'][src*='video.html'] object embed".split(" ");n.customSelector&&t.push(n.customSelector);t=e(this).find(t.join(","));t=t.not("object object");t.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),n=n/r;t.attr("id")||(r="fitvid"+Math.floor(999999*Math.random()),t.attr("id",r));t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%");t.removeAttr("height").removeAttr("width")}})})}})(window.jQuery||window.Zepto);

/* <![CDATA[ */
var js_local_vars = {"theme_url":"http:\/\/localhost\/gv\/wp-content\/themes\/avada","dropdown_goto":"Go to...","mobile_nav_cart":"Shopping Cart","page_smoothHeight":"false","flex_smoothHeight":"false","language_flag":"","infinite_blog_finished_msg":"<em>All posts displayed<\/em>","infinite_blog_text":"<em>Loading the next set of posts...<\/em>","portfolio_loading_text":"<em>Loading Portfolio Items...<\/em>","faqs_loading_text":"<em>Loading FAQ Items...<\/em>","order_actions":"Details","testimonials_speed":"4000","logo_alignment":"Left","submenu_slideout":"0","lightbox_animation_speed":"Fast","lightbox_slideshow_speed":"5000","lightbox_opacity":"0.8","lightbox_social":"1","lightbox_post_images":"0","lightbox_gallery":"0","lightbox_title":"1","lightbox_desc":"1","sidenav_behavior":"Hover","responsive":"1","ipad_potrait":"1","google_analytics":"","space_head":"","space_body":"","header_layout":"v2","header_transparent":"0","slider_position":"Below","header_left_content":"Social Links","header_right_content":"Leave Empty","header_v4_content":"Tagline","header_banner_code":"","header_number":"Are you a member? | Register","header_email":"","header_tagline":"Insert Any Headline Or Link You Want Here","header_bg_image":"","header_bg_full":"0","header_bg_parallax":"1","header_bg_repeat":"repeat","margin_header_top":"0px","margin_header_bottom":"0px","header_social_links_icon_color":"#bebdbd","header_social_links_boxed":"No","header_social_links_box_color":"#e8e8e8","header_social_links_boxed_radius":"4px","header_social_links_tooltip_placement":"Bottom","header_sticky":"1","header_sticky_tablet":"0","header_sticky_mobile":"0","header_sticky_opacity":"0.97","header_sticky_nav_padding":"","header_sticky_nav_font_size":"","header_sticky_logo_max_width":"","logo":"","logo_retina":"","retina_logo_width":"","retina_logo_height":"","margin_logo_left":"0px","margin_logo_right":"0px","margin_logo_top":"0","margin_logo_bottom":"0","favicon":"","iphone_icon":"","iphone_icon_retina":"","ipad_icon":"","ipad_icon_retina":"","nav_height":"70","nav_padding":"35","dropdown_menu_width":"170px","topmenu_dropwdown_width":"100px","megamenu_title_size":"24px","main_nav_search_icon":"0","main_nav_icon_circle":"0","mobile_nav_submenu_slideout":"0","page_title_bar":"0","page_title_height":"87px","page_title_bg":"http:\/\/localhost\/gv\/wp-content\/themes\/Avada\/images\/page_title_bg.png","page_title_bg_retina":"","page_title_bg_full":"0","page_title_bg_parallax":"0","breadcrumb":"1","page_title_bar_bs":"Breadcrumbs","breadcrumb_mobile":"0","breacrumb_prefix":"","slidingbar_widgets":"0","mobile_slidingbar_widgets":"0","slidingbar_top_border":"0","slidingbar_bg_color_transparency":"0","slidingbar_open_on_load":"0","slidingbar_widgets_columns":"4","footer_widgets":"0","footer_widgets_columns":"4","footerw_bg_image":"","footerw_bg_full":"0","footer_area_bg_parallax":"1","footerw_bg_repeat":"repeat","footerw_bg_pos":"center center","footer_area_top_padding":"43px","footer_area_bottom_padding":"40px","footer_copyright":"1","footer_text":"\u00a9 2014 Gameveins.com. All rights reserved.","copyright_top_padding":"18px","copyright_bottom_padding":"16px","icons_footer":"1","footer_social_links_icon_color":"#46494a","footer_social_links_boxed":"No","footer_social_links_box_color":"#222222","footer_social_links_boxed_radius":"4px","footer_social_links_tooltip_placement":"Top","layout":"Wide","bg_image":"","bg_full":"0","bg_repeat":"repeat","bg_color":"#d7d6d6","bg_pattern_option":"0","bg_pattern":"pattern1","content_bg_image":"","content_bg_full":"0","content_bg_repeat":"repeat","custom_font_woff":"","custom_font_ttf":"","custom_font_svg":"","custom_font_eot":"","google_body":"Roboto","google_nav":"Roboto","google_headings":"Roboto Slab","google_footer_headings":"Roboto Slab","standard_body":"Select Font","standard_nav":"Select Font","standard_headings":"Select Font","standard_footer_headings":"Select Font","body_font_size":"13","nav_font_size":"14","nav_dropdown_font_size":"13","snav_font_size":"12","side_nav_font_size":"14","breadcrumbs_font_size":"10","sidew_font_size":"13","slidingbar_font_size":"13","footw_font_size":"13","copyright_font_size":"12","h1_font_size":"32","h2_font_size":"18","h3_font_size":"16","h4_font_size":"13","h5_font_size":"12","h6_font_size":"11","tagline_font_size":"16","meta_font_size":"12","page_title_font_size":"18","page_title_subheader_font_size":"14","pagination_font_size":"12","woo_icon_font_size":"12","body_font_lh":"20","h1_font_lh":"48","h2_font_lh":"27","h3_font_lh":"24","h4_font_lh":"20","h5_font_lh":"18","h6_font_lh":"17","scheme_type":"Light","color_scheme":"Green","primary_color":"#1b7fcc","slidingbar_bg_color":"#363839","header_sticky_bg_color":"#ffffff","header_bg_color":"#ffffff","header_border_color":"#e5e5e5","header_top_bg_color":"#ffffff","page_title_bg_color":"#F6F6F6","page_title_border_color":"#d2d3d4","content_bg_color":"#ffffff","footer_bg_color":"#363839","footer_border_color":"#e9eaee","copyright_bg_color":"#282a2b","copyright_border_color":"#4b4c4d","image_gradient_top_color":"#D1E990","image_gradient_bottom_color":"#AAD75B","image_rollover_text_color":"#333333","slidingbar_divider_color":"#282A2B","footer_divider_color":"#505152","form_bg_color":"#ffffff","form_text_color":"#aaa9a9","form_border_color":"#d2d2d2","timeline_bg_color":"transparent","timeline_color":"#ebeaea","qty_bg_color":"#fbfaf9","qty_bg_hover_color":"#ffffff","bbp_forum_header_bg":"#ebeaea","bbp_forum_border_color":"#ebeaea","main_top_padding":"55px","main_bottom_padding":"40px","hundredp_padding":"0px","slidingbar_text_shadow":"0","footer_text_shadow":"0","tagline_font_color":"#747474","page_title_color":"#333333","h1_color":"#333333","h2_color":"#333333","h3_color":"#333333","h4_color":"#333333","h5_color":"#333333","h6_color":"#333333","body_text_color":"#747474","link_color":"#333333","breadcrumbs_text_color":"#333333","slidingbar_headings_color":"#DDDDDD","slidingbar_text_color":"#8C8989","slidingbar_link_color":"#BFBFBF","sidebar_heading_color":"#333333","footer_headings_color":"#DDDDDD","footer_text_color":"#8C8989","footer_link_color":"#BFBFBF","menu_h45_bg_color":"#FFFFFF","menu_first_color":"#333333","menu_hover_first_color":"#a0ce4e","menu_sub_bg_color":"#edebeb","menu_bg_hover_color":"#f5f4f4","menu_sub_color":"#333333","menu_sub_sep_color":"#dcdadb","woo_cart_bg_color":"#fafafa","snav_color":"#747474","header_top_first_border_color":"#efefef","header_top_sub_bg_color":"#ffffff","header_top_menu_sub_color":"#747474","header_top_menu_bg_hover_color":"#fafafa","header_top_menu_sub_hover_color":"#333333","header_top_menu_sub_sep_color":"#e5e5e5","mobile_menu_background_color":"#f9f9f9","mobile_menu_border_color":"#dadada","mobile_menu_hover_color":"#f6f6f6","accordian_inactive_color":"#333333","dates_box_color":"#eef0f2","button_size":"Large","button_shape":"Round","button_type":"Flat","button_gradient_top_color":"#D1E990","button_gradient_bottom_color":"#AAD75B","button_gradient_top_color_hover":"#AAD75B","button_gradient_bottom_color_hover":"#D1E990","button_accent_color":"#6e9a1f","button_accent_hover_color":"#638e1a","button_bevel_color":"#54770F","button_border_width":"1px","button_text_shadow":"0","carousel_nav_color":"#999999","carousel_hover_color":"#808080","content_box_bg_color":"transparent","checklist_circle":"1","checklist_circle_color":"#a0ce4e","checklist_icons_color":"#ffffff","counter_filled_color":"#a0ce4e","counter_unfilled_color":"#f6f6f6","counter_box_color":"#a0ce4e","dropcap_color":"#a0ce4e","flip_boxes_front_bg":"#f6f6f6","flip_boxes_front_heading":"#333333","flip_boxes_front_text":"#747474","flip_boxes_back_bg":"#a0ce4e","flip_boxes_back_heading":"#eeeded","flip_boxes_back_text":"#ffffff","flip_boxes_border_size":"1px","flip_boxes_border_color":"transparent","flip_boxes_border_radius":"4px","full_width_bg_color":"#ffffff","full_width_border_size":"0px","full_width_border_color":"#eae9e9","icon_circle_color":"#333333","icon_border_color":"#333333","icon_color":"#ffffff","imgframe_border_color":"#f6f6f6","imageframe_border_size":"0","imgframe_style_color":"#000000","modal_bg_color":"#f6f6f6","modal_border_color":"#ebebeb","person_border_size":"0","person_border_color":"#f6f6f6","person_style_color":"#000000","popover_heading_bg_color":"#f6f6f6","popover_content_bg_color":"#ffffff","popover_border_color":"#ebebeb","popover_text_color":"#747474","popover_placement":"Top","full_boxed_pricing_box_heading_color":"#333333","sep_pricing_box_heading_color":"#333333","pricing_box_color":"#a0ce4e","pricing_bg_color":"#ffffff","pricing_border_color":"#f8f8f8","pricing_divider_color":"#ededed","progressbar_filled_color":"#a0ce4e","progressbar_unfilled_color":"#f6f6f6","progressbar_text_color":"#ffffff","sep_color":"#e0dede","section_sep_border_size":"1px","section_sep_bg":"#f6f6f6","section_sep_border_color":"#f6f6f6","sharing_box_bg_color":"#f6f6f6","sharing_box_tagline_text_color":"#333333","social_links_icon_color":"#bebdbd","social_links_boxed":"No","social_links_box_color":"#e8e8e8","social_links_boxed_radius":"4px","social_links_tooltip_placement":"Top","tabs_bg_color":"#ffffff","tabs_inactive_color":"#ebeaea","tagline_bg":"#f6f6f6","tagline_border_color":"#f6f6f6","testimonial_bg_color":"#f6f6f6","testimonial_text_color":"#747474","title_border_color":"#e0dede","blog_title":"Blog Main","blog_subtitle":"","blog_layout":"Grid","blog_sidebar_position":"Right","blog_archive_layout":"Grid","blog_archive_sidebar":"None","blog_pagination_type":"Infinite Scroll","blog_grid_columns":"4","content_length":"Excerpt","excerpt_length_blog":"20","strip_html_excerpt":"1","blog_full_width":"1","single_post_full_width":"1","featured_images":"1","alternate_date_format_month_year":"m, Y","alternate_date_format_day":"j","timeline_date_format":"F Y","featured_images_single":"1","blog_pn_nav":"0","blog_post_title":"1","author_info":"1","social_sharing_box":"1","related_posts":"1","blog_comments":"1","post_meta":"1","post_meta_author":"0","post_meta_date":"0","post_meta_cats":"0","post_meta_comments":"0","post_meta_read":"0","post_meta_tags":"1","date_format":"F jS, Y","portfolio_items":"10","portfolio_archive_layout":"Portfolio One Column","portfolio_archive_sidebar":"None","portfolio_content_length":"Excerpt","excerpt_length_portfolio":"55","grid_pagination_type":"Pagination","portfolio_slug":"portfolio-items","portfolio_featured_images":"0","portfolio_pn_nav":"0","portfolio_comments":"0","portfolio_author":"0","portfolio_social_sharing_box":"1","portfolio_related_posts":"1","social_bg_color":"#f6f6f6","sharing_social_links_icon_color":"#bebdbd","sharing_social_links_boxed":"No","sharing_social_links_box_color":"#e8e8e8","sharing_social_links_boxed_radius":"4px","sharing_social_links_tooltip_placement":"Top","sharing_facebook":"1","sharing_twitter":"1","sharing_reddit":"1","sharing_linkedin":"1","sharing_google":"1","sharing_tumblr":"1","sharing_pinterest":"1","sharing_email":"1","facebook_link":"1","social_sorter_1":"facebook_link","flickr_link":"","social_sorter_2":"flickr_link","rss_link":"1","social_sorter_3":"rss_link","twitter_link":"1","social_sorter_4":"twitter_link","vimeo_link":"","social_sorter_5":"vimeo_link","youtube_link":"1","social_sorter_6":"youtube_link","instagram_link":"","social_sorter_7":"instagram_link","pinterest_link":"","social_sorter_8":"pinterest_link","tumblr_link":"","social_sorter_9":"tumblr_link","google_link":"","social_sorter_10":"google_link","dribbble_link":"","social_sorter_11":"dribbble_link","digg_link":"","social_sorter_12":"digg_link","linkedin_link":"","social_sorter_13":"linkedin_link","blogger_link":"","social_sorter_14":"blogger_link","skype_link":"","social_sorter_15":"skype_link","forrst_link":"","social_sorter_16":"forrst_link","myspace_link":"","social_sorter_17":"myspace_link","deviantart_link":"","social_sorter_18":"deviantart_link","yahoo_link":"","social_sorter_19":"yahoo_link","reddit_link":"","social_sorter_20":"reddit_link","paypal_link":"","social_sorter_21":"paypal_link","dropbox_link":"","social_sorter_22":"dropbox_link","soundcloud_link":"","social_sorter_23":"soundcloud_link","vk_link":"","social_sorter_24":"vk_link","email_link":"","social_sorter_25":"email_link","social_sorter":"social_sorter_1,social_sorter_2,social_sorter_3,social_sorter_4,social_sorter_5,social_sorter_6,social_sorter_7,social_sorter_8,social_sorter_9,social_sorter_10,social_sorter_11,social_sorter_12,social_sorter_13,social_sorter_14,social_sorter_15,social_sorter_16,social_sorter_17,social_sorter_18,social_sorter_19,social_sorter_20,social_sorter_21,social_sorter_22,social_sorter_23,social_sorter_24,social_sorter_25","custom_icon_name":"","custom_icon_image":"","custom_icon_image_retina":"","retina_icon_width":"","retina_icon_height":"","custom_icon_link":"","posts_slideshow_number":"5","slideshow_autoplay":"1","slideshow_smooth_height":"0","slideshow_speed":"7000","pagination_video_slide":"0","legacy_posts_slideshow":"0","posts_slideshow":"1","tfes_slider_width":"100%","tfes_slider_height":"400px","tfes_animation":"sides","tfes_autoplay":"1","tfes_interval":"3000","tfes_speed":"800","tfes_width":"150","es_title_font_size":"42","es_caption_font_size":"20","es_title_color":"#333333","es_caption_color":"#747474","lightbox_autoplay":"0","gmap_type":"roadmap","gmap_width":"100%","gmap_height":"415px","gmap_topmargin":"55px","gmap_address":"","email_address":"","map_zoom_level":"8","map_pin":"0","map_popup":"0","map_scrollwheel":"0","map_scale":"0","map_zoomcontrol":"0","map_styling":"default","map_overlay_color":"","map_infobox_styling":"default","map_infobox_content":"","map_infobox_bg_color":"","map_infobox_text_color":"","map_custom_marker_icon":"","recaptcha_public":"","recaptcha_private":"","recaptcha_color_scheme":"red","sidebar_bg_color":"transparent","content_width":"65","sidebar_width":"30","sidebar_padding":"0","search_layout":"Medium","search_sidebar":"None","search_sidebar_position":"Right","search_content":"Only Posts","search_excerpt":"1","search_results_per_page":"10","search_featured_images":"0","default_sidebar_pos":"Right","number_related_posts":"5","excerpt_base":"Words","disable_excerpts":"0","link_read_more":"0","comments_pages":"0","featured_images_pages":"0","faq_featured_image":"0","nofollow_social_links":"0","social_icons_new":"1","image_rollover":"1","link_image_rollover":"0","zoom_image_rollover":"0","title_image_rollover":"0","cats_image_rollover":"0","image_rollover_opacity":"1","bbpress_global_sidebar":"0","ppbress_sidebar":"None","disable_megamenu":"0","avada_rev_styles":"0","ubermenu":"0","use_animate_css":"0","disable_mobile_animate_css":"1","status_lightbox":"1","status_lightbox_single":"0","status_yt":"0","status_vimeo":"0","status_gmap":"0","status_totop":"1","status_totop_mobile":"0","status_fusion_slider":"1","status_eslider":"1","status_fontawesome":"0","woo_items":"12","woocommerce_archive_sidebar":"None","woocommerce_avada_ordering":"0","woocommerce_one_page_checkout":"0","woocommerce_enable_order_notes":"1","woocommerce_acc_link_top_nav":"1","woocommerce_cart_link_top_nav":"1","woocommerce_acc_link_main_nav":"0","woocommerce_cart_link_main_nav":"1","woocommerce_social_links":"1","woo_acc_msg_1":"Need Assistance? Call customer service at 888-555-5555.","woo_acc_msg_2":"E-mail them at info@yourshop.com","custom_css":"","tf_username":"","tf_api":"","tf_purchase_code":"","":"","demo_data":"http:\/\/localhost\/gv\/wp-admin\/themes.php?page=optionsframework&import_data_content=true","code":"<h3 style='margin: 0;'>Tracking \/ Space Before Head \/ Space Before Body Code<\/h3>","header_info":"<h3 style='margin: 0;'>Breadcrumb Options<\/h3>","sticky_header_info":"<h3 style='margin: 0;'>Sticky Header Options<\/h3>","favicons":"<h3 style='margin: 0;'>Favicon Options<\/h3>","sliding_bar":"<h3 style='margin: 0;'>Sliding Bar Options<\/h3>","footer_widgets_area_title":"<h3 style='margin: 0;'>Footer Widgets Area Options<\/h3>","copyright_area_title":"<h3 style='margin: 0;'>Copyright Options<\/h3>","footer_social_icon_title":"<h3 style='margin: 0;'>Social Icon Options<\/h3>","boxed_mode_only":"<h3 style='margin: 0;'>Background options below only work in boxed mode<\/h3>","both_modes_only":"<h3 style='margin: 0;'>Background Options Below Work For Boxed & Wide Mode<\/h3>","custom_heading_font":"<h3 style='margin: 0;'>Custom Font For Menus And Headings.<\/h3><p style='margin-bottom:0;'>This will override the google \/ standard font options. All 4 files are required.<\/p>","google_fonts_intro":"<h3 style='margin: 0;'>Google Fonts<\/h3><p style='margin-bottom:0;'>This will override standard font options.<\/p>","standard_fonts_intro":"<h3 style='margin: 0;'>Standards<\/h3>","font_size_intro":"<h3 style='margin: 0;'>Font Sizes<\/h3>","font_line_heights_wrapper":"<h3 style='margin: 0;''>Font Line Heights<\/h3>","bg_colors_wrapper":"<h3 style='margin: 0;'>Background Colors<\/h3>","element_colors_wrapper":"<h3 style='margin: 0;'>Element Colors<\/h3>","element_options_wrapper":"<h3 style='margin: 0;'>Layout Options<\/h3>","font_colors_wrapper":"<h3 style='margin: 0;'>Font Colors<\/h3>","main_menu_colors_wrapper":"<h3 style='margin: 0;'>Main Menu Colors<\/h3>","menu_colors_intro":"<h3 style='margin: 0;'>Secondary Menu Colors<\/h3>","mobile_menu_colors_wrapper":"<h3 style='margin: 0;'>Mobile Menu Colors<\/h3>","accordion_shortcode":"<h3 style='margin: 0;'>Accordion Shortcode<\/h3>","blog_shortcode":"<h3 style='margin: 0;'>Blog Shortcode<\/h3>","button_shortcode":"<h3 style='margin: 0;'>Button Shortcode<\/h3>","carousel_shortcode":"<h3 style='margin: 0;'>Carousel Shortcode<\/h3>","cb_shortcode":"<h3 style='margin: 0;'>Content Box Shortcode<\/h3>","checklist_shortcode":"<h3 style='margin: 0;'>Checklist Shortcode<\/h3>","cc_shortcode":"<h3 style='margin: 0;'>Counter Circle Shortcode<\/h3>","counterb_shortcode":"<h3 style='margin: 0;'>Counter Boxes Shortcode<\/h3>","dropcap_shortcode":"<h3 style='margin: 0;'>Dropcap Shortcode<\/h3>","flipb_shortcode":"<h3 style='margin: 0;'>Flip Boxes Shortcode<\/h3>","fullwidth_shortcode":"<h3 style='margin: 0;'>Full Width Shortcode<\/h3>","icon_shortcode":"<h3 style='margin: 0;'>Icon Shortcode<\/h3>","imgf_shortcode":"<h3 style='margin: 0;'>Image Frame Shortcode<\/h3>","modal_shortcode":"<h3 style='margin: 0;'>Modal Shortcode<\/h3>","person_shortcode":"<h3 style='margin: 0;'>Person Shortcode<\/h3>","popover_shortcode":"<h3 style='margin: 0;'>Popover Shortcode<\/h3>","pricingtable_shortcode":"<h3 style='margin: 0;'>Pricing Table Shortcode<\/h3>","progressbar_shortcode":"<h3 style='margin: 0;'>Progress Bar Shortcode<\/h3>","separator_shortcode":"<h3 style='margin: 0;'>Separator Shortcode<\/h3>","sectionseparator_shortcode":"<h3 style='margin: 0;'>Section Separator Shortcode<\/h3>","sharingbox_shortcode":"<h3 style='margin: 0;'>Sharing Box Shortcode<\/h3>","sociallinks_shortcode":"<h3 style='margin: 0;'>Social Links Shortcode<\/h3>","tabs_shortcode":"<h3 style='margin: 0;'>Tabs Shortcode<\/h3>","tagline_shortcode":"<h3 style='margin: 0;'>Tagline Shortcode<\/h3>","testimonials_shortcode":"<h3 style='margin: 0;'>Testimonials Shortcode<\/h3>","title_shortcode":"<h3 style='margin: 0;'>Title Shortcode<\/h3>","blog_single_post":"<h3 style='margin: 0;'>Portfolio Single Post Page Options<\/h3>","blog_meta":"<h3 style='margin: 0;'>Blog Meta Options<\/h3>","social_share_box_icon_options_title":"<h3 style='margin: 0;'>Social Share Box Icon Options<\/h3>","social_share_box_links_title":"<h3 style='margin: 0;'>Social Share Box Links<\/h3>","custom_color_scheme_element":"<h3 style='margin: 0;'>Custom Social Icon<\/h3>","google_map":"<h3 style='margin: 0;'>Google Map Design Styling<\/h3>","recaptcha":"<h3 style='margin: 0;'>ReCaptcha Spam Options<\/h3>","sidebar_info":"<h3 style='margin-top:0;'>Important Instructions For These Options:<\/h3><b>1. \u00a0100%\u00a0<\/b>-\u00a0Your values added up cannot go over 100% or your sidebar will not show.<br \/><\/br \/>\r\n<b>2. PADDING\u00a0<\/b>- \u00a0Is always multiplied by 2 because it adds left and right padding. So a padding value of 5, actually equals 10. \u00a0And you should only use padding if you are using a background color that is different than your main background color.<br \/><\/br \/>\r\n\r\n<b>3. \u00a0UNSEEN SPACE<\/b>\u00a0- You need to factor in the space between the Content Width & Sidebar Width. This space does not have a field.<br \/><\/br \/>\r\n\r\n<b>EXAMPLE 1:<\/b>\u00a0Content Width = 65 + Sidebar Width = 30 \u00a0+ Padding = 0\r\n* this example adds up to 95% which leaves you 5% in between the content and sidebar sections. This is good to use if your sidebar background is the same color as your main background<br \/><\/br \/>\r\n\r\n<b>EXAMPLE 2:<\/b>\u00a0Content Width = 60 + Sidebar Width = 30 \u00a0+ Padding = 2.5\r\n* this example adds up to 95% which leaves you 5% in between the content and sidebar sections. This is good to use if your sidebar background is a different color than your main background","search":"<h3 style='margin: 0;'>Search Options<\/h3>","misc_options":"<h3 style='margin: 0;'>Miscellaneous Options<\/h3>","rollovers":"<h3 style='margin: 0;'>Image Rollover Options<\/h3>","bbpress_only":"<h3 style='margin: 0;'>BBPress Options<\/h3>","enable_disable_heading":"<h3 style='margin: 0;'>Enable \/ Disable Theme Features & Plugin Support<\/h3>","advanced_css_intro":"<h3 style='margin: 0;'>Advanced CSS Customizations<\/h3>","of_backup":"","of_transfer":"","theme_updater":"<h3 style='margin: 0;'>Enter all 3 required fields below!<\/h3>"};
/* ]]> */

// Avada
function onPlayerStateChange(e,t){return function(e){if(e.data==YT.PlayerState.PLAYING){jQuery(t).flexslider("pause")}if(e.data==YT.PlayerState.PAUSED){jQuery(t).flexslider("play")}if(e.data==YT.PlayerState.BUFFERING){jQuery(t).flexslider("pause")}}}function onPlayerReady(e){return function(t){if(jQuery(e).attr("data-mute")=="yes"){t.target.mute()}}}function insertParam(e,t,n,r){replaceDuplicates=true;if(e.indexOf("#")>0){var i=e.indexOf("#");urlhash=e.substring(e.indexOf("#"),e.length)}else{urlhash="";i=e.length}sourceUrl=e.substring(0,i);var s=sourceUrl.split("?");var o="";if(s.length>1){var u=s[1].split("&");for(var a=0;a<u.length;a++){var f=u[a].split("=");if(!(replaceDuplicates&&f[0]==t)){if(o==""){o="?"+f[0]+"="+(f[1]?f[1]:"")}else{o+="&";o+=f[0]+"="+(f[1]?f[1]:"")}}}}if(o=="")o="?";if(r){o="?"+t+"="+n+(o.length>1?"&"+o.substring(1):"")}else{if(o!==""&&o!="?")o+="&";o+=t+"="+(n?n:"")}return s[0]+o+urlhash}function ytVidId(e){var t=/^(?:https?:)?(\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return e.match(t)?RegExp.$1:false}function onYouTubePlayerAPIReady(){YT_ready(true)}function animate_scrolled_header_v1(){if(!Modernizr.mq("only screen and (max-width: 1000px)")){if(jQuery(window).scrollTop()>0){if(!is_scrolled){jQuery(".header-wrapper").css({"z-index":"5",position:"",height:orig_header_height});jQuery(".header-v1").css({"z-index":"5",position:"fixed",height:orig_header_height,width:"100%","-webkit-box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12)","-moz-box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12)","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12)","-webkit-backface-visibility":"hidden"});jQuery(".header-wrapper").find(".fusion-navbar-nav > li > a").css("height",orig_menu_height);jQuery(".header-wrapper,	 .header-v1").stop(true,true).animate({height:scrolled_header_height},{queue:false,duration:350,easing:"easeOutCubic"});jQuery(".header-wrapper").find(".avada-row").stop(true,true).animate({"padding-top":"0","padding-bottom":"0"},{queue:false,duration:350,easing:"easeOutCubic"});if(jQuery(".header-wrapper").find(".logo .logo_normal:visible")){var e=jQuery(".header-v1").find(".logo .normal_logo").height();if(e<scrolled_header_height-10){var t=(scrolled_header_height-e)/2}else{e=scrolled_header_height-10;var t=5}jQuery(".header-wrapper").find(".logo .logo_normal").stop(true,true).animate({height:e},{queue:false,duration:350,easing:"easeOutCubic"})}jQuery(".header-wrapper").find(".logo").stop(true,true).animate({"margin-top":t,"margin-bottom":t},{queue:false,duration:350,easing:"easeOutCubic"});jQuery(".header-wrapper").find(".fusion-navbar-nav > li > a").stop(true,true).animate({height:scrolled_header_height-3,"line-height":scrolled_header_height-3},{queue:false,duration:350,easing:"easeOutCubic",complete:function(){if(!jQuery(".header-v1 .nav-holder style").length){jQuery(".header-v1 .nav-holder").prepend("<style>.header-v1 #nav.nav-holder .navigation > .cart > a { height:"+scrolled_header_height+";line-height:"+scrolled_header_height+"; }</style>")}}})}}else{if(is_scrolled){jQuery(".header-v1").css({"-webkit-box-shadow":"","-moz-box-shadow":"","box-shadow":"","-webkit-backface-visibility":""});jQuery(".header-wrapper, .header-v1").stop(true,true).animate({height:orig_header_height},{queue:false,duration:350,easing:"easeOutCubic"});jQuery(".header-wrapper").find(".avada-row").stop(true,true).animate({"padding-top":"0","padding-bottom":"0"},{queue:false,duration:350,easing:"easeOutCubic"});if(jQuery(".header-wrapper").find(".logo .logo_normal:visible")){jQuery(".header-wrapper").find(".logo .logo_normal").stop(true,true).animate({height:orig_logo_height},{queue:false,duration:350,easing:"easeOutCubic"})}jQuery(".header-wrapper").find(".logo").stop(true,true).animate({"margin-top":orig_logo_container_margin_top,"margin-bottom":orig_logo_container_margin_bottom},{queue:false,duration:350,easing:"easeOutCubic"});jQuery(".header-wrapper").find(".fusion-navbar-nav > li > a").stop(true,true).animate({height:orig_menu_height,"line-height":orig_menu_height},{queue:false,duration:350,easing:"easeOutCubic",complete:function(){if(jQuery(".header-wrapper .nav-holder style").length){jQuery(".header-wrapper .nav-holder style").remove()}}})}}}if(jQuery(window).scrollTop()>0){is_scrolled=true}else{is_scrolled=false}}(function(e){e.fn.equalHeights=function(t,n){tallest=t?t:0;this.each(function(){e(this).css("height","auto");if(e(this).outerHeight()>tallest){tallest=e(this).outerHeight()}});if(n&&tallest>n){tallest=n}return this.each(function(){e(this).css("min-height",tallest).css("overflow","auto")})}})(jQuery);(function(e){e.fn.countTo=function(t){t=t||{};return e(this).each(function(){function n(e){e=r.formatter.call(o,e,r);u.html(e)}var r=e.extend({},e.fn.countTo.defaults,{from:e(this).data("from"),to:e(this).data("to"),speed:e(this).data("speed"),refreshInterval:e(this).data("refresh-interval"),decimals:e(this).data("decimals")},t),i=Math.ceil(r.speed/r.refreshInterval),s=(r.to-r.from)/i,o=this,u=e(this),f=0,l=r.from,c=u.data("countTo")||{};u.data("countTo",c);c.interval&&clearInterval(c.interval);c.interval=setInterval(function(){l+=s;f++;n(Math.abs(l));"function"==typeof r.onUpdate&&r.onUpdate.call(o,l);f>=i&&(u.removeData("countTo"),clearInterval(c.interval),l=r.to,"function"==typeof r.onComplete&&r.onComplete.call(o,l))},r.refreshInterval);n(l)})};e.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(e,t){return e.toFixed(t.decimals)},onUpdate:null,onComplete:null}})(jQuery);(function(e){e.fn.hoverFlow=function(t,n,r,i,s){if(e.inArray(t,["mouseover","mouseenter","mouseout","mouseleave"])==-1){return this}var o=typeof r==="object"?r:{complete:s||!s&&i||e.isFunction(r)&&r,duration:r,easing:s&&i||i&&!e.isFunction(i)&&i};o.queue=false;var u=o.complete;o.complete=function(){e(this).dequeue();if(e.isFunction(u)){u.call(this)}};return this.each(function(){var r=e(this);if(t=="mouseover"||t=="mouseenter"){r.data("jQuery.hoverFlow",true)}else{r.removeData("jQuery.hoverFlow")}r.queue(function(){var e=t=="mouseover"||t=="mouseenter"?r.data("jQuery.hoverFlow")!==undefined:r.data("jQuery.hoverFlow")===undefined;if(e){r.animate(n,o)}else{r.queue([])}})})}})(jQuery);var cssua=function(e,t,n){var r=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/,i=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g,s=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/,o=/\bsilk-accelerated=true\b/,u=/\bfluidapp\b/,a=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/,f=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/,l=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/,c={parse:function(e,t){var n={};t&&(n.standalone=t);e=(""+e).toLowerCase();if(!e)return n;for(var c,h,p=e.split(/[()]/),d=0,m=p.length;d<m;d++)if(d%2){var g=p[d].split(";");c=0;for(h=g.length;c<h;c++)if(r.exec(g[c])){var y=RegExp.$1.split(" ").join("_"),b=RegExp.$2;if(!n[y]||parseFloat(n[y])<parseFloat(b))n[y]=b}}else if(g=p[d].match(i))for(c=0,h=g.length;c<h;c++)y=g[c].split(/[\/\s]+/),y.length&&"mozilla"!==y[0]&&(n[y[0].split(" ").join("_")]=y.slice(1).join("-"));f.exec(e)?(n.mobile=RegExp.$1,s.exec(e)&&(delete n[n.mobile],n.blackberry=n.version||RegExp.$3||RegExp.$2||RegExp.$1,RegExp.$1?n.mobile="blackberry":"0.0.1"===n.version&&(n.blackberry="7.1.0.0"))):a.exec(e)?n.desktop=RegExp.$1:l.exec(e)&&(n.game=RegExp.$1,c=n.game.split(" ").join("_"),n.version&&!n[c]&&(n[c]=n.version));n.intel_mac_os_x?(n.mac_os_x=n.intel_mac_os_x.split("_").join("."),delete n.intel_mac_os_x):n.cpu_iphone_os?(n.ios=n.cpu_iphone_os.split("_").join("."),delete n.cpu_iphone_os):n.cpu_os?(n.ios=n.cpu_os.split("_").join("."),delete n.cpu_os):"iphone"!==n.mobile||n.ios||(n.ios="1");n.opera&&n.version?(n.opera=n.version,delete n.blackberry):o.exec(e)?n.silk_accelerated=!0:u.exec(e)&&(n.fluidapp=n.version);if(n.applewebkit)n.webkit=n.applewebkit,delete n.applewebkit,n.opr&&(n.opera=n.opr,delete n.opr,delete n.chrome),n.safari&&(n.chrome||n.crios||n.opera||n.silk||n.fluidapp||n.phantomjs||n.mobile&&!n.ios?delete n.safari:n.safari=n.version&&!n.rim_tablet_os?n.version:{419:"2.0.4",417:"2.0.3",416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(n.safari,10)]||n.safari);else if(n.msie||n.trident)if(n.opera||(n.ie=n.msie||n.rv),delete n.msie,n.windows_phone_os)n.windows_phone=n.windows_phone_os,delete n.windows_phone_os;else{if("wpdesktop"===n.mobile||"xblwp7"===n.mobile||"zunewp7"===n.mobile)n.mobile="windows desktop",n.windows_phone=9>+n.ie?"7.0":10>+n.ie?"7.5":"8.0",delete n.windows_nt}else if(n.gecko||n.firefox)n.gecko=n.rv;n.rv&&delete n.rv;n.version&&delete n.version;return n},format:function(e){var t="",n;for(n in e)if(n&&e.hasOwnProperty(n)){var r=n,i=e[n],r=r.split(".").join("-"),s=" ua-"+r;if("string"===typeof i){for(var i=i.split(" ").join("_").split(".").join("-"),o=i.indexOf("-");0<o;)s+=" ua-"+r+"-"+i.substring(0,o),o=i.indexOf("-",o+1);s+=" ua-"+r+"-"+i}t+=s}return t},encode:function(e){var t="",n;for(n in e)n&&e.hasOwnProperty(n)&&(t&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}};c.userAgent=c.ua=c.parse(t,n);t=c.format(c.ua)+" js";e.className=e.className?e.className.replace(/\bno-js\b/g,"")+t:t.substr(1);return c}(document.documentElement,navigator.userAgent,navigator.standalone);var generateCarousel=function(){if(jQuery().carouFredSel){jQuery(".es-carousel-wrapper").not(".fusion-woo-featured-products-slider").each(function(){jQuery(this).find("ul").carouFredSel({auto:false,prev:jQuery(this).find(".es-nav-prev"),next:jQuery(this).find(".es-nav-next"),width:"100%",height:"variable",align:"center",onCreate:function(e){jQuery(this).find(".image").css("visibility","visible")}})});jQuery(".fusion-woo-featured-products-slider").each(function(){var e=jQuery(this).find("ul");e.carouFredSel({auto:false,prev:jQuery(this).find(".es-nav-prev"),next:jQuery(this).find(".es-nav-next"),align:"left",left:0,width:"100%",height:"variable",responsive:true,scroll:{items:1},items:{width:500,height:"variable",visible:{min:1,max:30}},onCreate:function(e){jQuery(this).find(".image").css("visibility","visible");jQuery(this).parent().css("overflow","")}})});jQuery(".simple-products-slider-variable").each(function(){var e=jQuery(this).find("ul");e.carouFredSel({auto:false,prev:jQuery(this).find(".es-nav-prev"),next:jQuery(this).find(".es-nav-next"),width:"100%",height:"variable",align:"center"})})}};var calcTabsLayout=function(e){jQuery(e).each(function(){var e=jQuery(this).parent().width();var t=jQuery(this).find("li").length;var n=e%t;var r=(e-n)/t;var i=e-r*(t-1);jQuery(this).css({width:e+"px"});jQuery(this).find("li").css({width:r+"px"});jQuery(this).find("li:last").css({width:i+"px"}).addClass("no-border-right")})};var fusion_reanimate_slider=function(e){var t=jQuery(".tfs-slider").find(".heading, .caption, .buttons");jQuery(t).each(function(){var e=jQuery(this).data("animationtype");var t=jQuery(this).data("animationduration");jQuery(this).css("visibility","hidden");jQuery(this).removeClass("animated");jQuery(this).removeClass(e);jQuery(this).width("auto");jQuery(this).css("visibility","visible");jQuery(this).addClass("animated	"+e);if(t){jQuery(this).css("-moz-animation-duration",t+"s");jQuery(this).css("-webkit-animation-duration",t+"s");jQuery(this).css("-ms-animation-duration",t+"s");jQuery(this).css("-o-animation-duration",t+"s");jQuery(this).css("animation-duration",t+"s")}})};(function(e){"use strict";e.fn.init_sticky_header=function(){var t;var n=55;var r=e(".sticky-header").css("top");var i=r.replace("px","")-45;var s=".sticky-header .logo img.normal_logo";var o=".sticky-header .logo img.retina_logo";var u,a,f,l,c,h,p,d,v,m=0;var g=0;e(".sticky-header").css("top",i+"px");e(".init-sticky-header").waypoint(function(i){if(i==="down"){var y=e("#wpadminbar").outerHeight();var b=window.location.hash.toString();if(b.length>1&&e(b).length&&!g){e("html, body").animate({scrollTop:e(b).offset().top-y-55+1},350,"easeInOutExpo");g=1}if(e("#wpadminbar").length>=1){r=e("#wpadminbar").outerHeight()+"px"}e(".sticky-header").show();e(".sticky-header").animate({height:n+"px",top:r},500);e(".sticky-shadow").animate({height:n+"px",top:r},500);if(e("#header .retina_logo").is(":visible")){s=".sticky-header .logo img.retina_logo";o=".sticky-header .logo img.normal_logo"}else{s=".sticky-header .logo img.normal_logo";o=".sticky-header .logo img.retina_logo"}u=e(s).height();a=e(s).width();f=e(s).data("max-width");if(e(".no-svg").length>=1){u=u+4;a=a+4}c=a;h=u;if(f>0){l=f/a;c=f;h=u*l}if(h>45){p="55px";d="55px";v=45/u*a;m="5px"}else{p=h+"px";d=h+"px";v=c;m=(55-h)/2}t=v+15;e("body #header-sticky.sticky-header .sticky-shadow .mobile-nav-holder").css("padding-left",t+"px");v=v+"px";if(e(".no-svg").length>=1){e(s).animate({height:p,"line-height":d,"max-width":v,"margin-top":m},500);e(o).css("height",p).css("line-height",d).css("max-width",v).css("margin-top",m);e(s).css("display","")}else{e(s).animate({height:p,"line-height":d,width:v,"margin-top":m},500);e(o).css("height",p).css("line-height",d).css("width",v).css("margin-top",m);e(s).css("display","")}e(".sticky-header #sticky-nav ul.menu > li > a").animate({height:n+"px","line-height":n+"px"},500);e(".sticky-header").addClass("sticky");e("#small-nav").css("visibility","hidden")}else if(i==="up"){e(".sticky-header").css("height","");e(".sticky-shadow").css("height","");e("#header .retina_logo, #header-sticky .retina_logo").css("height",u);e("#header .retina_logo, #header-sticky .retina_logo").css("width",a);e("#header-sticky .retina_logo").css("margin-top","");e("#header .normal_logo, #header-sticky .normal_logo").css("height","");e("#header .normal_logo, #header-sticky .normal_logo").css("width","");e("#header-sticky .retina_logo").css("margin-top","");e(s+","+o).css("line-height","");e(s+","+o).css("padding-top","");e(s+","+o).css("max-width","");e(s+","+o).css("margin-top","");e(".sticky-header #sticky-nav ul.menu > li > a").css("height","");e(".sticky-header #sticky-nav ul.menu > li > a").css("line-height","");e(".sticky-header").removeClass("sticky");e(".sticky-header").hide();e("#small-nav").css("visibility","visible");e(".sticky-header .mobile-nav-holder #mobile-nav").css("display","none")}})};e.fn.fusion_box_counting=function(){var t=e(this).data("value");var n=e(this).data("direction");if(n=="down"){e(this).countTo({from:t,to:0,refreshInterval:10,speed:1e3})}else{e(this).countTo({from:0,to:t,refreshInterval:10,speed:1e3})}};e.fn.fusion_draw_circles=function(){var t=e(this);var n=t.children(".counter-circle").attr("data-countdown");var r=t.children(".counter-circle").attr("data-filledcolor");var i=t.children(".counter-circle").attr("data-unfilledcolor");var s=t.children(".counter-circle").attr("data-scale");var o=t.children(".counter-circle").attr("data-size");var u=t.children(".counter-circle").attr("data-speed");var a=t.children(".counter-circle").attr("data-strokesize");var f=t.children(".counter-circle").attr("data-percent");if(s){s=e("body").css("color")}if(n){t.children(".counter-circle").attr("data-percent",100);t.children(".counter-circle").easyPieChart({barColor:r,trackColor:i,scaleColor:s,scaleLength:5,lineCap:"round",lineWidth:a,size:o,rotate:0,animate:{duration:u,enabled:true}});t.children(".counter-circle").data("easyPieChart").enableAnimation();t.children(".counter-circle").data("easyPieChart").update(f)}else{t.children(".counter-circle").easyPieChart({barColor:r,trackColor:i,scaleColor:s,scaleLength:5,lineCap:"round",lineWidth:a,size:o,rotate:0,animate:{duration:u,enabled:true}})}};e.fn.fusion_setup_flip_boxes=function(){var t=e(this);var n,r,i=0;if(t.find(".flip-box-front").outerHeight()>t.find(".flip-box-back").outerHeight()){n=t.find(".flip-box-front").outerHeight();r=t.find(".flip-box-front").height();i=(r-t.find(".flip-box-back-inner").outerHeight())/2;t.find(".flip-box-back").css("min-height",n);t.css("min-height",n);t.find(".flip-box-back-inner").css("margin-top",i)}else{n=t.find(".flip-box-back").outerHeight();r=t.find(".flip-box-back").height();i=(r-t.find(".flip-box-front-inner").outerHeight())/2;t.find(".flip-box-front").css("min-height",n);t.css("min-height",n);t.find(".flip-box-front-inner").css("margin-top",i)}};e.fn.fusion_draw_progress=function(){var t=e(this);if(e("html").hasClass("lt-ie9")){t.css("visibility","visible");t.each(function(){var e=t.find(".progress").attr("aria-valuenow");t.find(".progress").css("width","0%");t.find(".progress").animate({width:e+"%"},"slow")})}else{t.find(".progress").css("width",function(){return e(this).attr("aria-valuenow")+"%"})}};e.fn.fusion_position_megamenu=function(t){var n="";if(e(".header-v4").length){n=e(this).parent("nav").parent()}else{n=e(this).parent("nav")}if(e(this).parent("nav").length){var r=n,i=r.offset(),s=r.width(),o=i.left,u=o+s;if(!e(".rtl").length){return this.each(function(){e(this).children("li").each(function(){var t=e(this),n=t.position(),r=t.find(".fusion-megamenu-wrapper"),i=r.outerWidth(),s=0;if(r.length){r.removeAttr("style");if(n.left+i>u){s=-1*(n.left-(u-i));if(js_local_vars.logo_alignment.toLowerCase()=="right"){if(n.left+s<o){s=-1*(n.left-o)}}r.css("left",s)}}})})}else{return this.each(function(){e(this).children("li").each(function(){var t=e(this),n=t.position(),r=n.left+t.outerWidth(),i=t.find(".fusion-megamenu-wrapper"),s=i.outerWidth(),a=0;if(i.length){i.removeAttr("style");if(r-s<o){a=-1*(s-(r-o));if(js_local_vars.logo_alignment.toLowerCase()=="left"||js_local_vars.logo_alignment.toLowerCase()=="center"&&!e(".header-v5").length){if(r-a>u){a=-1*(u-r)}}i.css("right",a)}}})})}}};e.fn.position_last_top_menu_item=function(t){if(e(this).children("ul").length||e(this).children("div").length){var n=e(this),r=n.position().left,i=n.outerWidth(),s,o=e(".header-social .avada-row"),u=o.position().left,a=o.outerWidth();if(n.children("ul").length){s=n.children("ul")}else if(n.children("div").length){s=n.children("div")}if(!e(".rtl").length){if(r+s.outerWidth()>u+a){s.css("right","-1px").css("left","auto");s.find(".sub-menu").each(function(){e(this).css("right","100px").css("left","auto")})}}else{if(s.position().left<r){s.css("left","-1px").css("right","auto");s.find(".sub-menu").each(function(){e(this).css("left","100px").css("right","auto")})}}}}})(jQuery);jQuery(window).load(function(){function e(e,t,n,r){var i=jQuery(this).height();jQuery(this).parent().css("height",i)}jQuery(".fusion-counter-box").not(".fusion-modal .fusion-counter-box").waypoint(function(){jQuery(this).find(".display-counter").each(function(){jQuery(this).fusion_box_counting()})},{triggerOnce:true,offset:"bottom-in-view"});jQuery(".fusion-modal .fusion-counter-box").each(function(){jQuery(this).appear(function(){jQuery(this).find(".display-counter").each(function(){jQuery(this).fusion_box_counting()})})});jQuery(".counter-circle-wrapper").not(".fusion-modal .counter-circle-wrapper").waypoint(function(){jQuery(this).fusion_draw_circles()},{triggerOnce:true,offset:"bottom-in-view"});jQuery(".fusion-modal .counter-circle-wrapper").each(function(){jQuery(this).appear(function(){jQuery(this).fusion_draw_circles()})});jQuery(".flip-box-inner-wrapper").each(function(){jQuery(this).fusion_setup_flip_boxes()});jQuery(".fusion-progressbar").not(".fusion-modal .fusion-progressbar").waypoint(function(){jQuery(this).fusion_draw_progress()},{triggerOnce:true,offset:"bottom-in-view"});jQuery(".fusion-modal .fusion-progressbar").each(function(){jQuery(this).appear(function(){jQuery(this).fusion_draw_progress()})});if(jQuery().cycle){var t={fx:"fade",after:e,delay:0};if(js_local_vars.testimonials_speed){t.timeout=parseInt(js_local_vars.testimonials_speed)}jQuery(".reviews").cycle(t)}jQuery(".fusion-accordian .panel-title a").on("click",function(){if(jQuery(this).hasClass("active")){jQuery(this).parents(".fusion-accordian ").find(".panel-title a").removeClass("active")}else{jQuery(this).parents(".fusion-accordian ").find(".panel-title a").removeClass("active");jQuery(this).addClass("active");jQuery(this).parents(".panel").find(".panel-body .shortcode-map").each(function(){jQuery("#"+this.id).goMap();marker=jQuery.goMap.markers[0];if(marker){info=jQuery.goMap.getInfo(marker);jQuery.goMap.setInfo(marker,info)}var e=jQuery.goMap.getMap().getCenter();google.maps.event.trigger(jQuery.goMap.getMap(),"resize");jQuery.goMap.getMap().setCenter(e)})}generateCarousel();if(jQuery(".portfolio").length){jQuery(".portfolio-wrapper").isotope("reLayout")}});jQuery(".fusion-modal").each(function(){jQuery("#wrapper").append(jQuery(this))});jQuery(".fusion-modal").bind("hidden.bs.modal",function(){jQuery("html").css("overflow","")});jQuery(".fusion-modal").bind("show.bs.modal",function(){jQuery("html").css("overflow","visible")});if(jQuery(".tfs-slider").data("parallax")==1){jQuery(".fusion-modal").css("top",jQuery(".header-wrapper").height())}jQuery(".fusion-hook-modal a").click(function(e){e.preventDefault()});if(cssua.ua.mobile||cssua.ua.tablet_pc){jQuery(".fusion-popover, .fusion-tooltip").each(function(){jQuery(this).attr("data-trigger","click");jQuery(this).data("trigger","click")})}jQuery('[data-toggle~="popover"]').popover({container:"body"});if(jQuery(".vertical-tabs").length>=1){jQuery(".vertical-tabs .tab-content .tab-pane").css("min-height",jQuery(".vertical-tabs .nav-tabs").outerHeight())}jQuery(window).on("resize",function(){if(jQuery(".vertical-tabs").length>=1){jQuery(".vertical-tabs .tab-content .tab-pane").css("min-height",jQuery(".vertical-tabs .nav-tabs").outerHeight())}});jQuery('[data-toggle~="tooltip"]').tooltip({container:"body"});generateCarousel();if(jQuery().waypoint){jQuery(".fusion-animated").waypoint(function(){jQuery(this).css("visibility","visible");var e=jQuery(this).data("animationtype");var t=jQuery(this).data("animationduration");jQuery(this).addClass("animated-	"+e);if(t){jQuery(this).css("-moz-animation-duration",t+"s");jQuery(this).css("-webkit-animation-duration",t+"s");jQuery(this).css("-ms-animation-duration",t+"s");jQuery(this).css("-o-animation-duration",t+"s");jQuery(this).css("animation-duration",t+"s")}},{triggerOnce:true,offset:"80%"})}if(jQuery().flexslider&&jQuery(".woocommerce .images #carousel").length>=1){var n=100;if(jQuery("body.woocommerce #sidebar").is(":visible")){wooThumbWidth=100}else{wooThumbWidth=118}if(typeof jQuery(".woocommerce .images #carousel").data("flexslider")!=="undefined"){jQuery(".woocommerce .images #carousel").flexslider("destroy");jQuery(".woocommerce .images #slider").flexslider("destroy")}jQuery(".woocommerce .images #carousel").flexslider({animation:"slide",controlNav:false,directionNav:false,animationLoop:false,slideshow:false,itemWidth:wooThumbWidth,itemMargin:9,touch:false,useCSS:false,asNavFor:".woocommerce .images #slider",smoothHeight:false,prevText:"&#xf104;",nextText:"&#xf105;"});jQuery(".woocommerce .images #slider").flexslider({animation:"slide",controlNav:false,animationLoop:false,slideshow:false,smoothHeight:true,touch:true,useCSS:false,sync:".woocommerce .images #carousel",prevText:"&#xf104;",nextText:"&#xf105;"})}if(jQuery().flexslider&&jQuery(".flexslider-attachments").length>=1){if(typeof jQuery(".flexslider-attachments").data("flexslider")!=="undefined"){jQuery(".flexslider-attachments").flexslider("destroy")}jQuery(".flexslider-attachments").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:js_local_vars.slideshow_speed,video:false,smoothHeight:false,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;",controlNav:"thumbnails"})}});var avada_ipad=function(){if(jQuery("meta[name=viewport]").length==0){jQuery("head").append('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />')}var e=window.innerWidth;jQuery("meta[name=viewport]").remove();var t=e/980;jQuery("head").append('<meta name="viewport" content="width=980, initial-scale='+t+", maximum-scale="+t+'" />')};jQuery(document).ready(function(e){function o(e){var t=jQuery(window).scrollTop();var n=t+jQuery(window).height();var r=jQuery(e).offset().top;var i=r+jQuery(e).height();return i<=n&&r>=t}function u(e){return e.match(/\.(jpeg|jpg|gif|png)$/)!=null}if(js_local_vars.disable_mobile_animate_css=="1"&&cssua.ua.mobile){jQuery("body").addClass("dont-animate")}else{jQuery("body").addClass("do-animate")}if(jQuery("html").hasClass("ua-mobile-ipad")&&js_local_vars.ipad_potrait=="1"){jQuery("body").css("overflow","hidden");avada_ipad();jQuery(window).resize(function(){avada_ipad()})}setTimeout(function(){jQuery(".flip-box-inner-wrapper .fa").addClass("finished-animating")},5e3);jQuery(".fusion-flip-box").mouseover(function(){jQuery(this).addClass("hover")});jQuery(".fusion-flip-box").mouseout(function(){jQuery(this).removeClass("hover")});var t=jQuery("#wpadminbar").outerHeight();var n=0;if(jQuery(".sticky-header").length){n=65}jQuery(".fusion-accordian a").click(function(e){e.preventDefault()});jQuery("a[href*=#]:not([href=#])").not(".fusion-accordian a, .fusion-tabs a, .pyre_tabs .tabset a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var e=jQuery(this.hash);e=e.length?e:jQuery("[name="+this.hash.slice(1)+"]");if(e.length){jQuery("html, body").animate({scrollTop:e.offset().top-t-n+1},850,"easeInOutExpo");return false}}});jQuery(".top-menu > ul > li:last-child").position_last_top_menu_item();if(jQuery.fn.fusion_position_megamenu){jQuery(".fusion-navbar-nav").fusion_position_megamenu();jQuery(".fusion-navbar-nav .fusion-megamenu-menu").mouseenter(function(){jQuery(this).parent().fusion_position_megamenu()})}jQuery(".fusion-megamenu-menu").mouseenter(function(){if(jQuery(this).find(".shortcode-map").length>=1){jQuery(this).find(".shortcode-map").each(function(){jQuery(this).goMap(window[this.id]);marker=jQuery.goMap.markers[0];if(marker){info=jQuery.goMap.getInfo(marker);jQuery.goMap.setInfo(marker,info)}var e=jQuery.goMap.getMap().getCenter();google.maps.event.trigger(jQuery.goMap.getMap(),"resize");jQuery.goMap.getMap().setCenter(e)})}});jQuery(".my-show").click(function(){jQuery(".my-hidden").css("visibility","visible")});if(jQuery(".demo_store").length){jQuery("#wrapper").css("margin-top",jQuery(".demo_store").outerHeight());if(jQuery("#slidingbar-area").outerHeight()>0){jQuery(".header-wrapper").css("margin-top","0")}if(jQuery(".sticky-header").length){jQuery(".sticky-header").css("margin-top",jQuery(".demo_store").outerHeight())}}var r=0;if(jQuery("#slidingbar-area.open_onload").length>=1){jQuery("div#slidingbar").slideDown(240,"easeOutQuad");jQuery(".sb_toggle").addClass("open");r=1;if(jQuery("#slidingbar .shortcode-map").length>=1){jQuery("#slidingbar").find(".shortcode-map").each(function(){jQuery("#"+this.id).goMap();marker=jQuery.goMap.markers[0];if(marker){info=jQuery.goMap.getInfo(marker);jQuery.goMap.setInfo(marker,info)}var e=jQuery.goMap.getMap().getCenter();google.maps.event.trigger(jQuery.goMap.getMap(),"resize");jQuery.goMap.getMap().setCenter(e)})}jQuery("#slidingbar-area").removeClass("open_onload")}jQuery(".sb_toggle").click(function(){if(r==0){jQuery("div#slidingbar").slideDown(240,"easeOutQuad");jQuery(".sb_toggle").addClass("open");r=1;if(jQuery("#slidingbar .shortcode-map").length>=1){jQuery("#slidingbar").find(".shortcode-map").each(function(){jQuery("#"+this.id).goMap();marker=jQuery.goMap.markers[0];if(marker){info=jQuery.goMap.getInfo(marker);jQuery.goMap.setInfo(marker,info)}var e=jQuery.goMap.getMap().getCenter();google.maps.event.trigger(jQuery.goMap.getMap(),"resize");jQuery.goMap.getMap().setCenter(e)})}}else if(r==1){jQuery("div#slidingbar").slideUp(240,"easeOutQuad");jQuery(".sb_toggle").removeClass("open");r=0}});if(jQuery().UItoTop){if(cssua.ua.mobile&&js_local_vars.status_totop_mobile=="1"){jQuery().UItoTop({easingType:"easeOutQuart"})}else if(!cssua.ua.mobile){jQuery().UItoTop({easingType:"easeOutQuart"})}}jQuery(window).on("resize",function(){if(jQuery(".demo_store").length){jQuery("#wrapper").css("margin-top",jQuery(".demo_store").outerHeight());if(jQuery(".sticky-header").length){jQuery(".sticky-header").css("margin-top",jQuery(".demo_store").outerHeight())}}if(jQuery(".sticky-header").length){if(jQuery(window).width()<765){jQuery("body.admin-bar #header-sticky.sticky-header").css("top","46px")}else{jQuery("body.admin-bar #header-sticky.sticky-header").css("top","32px")}}});jQuery(".header-wrapper .mobile-topnav-holder").append('<div class="mobile-selector"><span>'+js_local_vars.dropdown_goto+"</span></div>");jQuery(".header-wrapper .mobile-topnav-holder .mobile-selector").append('<div class="selector-down"></div>');jQuery(".header-wrapper .mobile-topnav-holder").append(jQuery(".header-wrapper .top-menu ul#snav").clone());jQuery(".header-wrapper .mobile-topnav-holder ul#snav").attr("class","mobile-topnav");jQuery(".header-wrapper .mobile-topnav-holder ul#snav").attr("id","mobile-nav");jQuery(".header-wrapper .mobile-topnav-holder ul#mobile-nav").children(".cart").each(function(){jQuery(this).children(".my-cart-link").text(js_local_vars.mobile_nav_cart);jQuery(this).children(".cart-contents").remove()});jQuery(".header-wrapper .mobile-topnav-holder ul#mobile-nav").children("li").each(function(){jQuery(this).attr("class","mobile-nav-item");jQuery(this).attr("style","")});jQuery(".header-wrapper .mobile-topnav-holder .mobile-selector").click(function(){jQuery(".header-wrapper .mobile-topnav-holder #mobile-nav").slideToggle(240,"easeOutQuad")});jQuery(".header-wrapper .mobile-nav-holder").append('<div class="mobile-selector"><span>'+js_local_vars.dropdown_goto+"</span></div>");jQuery(".header-wrapper .mobile-nav-holder .mobile-selector").append('<div class="selector-down"></div>');jQuery(".header-wrapper .mobile-nav-holder").append(jQuery(".header-wrapper .nav-holder ul.navigation").clone());jQuery(".header-wrapper .mobile-nav-holder ul.navigation").attr("id","mobile-nav");jQuery(".header-wrapper .mobile-nav-holder ul#mobile-nav").removeClass("fusion-navbar-nav");jQuery(".header-wrapper .mobile-nav-holder ul#mobile-nav").children(".cart").each(function(){jQuery(this).children(".my-cart-link").text(js_local_vars.mobile_nav_cart);jQuery(this).children(".cart-contents").remove()});jQuery(".header-wrapper .mobile-nav-holder ul#mobile-nav li").children("#main-nav-search-link").each(function(){jQuery(this).parents("li").remove()});jQuery(".header-wrapper .mobile-nav-holder ul#mobile-nav").children("li").each(function(){jQuery(this).attr("class","mobile-nav-item")});jQuery(".header-wrapper .mobile-nav-holder .mobile-selector").click(function(){if(jQuery(".header-wrapper .mobile-nav-holder #mobile-nav").hasClass("mobile-menu-expanded")){jQuery(".header-wrapper .mobile-nav-holder #mobile-nav").removeClass("mobile-menu-expanded")}else{jQuery(".header-wrapper .mobile-nav-holder #mobile-nav").addClass("mobile-menu-expanded")}jQuery(".header-wrapper .mobile-nav-holder #mobile-nav").slideToggle(240,"easeOutQuad")});jQuery(".sticky-header .mobile-nav-holder").append('<div class="mobile-selector"><span>'+js_local_vars.dropdown_goto+"</span></div>");jQuery(".sticky-header .mobile-nav-holder .mobile-selector").append('<div class="selector-down"></div>');jQuery(".sticky-header .mobile-nav-holder").append(jQuery(".sticky-header .nav-holder ul.navigation").clone());jQuery(".sticky-header .mobile-nav-holder ul.navigation").attr("class","navigation mobile-sticky-nav");jQuery(".sticky-header .mobile-nav-holder ul.navigation").removeClass("fusion-navbar-nav");jQuery(".sticky-header .mobile-nav-holder ul.navigation").attr("id","mobile-nav");jQuery(".sticky-header .mobile-nav-holder ul#mobile-nav").children("li").each(function(){jQuery(this).attr("class","mobile-nav-item");jQuery(this).children("a").css("style","")});jQuery(".sticky-header .mobile-nav-holder ul#mobile-nav li").children(".my-cart-link").each(function(){jQuery(this).text(js_local_vars.mobile_nav_cart);jQuery(this).children("cart-contents").remove()});jQuery(".sticky-header .mobile-nav-holder ul#mobile-nav li").children("#sticky-nav-search-link").each(function(){jQuery(this).parents("li").remove()});jQuery(".sticky-header .mobile-nav-holder .mobile-selector").click(function(){jQuery(".sticky-header .mobile-nav-holder #mobile-nav").slideToggle(240,"easeOutQuad")});jQuery("body #header-sticky.sticky-header .sticky-shadow .mobile-nav-holder").css("padding-left",jQuery(".sticky-header .sticky-shadow .logo").width()+25+"px");jQuery(".header-wrapper .mobile-nav-holder .navigation > .mobile-nav-item, .sticky-header .mobile-nav-holder .navigation > .mobile-nav-item").each(function(){jQuery(this).find(".fusion-megamenu-widgets-container").remove();jQuery(this).find(".fusion-megamenu-holder > ul").each(function(){jQuery(this).attr("class","sub-menu");jQuery(this).attr("style","");jQuery(this).find("> li").each(function(){jQuery(this).attr("class","mobile-nav-item");if(!jQuery(this).find(".fusion-megamenu-title a, > a").length){jQuery(this).find(".fusion-megamenu-title").each(function(){if(!jQuery(this).children("a").length){jQuery(this).append('<a href="#">'+jQuery(this).text()+"</a>")}});if(!jQuery(this).find(".fusion-megamenu-title").length){var e=jQuery(this);jQuery(this).find(".sub-menu").each(function(){e.after(jQuery(this))});jQuery(this).remove()}}jQuery(this).prepend(jQuery(this).find(".fusion-megamenu-title a, > a"));jQuery(this).find(".fusion-megamenu-title").remove()});jQuery(this).parents(".mobile-nav-item").append(jQuery(this))});jQuery(this).find(".fusion-megamenu-wrapper, .caret, .fusion-megamenu-bullet").remove()});if(js_local_vars.submenu_slideout==1){jQuery(".header-wrapper .mobile-topnav-holder .mobile-topnav li, .header-wrapper .mobile-nav-holder .navigation li, .sticky-header .mobile-nav-holder .navigation li").each(function(){jQuery(this).attr("class","mobile-nav-item");if(jQuery(this).find(" > ul").length){jQuery(this).prepend('<span href="#" aria-haspopup="true" class="open-submenu"></span>');jQuery(this).find(" > ul").hide()}});jQuery(".header-wrapper .mobile-topnav-holder .open-submenu, .header-wrapper .mobile-nav-holder .open-submenu, .sticky-header .mobile-nav-holder .open-submenu").click(function(){jQuery(this).parent().children(".sub-menu").slideToggle(240,"easeOutQuad")})}jQuery(".side-nav li").each(function(){if(jQuery(this).find("> .children").length>=1){jQuery(this).find("> a").append('<span class="arrow"></span>')}});jQuery(".side-nav .current_page_item").each(function(){if(jQuery(this).find(".children").length>=1){jQuery(this).find(".children").show("slow")}});jQuery(".side-nav .current_page_item").each(function(){if(jQuery(this).parent().hasClass("side-nav")){jQuery(this).find("ul").show("slow")}if(jQuery(this).parent().hasClass("children")){jQuery(this).parents("ul").show("slow")}});if("ontouchstart"in document.documentElement||navigator.msMaxTouchPoints){jQuery(".nav-holder li.menu-item-has-children > a, .order-dropdown current-li a").on("click",function(e){var t=jQuery(this);if(t.hasClass("hover")){t.removeClass("hover");return true}else{t.addClass("hover");jQuery(".nav-holder li.menu-item-has-children > a, .order-dropdown current-li a").not(this).removeClass("hover");e.preventDefault();return false}});jQuery(".sub-menu li, .mobile-nav-item li").not("li.menu-item-has-children").find("a").on("click",function(e){var t=jQuery(this).attr("href");window.location=t;return true});jQuery(".fusion-flip-box").click(function(e){var t=jQuery(this);e.preventDefault()})}jQuery("#nav li a, .top-menu li a, #sticky-nav li a, .side-nav li a, .mobile-nav-item a").each(function(){jQuery(this).attr("aria-haspopup","true")});var i=".nav-holder .fusion-navbar-nav li > a";jQuery("body").scrollspy({target:i,offset:t+n});if(jQuery(".megaResponsive").length>=1){jQuery(".mobile-nav-holder.main-menu").addClass("set-invisible")}if(js_local_vars.language_flag!=""){jQuery(".search-field, #searchform").each(function(){if(!jQuery(this).find('input[name="lang"]').length&&!jQuery(this).parents("#searchform").find('input[name="lang"]').length){jQuery(this).append('<input type="hidden" name="lang" value="'+js_local_vars.language_flag+'"/>')}})}jQuery("#wrapper .share-box").each(function(){if(!jQuery('meta[property="og:title"]').length){jQuery("head title").after('<meta property="og:title" content="'+jQuery(this).data("title")+'"/>');jQuery("head title").after('<meta property="og:description" content="'+jQuery(this).data("description")+'"/>');jQuery("head title").after('<meta property="og:type" content="article"/>');jQuery("head title").after('<meta property="og:url" content="'+jQuery(this).data("link")+'"/>');jQuery("head title").after('<meta property="og:image" content="'+jQuery(this).data("image")+'"/>')}});sharebox_h4_width=jQuery("#wrapper .share-box h4").outerWidth();sharebox_ul=jQuery(".share-box ul").outerWidth();if(sharebox_h4_width+sharebox_ul>jQuery(".post-content").width()&&!jQuery(".single-avada_portfolio").length){jQuery("#wrapper .share-box").css("height","auto");jQuery("#wrapper .share-box h4").css("float","none").css("line-height","20px").css("padding-bottom","25px").css("padding-top","25px");jQuery(".share-box ul").css("float","none").css("margin-top","0").css("overflow","hidden").css("padding","0 25px 25px")}else{jQuery("#wrapper .share-box").css("height","")}header_social_social_networks=0;jQuery(".header-social .social-networks li").each(function(){header_social_social_networks+=jQuery(this).outerWidth(true)});if(header_social_social_networks>jQuery(".header-social .social-networks").css("max-width")){header_social_social_networks=jQuery(".header-social .social-networks").css("max-width")}jQuery(window).on("resize",function(){jQuery(".title").each(function(e){if(s[e]>jQuery(this).parent().width()){jQuery(this).addClass("border-below-title")}else{jQuery(this).removeClass("border-below-title")}});if(sharebox_h4_width+sharebox_ul>jQuery("#content").width()){jQuery("#wrapper .share-box").css("height","auto");jQuery("#wrapper .share-box h4").css("float","none").css("line-height","20px").css("padding-bottom","25px").css("padding-top","25px");jQuery(".share-box ul").css("float","none").css("margin-top","0").css("overflow","hidden").css("padding","0 25px 25px")}else{jQuery("#wrapper .share-box").css("height","")}if(jQuery(window).width()>=784){jQuery(".header-social .social-networks").css("width",header_social_social_networks)}else{jQuery(".header-social .social-networks").css("width","")}});jQuery(document).click(function(){jQuery(".main-nav-search-form").hide()});jQuery(".main-nav-search-form").click(function(e){e.stopPropagation()});jQuery(".main-nav-search .search-link").click(function(e){e.stopPropagation();if(jQuery(this).parent().find(".main-nav-search-form").css("display")=="block"){jQuery(this).parent().find(".main-nav-search-form").hide()}else{jQuery(this).parent().find(".main-nav-search-form").show()}});var s=[];jQuery(".title").each(function(e){s[e]=jQuery(this).width();if(jQuery(this).find("h1,h2,h3,h4,h5,h6").width()>jQuery(this).parent().width()){jQuery(this).addClass("border-below-title")}});jQuery(".tabs-wrapper").each(function(){jQuery(this).find(".tab_content").hide();if(document.location.hash&&jQuery(this).find("ul.tabs li a[href='"+document.location.hash+"']").length>=1){jQuery(this).find("ul.tabs li a[href='"+document.location.hash+"']").parent().addClass("active").show();jQuery(this).find(document.location.hash+".tab_content").show()}else{jQuery(this).find("ul.tabs li:first").addClass("active").show();jQuery(this).find(".tab_content:first").show()}});jQuery("[data-toggle=modal]").live("click",function(e){e.preventDefault()});jQuery("ul.tabs li").click(function(e){jQuery(this).parents(".tabs-wrapper").find("ul.tabs li").removeClass("active");jQuery(this).addClass("active");jQuery(this).parents(".tabs-wrapper").find(".tab_content").hide();var t=jQuery(this).find("a").attr("href");jQuery(this).parents(".tabs-wrapper").find(t).fadeIn();jQuery(this).parents(".tabs-wrapper").find(t).find(".content-boxes").each(function(){var e=jQuery(this).find(".col").length;jQuery(this).addClass("columns-"+e)});jQuery(this).parents(".tabs-wrapper").find(t).find(".columns-3 .col:nth-child(3n), .columns-4 .col:nth-child(4n)").css("margin-right","0px");jQuery(this).parents(".tabs-wrapper").find(t).find(".portfolio-wrapper").isotope("reLayout");jQuery(this).parents(".tabs-wrapper").find(t).find(".content-boxes-icon-boxed").each(function(){jQuery(this).find(".col").equalHeights()});jQuery(this).parents(".tabs-wrapper").find(t).find(".shortcode-map").each(function(){jQuery("#"+this.id).goMap();marker=jQuery.goMap.markers[0];if(marker){info=jQuery.goMap.getInfo(marker);jQuery.goMap.setInfo(marker,info)}var e=jQuery.goMap.getMap().getCenter();google.maps.event.trigger(jQuery.goMap.getMap(),"resize");jQuery.goMap.getMap().setCenter(e)});generateCarousel();if(jQuery(".portfolio").length>=1){jQuery(".portfolio-wrapper").isotope("reLayout")}e.preventDefault()});jQuery("ul.tabs li a").click(function(e){e.preventDefault()});jQuery(".woocommerce .images #carousel a").click(function(e){e.preventDefault()});jQuery(".tooltip-shortcode, .author_social .social-networks li, #footer .social-networks li, .footer-area .social-networks li, #sidebar .social-networks li, .social_links_shortcode li, .share-box li, .social-icon, .social li").mouseenter(function(e){jQuery(this).find(".popup").hoverFlow(e.type,{opacity:"show"})});jQuery(".tooltip-shortcode, .author_social .social-networks li, #footer .social-networks li, .footer-area .social-networks li, #sidebar .social-networks li, .social_links_shortcode li, .share-box li, .social-icon, .social li").mouseleave(function(e){jQuery(this).find(".popup").hoverFlow(e.type,{opacity:"hide"})});jQuery(".portfolio-tabs a").click(function(e){e.preventDefault();var t=jQuery(this).attr("data-filter");jQuery(this).parents(".portfolio").find(".portfolio-wrapper").isotope({filter:t});jQuery(this).parents("ul").find("li").removeClass("active");jQuery(this).parent().addClass("active")});jQuery(".faq-tabs a").click(function(e){e.preventDefault();var t=jQuery(this).attr("data-filter");jQuery(".faqs .portfolio-wrapper .faq-item").fadeOut();jQuery(".faqs .portfolio-wrapper .faq-item"+t).fadeIn();jQuery(this).parents("ul").find("li").removeClass("active");jQuery(this).parent().addClass("active")});jQuery(".fusion-alert .close").click(function(e){e.preventDefault();jQuery(this).parent().slideUp()});jQuery("input, textarea").placeholder();if(Modernizr.mq("only screen and (max-width: 479px)")){jQuery(".overlay-full.layout-text-left .slide-excerpt p").each(function(){var e=jQuery(this).html();var t=e.split(/[\s\.\?]+/);var n=10;var r=t.length;var i="";if(r>n+1){for(var s=0;s<n;s++){i+=t[s]+" "}jQuery(this).html(i)}});jQuery(".portfolio .gallery-icon").each(function(){var e=jQuery(this).attr("href");if(u(e)==true){jQuery(this).parents(".image").find("> img").attr("src",e).attr("width","").attr("height","")}jQuery(this).parents(".portfolio-item").css("width","auto");jQuery(this).parents(".portfolio-item").css("height","auto");jQuery(this).parents(".portfolio-one:not(.portfolio-one-text)").find(".portfolio-item").css("margin","0")});if(jQuery(".portfolio").length>=1){jQuery(".portfolio-wrapper").isotope("reLayout")}}if(Modernizr.mq("only screen and (max-width: 800px)")){jQuery(".tabs-vertical").addClass("tabs-horizontal").removeClass("tabs-vertical")}jQuery(window).on("resize",function(){if(Modernizr.mq("only screen and (max-width: 800px)")){jQuery(".tabs-vertical").addClass("tabs-original-vertical");jQuery(".tabs-vertical").addClass("tabs-horizontal").removeClass("tabs-vertical")}else{jQuery(".tabs-original-vertical").removeClass("tabs-horizontal").addClass("tabs-vertical")}});generateCarousel();jQuery(".catalog-ordering .orderby .current-li a").html(jQuery(".catalog-ordering .orderby ul li.current a").html());jQuery(".catalog-ordering .sort-count .current-li a").html(jQuery(".catalog-ordering .sort-count ul li.current a").html());jQuery(".woocommerce #calc_shipping_state").parent().addClass("one_half");jQuery(".woocommerce #calc_shipping_postcode").parent().addClass("one_half last");jQuery(".woocommerce .shop_table .variation dd").after("<br />");jQuery(".woocommerce .avada-myaccount-data th.order-actions").text(js_local_vars.order_actions);jQuery(".rtl .woocommerce .wc-forward").each(function(){jQuery(this).val(jQuery(".rtl .woocommerce .wc-forward").val().replace("",""))});var a=jQuery(".avada-myaccount-nav").find(".active a");if(a.hasClass("address")){jQuery(".avada-myaccount-data .edit_address_heading").fadeIn()}else{jQuery(".avada-myaccount-data h2:nth-of-type(1)").fadeIn()}if(a.hasClass("downloads")){jQuery(".avada-myaccount-data .digital-downloads").fadeIn()}else if(a.hasClass("orders")){jQuery(".avada-myaccount-data .my_account_orders").fadeIn()}else if(a){jQuery(".avada-myaccount-data .myaccount_address, .avada-myaccount-data .addresses").fadeIn()}jQuery(".rtl .avada-myaccount-data .my_account_orders .order-status").each(function(){jQuery(this).css("text-align","right")});jQuery(".woocommerce input").each(function(){if(!jQuery(this).has("#coupon_code")){name=jQuery(this).attr("id");jQuery(this).attr("placeholder",jQuery(this).parent().find("label[for="+name+"]").text())}});if(jQuery(".woocommerce #reviews #comments .comment_container .comment-text").length){jQuery(".woocommerce #reviews #comments .comment_container").append('<div class="clear"></div>')}if(jQuery(".woocommerce.single-product .related.products > h2").length){jQuery(".woocommerce.single-product .related.products > h2").wrap('<div class="fusion-title title"></div>');jQuery(".woocommerce.single-product .related.products > h2").addClass("title-heading-left");jQuery(".woocommerce.single-product .related.products > .title").append('<div class="title-sep-container"><div class="title-sep sep-double"></div></div>')}if(jQuery(".woocommerce.single-product .upsells.products > h2").length){jQuery(".woocommerce.single-product .upsells.products > h2").wrap('<div class="title"></div>');jQuery(".woocommerce.single-product .upsells.products > .title").append('<div class="title-sep-container"><div class="title-sep"></div></div>')}if(jQuery("body #sidebar").css("display")=="block"){jQuery("body").addClass("has-sidebar");calcTabsLayout(".woocommerce-tabs .tabs-horizontal")}if(jQuery("body.archive.woocommerce #sidebar").css("display")=="block"){jQuery("#main ul.products").removeClass("products-1");jQuery("#main ul.products").removeClass("products-2")}if(jQuery("body.single.woocommerce #sidebar").css("display")=="block"){jQuery(".upsells.products ul.products,.related.products ul.products").removeClass("products-1");jQuery(".upsells.products ul.products,.related.products ul.products").removeClass("products-2");jQuery(".upsells.products ul.products,.related.products ul.products").removeClass("products-4").addClass("products-3");jQuery(".upsells.products ul.products").html(jQuery(".upsells.products ul.products li").slice(0,3));jQuery(".related.products ul.products").html(jQuery(".related.products ul.products li").slice(0,3))}jQuery("#sidebar .products,.footer-area .products,#slidingbar-area .products").each(function(){jQuery(this).removeClass("products-4");jQuery(this).removeClass("products-3");jQuery(this).removeClass("products-2");jQuery(this).addClass("products-1")});jQuery(".products-4 li, .products-3 li, .products-3 li").removeClass("last");jQuery(".woocommerce-tabs ul.tabs li a").unbind("click");jQuery(".woocommerce-tabs > ul.tabs li a").click(function(){var t=e(this);var n=t.closest(".woocommerce-tabs");e("ul.tabs li",n).removeClass("active");e("div.panel",n).hide();e("div"+t.attr("href"),n).show();t.parent().addClass("active");return false});jQuery(".woocommerce-checkout-nav a,.continue-checkout").click(function(r){r.preventDefault();if(!jQuery(".woocommerce .avada-checkout").find(".woocommerce-invalid").is(":visible")){var i=e(this).attr("data-name");var s=i;if(i!="#order_review"){s="."+i}jQuery("form.checkout .col-1, form.checkout .col-2, form.checkout #order_review_heading, form.checkout #order_review").hide();jQuery("form.checkout").find(s).fadeIn();if(s=="#order_review"){jQuery("form.checkout").find("#order_review_heading").fadeIn()}jQuery(".woocommerce-checkout-nav li").removeClass("active");jQuery(".woocommerce-checkout-nav").find("[data-name="+i+"]").parent().addClass("active");if(jQuery(this).hasClass("continue-checkout")&&jQuery(window).scrollTop()>0){jQuery("html, body").animate({scrollTop:jQuery(".woocommerce-content-box.avada-checkout").offset().top-t-n},500)}}});jQuery(".avada-myaccount-nav a").click(function(e){e.preventDefault();jQuery(".avada-myaccount-data h2, .avada-myaccount-data .digital-downloads, .avada-myaccount-data .my_account_orders, .avada-myaccount-data .myaccount_address, .avada-myaccount-data .addresses, .avada-myaccount-data .edit-account-heading, .avada-myaccount-data .edit-account-form").hide();if(jQuery(this).hasClass("downloads")){jQuery(".avada-myaccount-data h2:nth-of-type(1), .avada-myaccount-data .digital-downloads").fadeIn()}else if(jQuery(this).hasClass("orders")){if(jQuery(this).parents(".avada-myaccount-nav").find(".downloads").length){heading=jQuery(".avada-myaccount-data h2:nth-of-type(2)")}else{heading=jQuery(".avada-myaccount-data h2:nth-of-type(1)")}heading.fadeIn();jQuery(".avada-myaccount-data .my_account_orders").fadeIn()}else if(jQuery(this).hasClass("address")){if(jQuery(this).parents(".avada-myaccount-nav").find(".downloads").length&&jQuery(this).parents(".avada-myaccount-nav").find(".orders").length){heading=jQuery(".avada-myaccount-data h2:nth-of-type(3)")}else if(jQuery(this).parents(".avada-myaccount-nav").find(".downloads").length||jQuery(this).parents(".avada-myaccount-nav").find(".orders").length){heading=jQuery(".avada-myaccount-data h2:nth-of-type(2)")}else{heading=jQuery(".avada-myaccount-data h2:nth-of-type(1)")}heading.fadeIn();jQuery(".avada-myaccount-data .myaccount_address, .avada-myaccount-data .addresses").fadeIn()}else if(jQuery(this).hasClass("account")){jQuery(".avada-myaccount-data .edit-account-heading, .avada-myaccount-data .edit-account-form").fadeIn()}jQuery(".avada-myaccount-nav li").removeClass("active");jQuery(this).parent().addClass("active")});jQuery("a.add_to_cart_button").click(function(e){var t=this;jQuery(t).closest(".product").find(".cart-loading").find("i").removeClass("icon-check-square-o").addClass("icon-spinner");jQuery(this).closest(".product").find(".cart-loading").fadeIn();setTimeout(function(){jQuery(t).closest(".product").find(".product-images img").animate({opacity:.75});jQuery(t).closest(".product").find(".cart-loading").find("i").hide().removeClass("icon-spinner").addClass("icon-check-square-o").fadeIn();setTimeout(function(){jQuery(t).closest(".product").find(".cart-loading").fadeOut().closest(".product").find(".product-images img").animate({opacity:1});},2e3)},2e3)});jQuery("li.product").mouseenter(function(){if(jQuery(this).find(".cart-loading").find("i").hasClass("icon-check-square-o")){jQuery(this).find(".cart-loading").fadeIn()}}).mouseleave(function(){if(jQuery(this).find(".cart-loading").find("i").hasClass("icon-check-square-o")){jQuery(this).find(".cart-loading").fadeOut()}});jQuery(".content-boxes-icon-boxed").each(function(){jQuery(this).find(".content-box-column .content-wrapper-boxed").equalHeights();jQuery(this).find(".content-box-column .content-wrapper-boxed").css("overflow","visible")});jQuery(".cart-collaterals #calc_shipping_country, .cart-collaterals #calc_shipping_state, .widget_layered_nav select").wrap('<p class="avada-select-parent"></p>').after('<div class="select-arrow">&#xe61f;</div>');if(!jQuery("#billing_country_field .chosen-container").length){jQuery("#billing_country_field	select.country_select").wrap('<p class="avada-select-parent"></p>').after('<span class="select-arrow">&#xe61f;</span>');jQuery("#billing_state_field select.state_select").wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>')}if(!jQuery("#shipping_country_field .chosen-container").length){jQuery("#shipping_country_field select.country_select").wrap('<p class="avada-select-parent"></p>').after('<span class="select-arrow">&#xe61f;</span>');jQuery("#shipping_state_field select.state_select").wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>')}jQuery(".avada-select-parent .select-arrow, .gravity-select-parent .select-arrow, .wpcf7-select-parent .select-arrow").each(function(){jQuery(this).height(jQuery(this).prev().innerHeight())});jQuery("#calc_shipping_country").change(function(){if(jQuery(".shipping-calculator-form #calc_shipping_state.input-text").length){jQuery(".shipping-calculator-form #calc_shipping_state").parent().children(".select-arrow").hide()}else{jQuery(".shipping-calculator-form #calc_shipping_state").parent().children(".select-arrow").show()}});jQuery("#billing_country").change(function(){if(jQuery("#billing_state_field .chosen-container").length){jQuery("#billing_state_field .avada-select-parent").hide()}else{jQuery("#billing_state_field .avada-select-parent").show()}if(jQuery("#billing_state_field input").length){jQuery("#billing_state_field .select-arrow").hide()}else{jQuery("#billing_state_field .select-arrow").show()}});jQuery("#shipping_country").change(function(){if(jQuery("#shipping_country_field .chosen-container").length){jQuery("#shipping_country_field .avada-select-parent").hide()}else{jQuery("#shipping_country_field .avada-select-parent").show()}if(jQuery("#shipping_state_field input").length){jQuery("#shipping_state_field .select-arrow").hide()}else{jQuery("#shipping_state_field .select-arrow").show()}});jQuery(".wpcf7-select").wrap('<div class="wpcf7-select-parent"></div>');jQuery('<div class="select-arrow">&#xe61f;</div>').appendTo(".wpcf7-select-parent");jQuery("table.variations select").wrap('<div class="avada-select-parent"></div>');jQuery('<div class="avada-select-arrow">&#xe61f;</div>').appendTo("table.variations .avada-select-parent");jQuery(".gform_wrapper select:not([multiple])").wrap('<div class="gravity-select-parent"></div>');jQuery('<div class="select-arrow">&#xe61f;</div>').appendTo(".gravity-select-parent");jQuery(".gform_wrapper .gravity-select-parent").each(function(){if(jQuery(this).children("select").hasClass("medium")){jQuery(this).width(jQuery(this).children("select").width());jQuery(this).children("select").width(" 100%")}});jQuery("#bbp_stick_topic_select, #bbp_topic_status_select, #bbp_forum_id, #bbp_destination_topic").wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>');jQuery(".variations_form select").change(function(){jQuery(".product #slider").flexslider(0)})});jQuery(document).bind("gform_post_conditional_logic",function(){var e=jQuery(".gform_wrapper select");jQuery(e).each(function(){if(jQuery(this).hasClass("chzn-done")&&jQuery(this).parent().hasClass("gravity-select-parent")){jQuery(".gform_wrapper select.chzn-done").unwrap('<div class="gravity-select-parent"></div>');jQuery(".gform_wrapper select.chzn-done").parent().find(".select-arrow").remove()}})});+function(e){"use strict";function t(n,r){var i;var s=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n);this.$body=e("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s);this.options=e.extend({},t.DEFAULTS,r);this.selector=this.options.target||(i=e(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"";this.offsets=e([]);this.targets=e([]);this.activeTarget=null;this.refresh();this.process()}t.DEFAULTS={offset:10};t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]);this.targets=e([]);var n=this;var r=this.$body.find(this.selector).map(function(){var r=e(this);var i=r.data("target")||r.attr("href");var s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]);n.targets.push(this[1])})};t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset;var t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var n=t-this.$scrollElement.height();var r=this.offsets;var i=this.targets;var s=this.activeTarget;var o;if(e>=n){return s!=(o=i.last()[0])&&this.activate(o)}for(o=r.length;o--;){s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])}};t.prototype.activate=function(t){this.activeTarget=t;e(this.selector).parents(".current-menu-item").removeClass("current-menu-item");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';var r=e(n).parents("li").addClass("current-menu-item");if(r.parent(".sub-menu").length){r=r.closest("li.fusion-dropdown-menu").addClass("current-menu-item")}r.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.scrollspy");var s=typeof n=="object"&&n;if(!i)r.data("bs.scrollspy",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.scrollspy.Constructor=t;e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=n;return this};e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1},t=[].slice;(function(e,t){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return t(n,e)})}else{return t(e.jQuery,e)}})(this,function(n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;i=n(r);c=e.call(r,"ontouchstart")>=0;u={horizontal:{},vertical:{}};a=1;l={};f="waypoints-context-id";d="resize.waypoints";v="scroll.waypoints";m=1;g="waypoints-waypoint-ids";y="waypoint";b="waypoints";s=function(){function e(e){var t=this;this.$element=e;this.element=e[0];this.didResize=false;this.didScroll=false;this.id="context"+a++;this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()};this.waypoints={horizontal:{},vertical:{}};e.data(f,this.id);l[this.id]=this;e.bind(v,function(){var e;if(!(t.didScroll||c)){t.didScroll=true;e=function(){t.doScroll();return t.didScroll=false};return r.setTimeout(e,n[b].settings.scrollThrottle)}});e.bind(d,function(){var e;if(!t.didResize){t.didResize=true;e=function(){n[b]("refresh");return t.didResize=false};return r.setTimeout(e,n[b].settings.resizeThrottle)}})}e.prototype.doScroll=function(){var e,t=this;e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!e.vertical.oldScroll||!e.vertical.newScroll)){n[b]("refresh")}n.each(e,function(e,r){var i,s,o;o=[];s=r.newScroll>r.oldScroll;i=s?r.forward:r.backward;n.each(t.waypoints[e],function(e,t){var n,i;if(r.oldScroll<(n=t.offset)&&n<=r.newScroll){return o.push(t)}else if(r.newScroll<(i=t.offset)&&i<=r.oldScroll){return o.push(t)}});o.sort(function(e,t){return e.offset-t.offset});if(!s){o.reverse()}return n.each(o,function(e,t){if(t.options.continuous||e===o.length-1){return t.trigger([i])}})});return this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}};e.prototype.refresh=function(){var e,t,r,i=this;r=n.isWindow(this.element);t=this.$element.offset();this.doScroll();e={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(e,function(e,t){return n.each(i.waypoints[e],function(e,r){var i,s,o,u,a;i=r.options.offset;o=r.offset;s=n.isWindow(r.element)?0:r.$element.offset()[t.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(t.contextDimension*i/100)}}r.offset=s-t.contextOffset+t.contextScroll-i;if(r.options.onlyOnScroll&&o!=null||!r.enabled){return}if(o!==null&&o<(u=t.oldScroll)&&u<=r.offset){return r.trigger([t.backward])}else if(o!==null&&o>(a=t.oldScroll)&&a>=r.offset){return r.trigger([t.forward])}else if(o===null&&t.oldScroll>=r.offset){return r.trigger([t.forward])}})})};e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([d,v].join(" "));return delete l[this.id]}};return e}();o=function(){function e(e,t,r){var i,s;r=n.extend({},n.fn[y].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var e;e=n[b]("viewportHeight");if(!n.isWindow(t.element)){e=t.$element.height()}return e-n(this).outerHeight()}}this.$element=e;this.element=e[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+m++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;u[this.axis][this.id]=this;i=(s=e.data(g))!=null?s:[];i.push(this.id);e.data(g,i)}e.prototype.trigger=function(e){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,e)}if(this.options.triggerOnce){return this.destroy()}};e.prototype.disable=function(){return this.enabled=false};e.prototype.enable=function(){this.context.refresh();return this.enabled=true};e.prototype.destroy=function(){delete u[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};e.getWaypointsByElement=function(e){var t,r;r=n(e).data(g);if(!r){return[]}t=n.extend({},u.horizontal,u.vertical);return n.map(r,function(e){return t[e]})};return e}();p={init:function(e,t){var r;if(t==null){t={}}if((r=t.handler)==null){t.handler=e}this.each(function(){var e,r,i,u;e=n(this);i=(u=t.context)!=null?u:n.fn[y].defaults.context;if(!n.isWindow(i)){i=e.closest(i)}i=n(i);r=l[i.data(f)];if(!r){r=new s(i)}return new o(e,r,t)});n[b]("refresh");return this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0){return e.push(n[t-1])}})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1){return e.push(n[t+1])}})},_traverse:function(e,t,i){var s,o;if(e==null){e="vertical"}if(t==null){t=r}o=h.aggregate(t);s=[];this.each(function(){var t;t=n.inArray(this,o[e]);return i(s,t,o[e])});return this.pushStack(s)},_invoke:function(e,t){e.each(function(){var e;e=o.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return true})});return this}};n.fn[y]=function(){var e,r;r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];if(p[r]){return p[r].apply(this,e)}else if(n.isFunction(r)){return p.init.apply(this,arguments)}else if(n.isPlainObject(r)){return p.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[y].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(l,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return(e=r.innerHeight)!=null?e:i.height()},aggregate:function(e){var t,r,i;t=u;if(e){t=(i=l[n(e).data(f)])!=null?i.waypoints:void 0}if(!t){return[]}r={horizontal:[],vertical:[]};n.each(r,function(e,i){n.each(t[e],function(e,t){return i.push(t)});i.sort(function(e,t){return e.offset-t.offset});r[e]=n.map(i,function(e){return e.element});return r[e]=n.unique(r[e])});return r},above:function(e){if(e==null){e=r}return h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){if(e==null){e=r}return h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){if(e==null){e=r}return h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){if(e==null){e=r}return h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;t=n.extend({},u.vertical,u.horizontal);return n.each(t,function(t,n){n[e]();return true})},_filter:function(e,t,r){var i,s;i=l[n(e).data(f)];if(!i){return[]}s=[];n.each(i.waypoints[t],function(e,t){if(r(i,t)){return s.push(t)}});s.sort(function(e,t){return e.offset-t.offset});return n.map(s,function(e){return e.element})}};n[b]=function(){var e,n;n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];if(h[n]){return h[n].apply(null,e)}else{return h.aggregate.call(null,n)}};n[b].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[b]("refresh")})})}).call(this);(function(e,t,n){function l(e){var t={};var r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){if(n.specified&&!r.test(n.name)){t[n.name]=n.value}});return t}function c(e,t){var r=this;var i=n(r);if(r.value==i.attr("placeholder")&&i.hasClass("placeholder")){if(i.data("placeholder-password")){i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id"));if(e===true){return i[0].value=t}i.focus()}else{r.value="";i.removeClass("placeholder");r==p()&&r.select()}}}function h(){var e;var t=this;var r=n(t);var i=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(s){e=n("<input>").attr(n.extend(l(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":i}).bind("focus.placeholder",c);r.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",i).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else{r.removeClass("placeholder")}}function p(){try{return t.activeElement}catch(e){}}var r="placeholder"in t.createElement("input");var i="placeholder"in t.createElement("textarea");var s=n.fn;var o=n.valHooks;var u=n.propHooks;var a;var f;if(r&&i){f=s.placeholder=function(){return this};f.input=f.textarea=true}else{f=s.placeholder=function(){var e=this;e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":c,"blur.placeholder":h}).data("placeholder-enabled",true).trigger("blur.placeholder");return e};f.input=r;f.textarea=i;a={get:function(e){var t=n(e);var r=t.data("placeholder-password");if(r){return r[0].value}return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var r=n(e);var i=r.data("placeholder-password");if(i){return i[0].value=t}if(!r.data("placeholder-enabled")){return e.value=t}if(t==""){e.value=t;if(e!=p()){h.call(e)}}else if(r.hasClass("placeholder")){c.call(e,true,t)||(e.value=t)}else{e.value=t}return r}};if(!r){o.input=a;u.value=a}if(!i){o.textarea=a;u.value=a}n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(c);setTimeout(function(){e.each(h)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);(function(e,t,n){"use strict";var r=e.document;var i=e.Modernizr;var s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var o="Moz Webkit O Ms".split(" ");var u=function(e){var t=r.documentElement.style,n;if(typeof t[e]==="string"){return e}e=s(e);for(var i=0,u=o.length;i<u;i++){n=o[i]+e;if(typeof t[n]==="string"){return n}}};var a=u("transform"),f=u("transitionProperty");var l={csstransforms:function(){return!!a},csstransforms3d:function(){var e=!!u("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=t('<div id="modernizr" />').appendTo("html");e=s.height()===3;s.remove();i.remove()}return e},csstransitions:function(){return!!f}};var c;if(i){for(c in l){if(!i.hasOwnProperty(c)){i.addTest(c,l[c])}}}else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h=" ";var p;for(c in l){p=l[c]();i[c]=p;h+=" "+(p?"":"no-")+c}t("html").addClass(h)}if(i.csstransforms){var d=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}};var v=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},o,u={},f;s[n]=r;t.extend(i,s);for(o in i){f=i[o];u[o]=d[o](f)}var l=u.translate||"",c=u.scale||"",h=l+c;t.data(e,"isoTransform",i);e.style[a]=h};t.cssNumber.scale=true;t.cssHooks.scale={set:function(e,t){v(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}};t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)};t.cssNumber.translate=true;t.cssHooks.translate={set:function(e,t){v(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,g;if(i.csstransitions){m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f];g=u("transitionDuration")}var y=t.event,b=t.event.handle?"handle":"dispatch",w;y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize";if(w){clearTimeout(w)}w=setTimeout(function(){y[b].apply(n,r)},t==="execAsap"?0:100)}};t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])};t.Isotope=function(e,n,r){this.element=t(n);this._create(e);this._init(r)};var E=["width","height"];var S=t(e);t.Isotope.settings={resizable:true,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:false,duration:800},sortBy:"original-order",sortAscending:true,resizesContainer:true,transformsEnabled:true,itemPositionDataEnabled:false};t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e);this.styleQueue=[];this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=E.slice(0);for(var i in this.options.containerStyle){r.push(i)}for(var s=0,o=r.length;s<o;s++){i=r[s];this.originalStyle[i]=n[i]||""}this.element.css(this.options.containerStyle);this._updateAnimationEngine();this._updateUsingTransforms();var u={"original-order":function(e,t){t.elemCount++;return t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u);this.reloadItems();this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var a=this;setTimeout(function(){a.element.addClass(a.options.containerClass)},0);if(this.options.resizable){S.bind("smartresize.isotope",function(){a.resize()})}this.element.delegate("."+this.options.hiddenClass,"click",function(){return false})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};n=n.filter(function(e,t){return t.nodeType===1});if(this.usingTransforms){r.left=0;r.top=0}n.css(r).addClass(this.options.itemClass);this.updateSortData(n,true);return n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(true,this.options,e);var n;for(var r in e){n="_update"+s(r);if(this[n]){this[n]()}}}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");var t;switch(e){case"css":case"none":t=false;break;case"jquery":t=true;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t;this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;if(!e){delete this.options.hiddenStyle.scale;delete this.options.visibleStyle.scale}this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t){return e}var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}this.styleQueue.push({$el:s,style:this.options.visibleStyle});s.removeClass(n);return e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this);o={};for(var e in i){if(!n&&e==="original-order"){o[e]=t.data(this,"isotope-sort-data")[e]}else{o[e]=i[e](s,r)}}t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);if(s===o&&e!=="original-order"){s=t(r,"original-order");o=t(i,"original-order")}return(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left);n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r});if(this.options.itemPositionDataEnabled){e.data("isotope-item-position",{x:t,y:n})}},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t);this.isLaidOut=true},_processStyleQueue:function(e,n){var r=!this.isLaidOut?"css":this.isUsingJQueryAnimation?"animate":"css",s=this.options.animationOptions,o=this.options.onLayout,u,a,f,l;a=function(e,t){t.$el[r](t.style,s)};if(this._isInserting&&this.isUsingJQueryAnimation){a=function(e,t){u=t.$el.hasClass("no-transition")?"css":r;t.$el[u](t.style,s)}}else if(n||o||s.complete){var c=false,h=[n,o,s.complete],p=this;f=true;l=function(){if(c){return}var t;for(var n=0,r=h.length;n<r;n++){t=h[n];if(typeof t==="function"){t.call(p.element,e,p)}}c=true};if(this.isUsingJQueryAnimation&&r==="animate"){s.complete=l;f=false}else if(i.csstransitions){var d=0,v=this.styleQueue[0],y=v&&v.$el,b;while(!y||!y.length){b=this.styleQueue[d++];if(!b){return}y=b.$el}var w=parseFloat(getComputedStyle(y[0])[g]);if(w>0){a=function(e,t){t.$el[r](t.style,s).one(m,l)};f=false}}}t.each(this.styleQueue,a);if(f){l()}this.styleQueue=[]},resize:function(){if(this["_"+this.options.layoutMode+"ResizeChanged"]()){this.reLayout()}},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n);if(t){t(n)}},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r);n._sort();n.reLayout();n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e);n.layout(e);n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e);e.addClass("no-transition");this._isInserting=true;this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition");n.styleQueue.push({$el:e,style:n.options.visibleStyle});n._isInserting=false;n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e);this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this;var r=function(){e.remove();if(t){t.call(n.element)}};if(e.filter(":not(."+this.options.hiddenClass+")").length){this.styleQueue.push({$el:e,style:this.options.hiddenStyle});this._sort();this.reLayout(r)}else{r()}},shuffle:function(e){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout(e)},destroy:function(){var e=this.usingTransforms;var t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="";t.top="";t.left="";t.opacity="";if(e){t[a]=""}});var n=this.element[0].style;for(var r in this.originalStyle){n[r]=this.originalStyle[r]}this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope");S.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+s(r)](true)||o;u=Math.floor(o/a);u=Math.max(u,1);this[t][i]=u;this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];this._getSegments(e);return this[t][n]!==r},_masonryReset:function(){this.masonry={};this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--){this.masonry.colYs.push(0)}},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(true)/r.columnWidth);i=Math.min(i,r.cols);if(i===1){n._masonryPlaceBrick(e,r.colYs)}else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++){u=r.colYs.slice(a,a+i);o[a]=Math.max.apply(Math,u)}n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++){if(t[i]===n){r=i;break}}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(true),f=this.masonry.cols+1-s;for(i=0;i<f;i++){this.masonry.colYs[r+i]=a}},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(true),o=e.outerHeight(true);if(i.x!==0&&s+i.x>r){i.x=0;i.y=i.height}n._pushPosition(e,i.x,i.y);i.height=Math.max(i.y+o,i.height);i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return true},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(true)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(true)/2,u=(s+.5)*r.rowHeight-e.outerHeight(true)/2;n._pushPosition(e,o,u);r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y);n.straightDown.y+=r.outerHeight(true)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return true},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(true);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(true)/r.rowHeight);i=Math.min(i,r.rows);if(i===1){n._masonryHorizontalPlaceBrick(e,r.rowXs)}else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++){u=r.rowXs.slice(a,a+i);o[a]=Math.max.apply(Math,u)}n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++){if(t[i]===n){r=i;break}}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(true),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++){this.masonryHorizontal.rowXs[r+i]=a}},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(true),o=e.outerHeight(true);if(i.y!==0&&o+i.y>r){i.x=i.width;i.y=0}n._pushPosition(e,i.x,i.y);i.width=Math.max(i.x+s,i.width);i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return true},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(true)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(true)/2,u=(s+.5)*r.rowHeight-e.outerHeight(true)/2;n._pushPosition(e,o,u);r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0);n.straightAcross.x+=r.outerWidth(true)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return true}};t.fn.imagesLoaded=function(e){function u(){e.call(n,r)}function a(e){var n=e.target;if(n.src!==s&&t.inArray(n,o)===-1){o.push(n);if(--i<=0){setTimeout(u);r.unbind(".imagesLoaded",a)}}}var n=this,r=n.find("img").add(n.filter("img")),i=r.length,s=js_local_vars.theme_url+"/images/blank.gif",o=[];if(!i){u()}r.bind("load.imagesLoaded error.imagesLoaded",a).each(function(){var e=this.src;this.src=s;this.src=e});return n};var x=function(t){if(e.console){e.console.error(t)}};t.fn.isotope=function(e,n){if(typeof e==="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");if(!n){x("cannot call methods on isotope prior to initialization; "+"attempted to call method '"+e+"'");return}if(!t.isFunction(n[e])||e.charAt(0)==="_"){x("no such method '"+e+"' for isotope instance");return}n[e].apply(n,r)})}else{this.each(function(){var r=t.data(this,"isotope");if(r){r.option(e);r._init(n)}else{t.data(this,"isotope",new t.Isotope(e,this,n))}})}return this}})(window,jQuery);(function(e,t,n){"use strict";var r=e.document,i=e.Modernizr,s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),u=function(e){var t=r.documentElement.style,n;if(typeof t[e]=="string")return e;e=s(e);for(var i=0,u=o.length;i<u;i++){n=o[i]+e;if(typeof t[n]=="string")return n}},a=u("transform"),f=u("transitionProperty"),l={csstransforms:function(){return!!a},csstransforms3d:function(){var e=!!u("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=t('<div id="modernizr" />').appendTo("html");e=s.height()===3;s.remove();i.remove()}return e},csstransitions:function(){return!!f}},c;if(i)for(c in l)i.hasOwnProperty(c)||i.addTest(c,l[c]);else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h=" ",p;for(c in l){p=l[c]();i[c]=p;h+=" "+(p?"":"no-")+c}t("html").addClass(h)}if(i.csstransforms){var d=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},v=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},o,u={},f;s[n]=r;t.extend(i,s);for(o in i){f=i[o];u[o]=d[o](f)}var l=u.translate||"",c=u.scale||"",h=l+c;t.data(e,"isoTransform",i);e.style[a]=h};t.cssNumber.scale=!0;t.cssHooks.scale={set:function(e,t){v(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}};t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)};t.cssNumber.translate=!0;t.cssHooks.translate={set:function(e,t){v(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,g;if(i.csstransitions){m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f];g=u("transitionDuration")}var y=t.event,b=t.event.handle?"handle":"dispatch",w;y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize";w&&clearTimeout(w);w=setTimeout(function(){y[b].apply(n,r)},t==="execAsap"?0:100)}};t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])};t.Isotope=function(e,n,r){this.element=t(n);this._create(e);this._init(r)};var E=["width","height"],S=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1};t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e);this.styleQueue=[];this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=E.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var s=0,o=r.length;s<o;s++){i=r[s];this.originalStyle[i]=n[i]||""}this.element.css(this.options.containerStyle);this._updateAnimationEngine();this._updateUsingTransforms();var u={"original-order":function(e,t){t.elemCount++;return t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u);this.reloadItems();this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var a=this;setTimeout(function(){a.element.addClass(a.options.containerClass)},0);this.options.resizable&&S.bind("smartresize.isotope",function(){a.resize()});this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};n=n.filter(function(e,t){return t.nodeType===1});if(this.usingTransforms){r.left=0;r.top=0}n.css(r).addClass(this.options.itemClass);this.updateSortData(n,!0);return n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e){n="_update"+s(r);this[n]&&this[n]()}}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),t;switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t;this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;if(!e){delete this.options.hiddenStyle.scale;delete this.options.visibleStyle.scale}this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}this.styleQueue.push({$el:s,style:this.options.visibleStyle});s.removeClass(n);return e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this);o={};for(var e in i)!n&&e==="original-order"?o[e]=t.data(this,"isotope-sort-data")[e]:o[e]=i[e](s,r);t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);if(s===o&&e!=="original-order"){s=t(r,"original-order");o=t(i,"original-order")}return(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left);n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r});this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t);this.isLaidOut=!0},_processStyleQueue:function(e,n){var r=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",s=this.options.animationOptions,o=this.options.onLayout,u,a,f,l;a=function(e,t){t.$el[r](t.style,s)};if(this._isInserting&&this.isUsingJQueryAnimation)a=function(e,t){u=t.$el.hasClass("no-transition")?"css":r;t.$el[u](t.style,s)};else if(n||o||s.complete){var c=!1,h=[n,o,s.complete],p=this;f=!0;l=function(){if(c)return;var t;for(var n=0,r=h.length;n<r;n++){t=h[n];typeof t=="function"&&t.call(p.element,e,p)}c=!0};if(this.isUsingJQueryAnimation&&r==="animate"){s.complete=l;f=!1}else if(i.csstransitions){var d=0,v=this.styleQueue[0],y=v&&v.$el,b;while(!y||!y.length){b=this.styleQueue[d++];if(!b)return;y=b.$el}var w=parseFloat(getComputedStyle(y[0])[g]);if(w>0){a=function(e,t){t.$el[r](t.style,s).one(m,l)};f=!1}}}t.each(this.styleQueue,a);f&&l();this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n);t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r);n._sort();n.reLayout();n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e);n.layout(e);n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e);e.addClass("no-transition");this._isInserting=!0;this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition");n.styleQueue.push({$el:e,style:n.options.visibleStyle});n._isInserting=!1;n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e);this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,r=function(){e.remove();t&&t.call(n.element)};if(e.filter(":not(."+this.options.hiddenClass+")").length){this.styleQueue.push({$el:e,style:this.options.hiddenStyle});this._sort();this.reLayout(r)}else r()},shuffle:function(e){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="";t.top="";t.left="";t.opacity="";e&&(t[a]="")});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope");S.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+s(r)](!0)||o;u=Math.floor(o/a);u=Math.max(u,1);this[t][i]=u;this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];this._getSegments(e);return this[t][n]!==r},_masonryReset:function(){this.masonry={};this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);i=Math.min(i,r.cols);if(i===1)n._masonryPlaceBrick(e,r.colYs);else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++){u=r.colYs.slice(a,a+i);o[a]=Math.max.apply(Math,u)}n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(!0),f=this.masonry.cols+1-s;for(i=0;i<f;i++)this.masonry.colYs[r+i]=a},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);if(i.x!==0&&s+i.x>r){i.x=0;i.y=i.height}n._pushPosition(e,i.x,i.y);i.height=Math.max(i.y+o,i.height);i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u);r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y);n.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(!0);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);i=Math.min(i,r.rows);if(i===1)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++){u=r.rowXs.slice(a,a+i);o[a]=Math.max.apply(Math,u)}n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(!0),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++)this.masonryHorizontal.rowXs[r+i]=a},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);if(i.y!==0&&o+i.y>r){i.x=i.width;i.y=0}n._pushPosition(e,i.x,i.y);i.width=Math.max(i.x+s,i.width);i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u);r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0);n.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}};t.fn.imagesLoaded=function(e){function n(){e.call(i,s)}function r(e){var i=e.target;if(i.src!==u&&t.inArray(i,a)===-1){a.push(i);if(--o<=0){setTimeout(n);s.unbind(".imagesLoaded",r)}}}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u=js_local_vars.theme_url+"/images/blank.gif",a=[];o||n();s.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=u;this.src=e});return i};var x=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if(typeof e=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");if(!n){x("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(n[e])||e.charAt(0)==="_"){x("no such method '"+e+"' for isotope instance");return}n[e].apply(n,r)})}else this.each(function(){var r=t.data(this,"isotope");if(r){r.option(e);r._init(n)}else t.data(this,"isotope",new t.Isotope(e,this,n))});return this}})(window,jQuery);if(jQuery("body.rtl").length>=1){jQuery.Isotope.prototype._positionAbs=function(e,t){return{right:e,top:t}}}(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(a-o)<i.sensitivity){e(n).off("mousemove.hoverIntent",f);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var h=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){u=n.pageX;a=n.pageY;e(r).on("mousemove.hoverIntent",f);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",f);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},i.selector)}})(jQuery);(function(e){e.fn.UItoTop=function(t){var n={text:"",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear"},r=e.extend(n,t),i="#"+r.containerID,s="#"+r.containerHoverID;e("body").append('<div class="to-top-container"><a href="#" id="'+r.containerID+'">'+r.text+"</a></div>");e(i).hide().on("click.UItoTop",function(){e("html, body").animate({scrollTop:0},r.scrollSpeed,r.easingType);e("#"+r.containerHoverID,this).stop().animate({opacity:0},r.inDelay,r.easingType);return false}).prepend('<span id="'+r.containerHoverID+'"></span>').hover(function(){e(s,this).stop().animate({opacity:1},600,"linear")},function(){e(s,this).stop().animate({opacity:0},700,"linear")});e(window).scroll(function(){var t=e(window).scrollTop();if(typeof document.body.style.maxHeight==="undefined"){e(i).css({position:"absolute",top:t+e(window).height()-50})}if(t>r.min){e(i).fadeIn(r.inDelay)}else{e(i).fadeOut(r.Outdelay)}})}})(jQuery);(function(e,t,n){var r=t.event,i;r.special.smartresize={setup:function(){t(this).bind("resize",r.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",r.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize";if(i){clearTimeout(i)}i=setTimeout(function(){jQuery.event.handle.apply(n,r)},t==="execAsap"?0:100)}};t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])};t.Slideshow=function(e,n){this.$el=t(n);this.$list=this.$el.find("ul.ei-slider-large");this.$imgItems=this.$list.children("li");this.itemsCount=this.$imgItems.length;this.$images=this.$imgItems.find("img:first");this.$sliderthumbs=this.$el.find("ul.ei-slider-thumbs").hide();this.$sliderElems=this.$sliderthumbs.children("li");this.$sliderElem=this.$sliderthumbs.children("li.ei-slider-element");this.$thumbs=this.$sliderElems.not(".ei-slider-element");this._init(e)};t.Slideshow.defaults={animation:"sides",autoplay:false,slideshow_interval:3e3,speed:800,easing:"",titlesFactor:.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150};t.Slideshow.prototype={_init:function(e){this.options=t.extend(true,{},t.Slideshow.defaults,e);this.$imgItems.css("opacity",0);this.$imgItems.find("div.ei-title > *").css("opacity",0);this.current=0;var n=this;this.$loading=t('<div class="ei-slider-loading">Loading</div>').prependTo(n.$el);t.when(this._preloadImages()).done(function(){n.$loading.hide();n._setImagesSize();n._initThumbs();n.$imgItems.eq(n.current).css({opacity:1,"z-index":10}).show().find("div.ei-title > *").css("opacity",1);if(n.options.autoplay){n._startSlideshow()}n._initEvents()})},_preloadImages:function(){var e=this,n=0;return t.Deferred(function(r){e.$images.each(function(i){t("<img/>").load(function(){if(++n===e.itemsCount){r.resolve()}}).attr("src",t(this).attr("src"))})}).promise()},_setImagesSize:function(){this.elWidth=this.$el.width();var e=this;this.$images.each(function(n){var r=t(this);imgDim=e._getImageDim(r.attr("src"));r.css({width:imgDim.width,height:imgDim.height,marginLeft:imgDim.left,marginTop:imgDim.top})})},_getImageDim:function(e){var t=new Image;t.src=e;var n=this.elWidth,r=this.$el.height(),i=r/n,s=t.width,o=t.height,u=o/s,a,f,l,c;if(i>u){f=r;a=r/u}else{f=n*u;a=n}return{width:a,height:f,left:(n-a)/2,top:(r-f)/2}},_initThumbs:function(){this.$sliderElems.css({"max-width":this.options.thumbMaxWidth+"px",width:100/this.itemsCount+"%"});this.$sliderthumbs.css("max-width",this.options.thumbMaxWidth*this.itemsCount+"px").show()},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){var t;e.current===e.itemsCount-1?t=0:t=e.current+1;e._slideTo(t);if(e.options.autoplay){e._startSlideshow()}},this.options.slideshow_interval)},_slideTo:function(e){if(e===this.current||this.isAnimating)return false;this.isAnimating=true;var n=this.$imgItems.eq(this.current),r=this.$imgItems.eq(e),i=this,s={zIndex:10},o={opacity:1};if(this.options.animation==="sides"){s.left=e>this.current?-1*this.elWidth:this.elWidth;o.left=0}r.find("div.ei-title > h2").css("margin-right",50+"px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:0+"px",opacity:1},this.options.titlespeed,this.options.titleeasing).end().find("div.ei-title > h3").css("margin-right",-50+"px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:0+"px",opacity:1},this.options.titlespeed,this.options.titleeasing);t.when(n.css("z-index",1).find("div.ei-title > *").stop().fadeOut(this.options.speed/2,function(){t(this).show().css("opacity",0)}),r.css(s).stop().animate(o,this.options.speed,this.options.easing),this.$sliderElem.stop().animate({left:this.$thumbs.eq(e).position().left},this.options.speed)).done(function(){n.css("opacity",0).find("div.ei-title > *").css("opacity",0);i.current=e;i.isAnimating=false})},_initEvents:function(){var n=this;t(e).on("smartresize.eislideshow",function(e){n._setImagesSize();n.$sliderElem.css("left",n.$thumbs.eq(n.current).position().left)});this.$thumbs.on("click.eislideshow",function(e){if(n.options.autoplay){clearTimeout(n.slideshow);n.options.autoplay=false}var r=t(this),i=r.index()-1;n._slideTo(i);return false})}};var s=function(e){if(this.console){console.error(e)}};t.fn.eislideshow=function(e){if(typeof e==="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"eislideshow");if(!r){s("cannot call methods on eislideshow prior to initialization; "+"attempted to call method '"+e+"'");return}if(!t.isFunction(r[e])||e.charAt(0)==="_"){s("no such method '"+e+"' for eislideshow instance");return}r[e].apply(r,n)})}else{this.each(function(){var n=t.data(this,"eislideshow");if(!n){t.data(this,"eislideshow",new t.Slideshow(e,this))}})}return this}})(window,jQuery);(function(e){"use strict";function r(t,i,s,o){function h(e){if(e.timeout)u.cycleTimeout=setTimeout(function(){r(t,e,0,!e.rev)},e.timeout)}if(i.busy)return;var u=t[0].parentNode,a=t[i.currSlide],f=t[i.nextSlide];if(u.cycleTimeout===0&&!s)return;if(s||!u.cyclePause){if(i.before.length)e.each(i.before,function(e,t){t.apply(f,[a,f,i,o])});var l=function(){if(n)this.style.removeAttribute("filter");e.each(i.after,function(e,t){t.apply(f,[a,f,i,o])});h(i)};if(i.nextSlide!=i.currSlide){i.busy=1;e.fn.cycle.custom(a,f,i,l)}var c=i.nextSlide+1==t.length;i.nextSlide=c?0:i.nextSlide+1;i.currSlide=c?t.length-1:i.nextSlide-1}else{h(i)}}function i(e,t,n){var i=e[0].parentNode,s=i.cycleTimeout;if(s){clearTimeout(s);i.cycleTimeout=0}t.nextSlide=t.currSlide+n;if(t.nextSlide<0){t.nextSlide=e.length-1}else if(t.nextSlide>=e.length){t.nextSlide=0}r(e,t,1,n>=0);return false}var t="Lite-1.7";var n=/MSIE/.test(navigator.userAgent);e.fn.cycle=function(t){return this.each(function(){t=t||{};if(this.cycleTimeout)clearTimeout(this.cycleTimeout);this.cycleTimeout=0;this.cyclePause=0;var s=e(this);var o=t.slideExpr?e(t.slideExpr,this):s.children();var u=o.get();if(u.length<2){return}var a=e.extend({},e.fn.cycle.defaults,t||{},e.metadata?s.metadata():e.meta?s.data():{});var f=e.isFunction(s.data)?s.data(a.metaAttr):null;if(f)a=e.extend(a,f);a.before=a.before?[a.before]:[];a.after=a.after?[a.after]:[];a.after.unshift(function(){a.busy=0});var l=this.className;a.width=parseInt((l.match(/w:(\d+)/)||[])[1],10)||a.width;a.height=parseInt((l.match(/h:(\d+)/)||[])[1],10)||a.height;a.timeout=parseInt((l.match(/t:(\d+)/)||[])[1],10)||a.timeout;if(s.css("position")=="static")s.css("position","relative");if(a.width)s.width(a.width);if(a.height&&a.height!="auto")s.height(a.height);var c=0;o.css({position:"absolute",top:0}).each(function(t){e(this).css("z-index",u.length-t)});e(u[c]).css("opacity",1).show();if(n)u[c].style.removeAttribute("filter");if(a.fit&&a.width)o.width(a.width);if(a.fit&&a.height&&a.height!="auto")o.height(a.height);if(a.pause)s.hover(function(){this.cyclePause=1},function(){this.cyclePause=0});var h=e.fn.cycle.transitions[a.fx];if(h)h(s,o,a);o.each(function(){var t=e(this);this.cycleH=a.fit&&a.height?a.height:t.height();this.cycleW=a.fit&&a.width?a.width:t.width()});if(a.cssFirst)e(o[c]).css(a.cssFirst);if(a.timeout){if(a.speed.constructor==String)a.speed={slow:600,fast:200}[a.speed]||400;if(!a.sync)a.speed=a.speed/2;while(a.timeout-a.speed<250)a.timeout+=a.speed}a.speedIn=a.speed;a.speedOut=a.speed;a.slideCount=u.length;a.currSlide=c;a.nextSlide=1;var p=o[c];if(a.before.length)a.before[0].apply(p,[p,p,a,true]);if(a.after.length>1)a.after[1].apply(p,[p,p,a,true]);if(a.click&&!a.next)a.next=a.click;if(a.next)e(a.next).unbind("click.cycle").bind("click.cycle",function(){return i(u,a,a.rev?-1:1)});if(a.prev)e(a.prev).unbind("click.cycle").bind("click.cycle",function(){return i(u,a,a.rev?1:-1)});if(a.timeout)this.cycleTimeout=setTimeout(function(){r(u,a,0,!a.rev)},a.timeout+(a.delay||0))})};e.fn.cycle.custom=function(t,n,r,i){var s=e(t),o=e(n);o.css(r.cssBefore);var u=function(){o.animate(r.animIn,r.speedIn,r.easeIn,i)};s.animate(r.animOut,r.speedOut,r.easeOut,function(){s.css(r.cssAfter);if(!r.sync)u()});if(r.sync)u()};e.fn.cycle.transitions={fade:function(e,t,n){t.not(":eq(0)").hide();n.cssBefore={opacity:0,display:"block"};n.cssAfter={display:"none"};n.animOut={opacity:0};n.animIn={opacity:1}},fadeout:function(t,n,r){r.before.push(function(t,n,r,i){e(t).css("zIndex",r.slideCount+(i===true?1:0));e(n).css("zIndex",r.slideCount+(i===true?0:1))});n.not(":eq(0)").hide();r.cssBefore={opacity:1,display:"block",zIndex:1};r.cssAfter={display:"none",zIndex:0};r.animOut={opacity:0};r.animIn={opacity:1}}};e.fn.cycle.ver=function(){return t};e.fn.cycle.defaults={animIn:{},animOut:{},fx:"fade",after:null,before:null,cssBefore:{},cssAfter:{},delay:0,fit:0,height:"auto",metaAttr:"cycle",next:null,pause:false,prev:null,speed:1e3,slideExpr:null,sync:true,timeout:4e3}})(jQuery);(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype;r.getListeners=function(e){var t,n,r=this._getEvents();if("object"==typeof e){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,r){t[n+r]=r.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,r.handleEvent.call(r,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,r.call(t,n)},t.attachEvent("on"+n,t[n+r])});var r=function(){};t.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var i={bind:n,unbind:r};"function"==typeof define&&define.amd?define(i):e.eventie=i}(this),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===a.call(e)}function r(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var r=0,i=e.length;i>r;r++)t.push(e[r]);else t.push(e);return t}function i(e,n){function i(e,n,o){if(!(this instanceof i))return new i(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=t({},this.options),"function"==typeof n?o=n:t(this.options,n),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred);var u=this;setTimeout(function(){u.check()})}function a(e){this.img=e}i.prototype=new e,i.prototype.options={},i.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var r=n.querySelectorAll("img"),i=0,s=r.length;s>i;i++){var o=r[i];this.addImage(o)}}},i.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},i.prototype.check=function(){function e(e,i){return t.options.debug&&u&&o.log("confirm",e,i),t.progress(e),n++,n===r&&t.complete(),!0}var t=this,n=0,r=this.images.length;if(this.hasAnyBroken=!1,!r)return this.complete(),void 0;for(var i=0;r>i;i++){var s=this.images[i];s.on("confirm",e),s.check()}},i.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify(t,e)})},i.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},s&&(s.fn.imagesLoaded=function(e,t){var n=new i(this,e,t);return n.jqDeferred.promise(s(this))});var f={};return a.prototype=new e,a.prototype.check=function(){var e=f[this.img.src];if(e)return this.useCached(e),void 0;if(f[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},a.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},a.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},a.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},i}var s=e.jQuery,o=e.console,u=o!==void 0,a=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],i):e.imagesLoaded=i(e.EventEmitter,e.eventie)}(window);(function(e,t,n){"use strict";t.infinitescroll=function(n,r,i){this.element=t(i);if(!this._create(n,r)){this.failed=true}};t.infinitescroll.defaults={loading:{finished:n,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:js_local_vars.theme_url+"/images/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:n},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,isBeyondMaxPage:false,currPage:1},debug:false,behavior:n,binder:t(e),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:n,dataType:"html",appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:n,path:n,prefill:false,maxPage:n};t.infinitescroll.prototype={_binding:function(t){var r=this,i=r.options;i.v="2.0b2.120520";if(!!i.behavior&&this["_binding_"+i.behavior]!==n){this["_binding_"+i.behavior].call(this);return}if(t!=="bind"&&t!=="unbind"){this._debug("Binding value  "+t+" not valid");return false}if(t==="unbind"){this.options.binder.unbind("smartscroll.infscr."+r.options.infid)}else{this.options.binder[t]("smartscroll.infscr."+r.options.infid,function(){r.scroll()})}this._debug("Binding",t)},_create:function(i,s){var o=t.extend(true,{},t.infinitescroll.defaults,i);this.options=o;var u=t(e);var a=this;if(!a._validate(i)){return false}var f=t(o.nextSelector).attr("href");if(!f){this._debug("Navigation selector not found");return false}o.path=o.path||this._determinepath(f);o.contentSelector=o.contentSelector||this.element;o.loading.selector=o.loading.selector||o.contentSelector;o.loading.msg=o.loading.msg||t('<div id="infscr-loading"><img alt="Loading..." src="'+o.loading.img+'" /><div>'+o.loading.msgText+"</div></div>");(new Image).src=o.loading.img;if(o.pixelsFromNavToBottom===n){o.pixelsFromNavToBottom=t(document).height()-t(o.navSelector).offset().top;this._debug("pixelsFromNavToBottom: "+o.pixelsFromNavToBottom)}var l=this;o.loading.start=o.loading.start||function(){t(o.navSelector).hide();o.loading.msg.appendTo(o.loading.selector).show(o.loading.speed,t.proxy(function(){this.beginAjax(o)},l))};o.loading.finished=o.loading.finished||function(){if(!o.state.isBeyondMaxPage)o.loading.msg.fadeOut(o.loading.speed)};o.callback=function(e,r,i){if(!!o.behavior&&e["_callback_"+o.behavior]!==n){e["_callback_"+o.behavior].call(t(o.contentSelector)[0],r,i)}if(s){s.call(t(o.contentSelector)[0],r,o,i)}if(o.prefill){u.bind("resize.infinite-scroll",e._prefill)}};if(i.debug){if(Function.prototype.bind&&(typeof console==="object"||typeof console==="function")&&typeof console.log==="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}}this._setup();if(o.prefill){this._prefill()}return true},_prefill:function(){function s(){return r.options.contentSelector.height()<=i.height()}var r=this;var i=t(e);this._prefill=function(){if(s()){r.scroll()}i.bind("resize.infinite-scroll",function(){if(s()){i.unbind("resize.infinite-scroll");r.scroll()}})};this._prefill()},_debug:function(){if(true!==this.options.debug){return}if(typeof console!=="undefined"&&typeof console.log==="function"){if(Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]==="string"){console.log(Array.prototype.slice.call(arguments).toString())}else{console.log(Array.prototype.slice.call(arguments))}}else if(!Function.prototype.bind&&typeof console!=="undefined"&&typeof console.log==="object"){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}},_determinepath:function(t){var r=this.options;if(!!r.behavior&&this["_determinepath_"+r.behavior]!==n){return this["_determinepath_"+r.behavior].call(this,t)}if(!!r.pathParse){this._debug("pathParse manual");return r.pathParse(t,this.options.state.currPage+1)}else if(t.match(/^(.*?)\b2\b(.*?$)/)){t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1)}else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/)){t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1);return t}t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/)){t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1);return t}else{this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");r.state.isInvalidPage=true}}this._debug("determinePath",t);return t},_error:function(t){var r=this.options;if(!!r.behavior&&this["_error_"+r.behavior]!==n){this["_error_"+r.behavior].call(this,t);return}if(t!=="destroy"&&t!=="end"){t="unknown"}this._debug("Error",t);if(t==="end"||r.state.isBeyondMaxPage){this._showdonemsg()}r.state.isDone=true;r.state.currPage=1;r.state.isPaused=false;r.state.isBeyondMaxPage=false;this._binding("unbind")},_loadcallback:function(i,s,o){var u=this.options,a=this.options.callback,f=u.state.isDone?"done":!u.appendCallback?"no-append":"append",l;if(!!u.behavior&&this["_loadcallback_"+u.behavior]!==n){this["_loadcallback_"+u.behavior].call(this,i,s);return}switch(f){case"done":this._showdonemsg();return false;case"no-append":if(u.dataType==="html"){s="<div>"+s+"</div>";s=t(s).find(u.itemSelector)}break;case"append":var c=i.children();if(c.length===0){return this._error("end")}l=document.createDocumentFragment();while(i[0].firstChild){l.appendChild(i[0].firstChild)}this._debug("contentSelector",t(u.contentSelector)[0]);t(u.contentSelector)[0].appendChild(l);s=c.get();break}u.loading.finished.call(t(u.contentSelector)[0],u);if(u.animate){var h=t(e).scrollTop()+t(u.loading.msg).height()+u.extraScrollPx+"px";t("html,body").animate({scrollTop:h},800,function(){u.state.isDuringAjax=false})}if(!u.animate){u.state.isDuringAjax=false}a(this,s,o);if(u.prefill){this._prefill()}},_nearbottom:function(){var i=this.options,s=0+t(document).height()-i.binder.scrollTop()-t(e).height();if(!!i.behavior&&this["_nearbottom_"+i.behavior]!==n){return this["_nearbottom_"+i.behavior].call(this)}this._debug("math:",s,i.pixelsFromNavToBottom);return s-i.bufferPx<i.pixelsFromNavToBottom},_pausing:function(t){var r=this.options;if(!!r.behavior&&this["_pausing_"+r.behavior]!==n){this["_pausing_"+r.behavior].call(this,t);return}if(t!=="pause"&&t!=="resume"&&t!==null){this._debug("Invalid argument. Toggling pause value instead")}t=t&&(t==="pause"||t==="resume")?t:"toggle";switch(t){case"pause":r.state.isPaused=true;break;case"resume":r.state.isPaused=false;break;case"toggle":r.state.isPaused=!r.state.isPaused;break}this._debug("Paused",r.state.isPaused);return false},_setup:function(){var t=this.options;if(!!t.behavior&&this["_setup_"+t.behavior]!==n){this["_setup_"+t.behavior].call(this);return}this._binding("bind");return false},_showdonemsg:function(){var r=this.options;if(!!r.behavior&&this["_showdonemsg_"+r.behavior]!==n){this["_showdonemsg_"+r.behavior].call(this);return}r.loading.msg.find("img").hide().parent().find("div").html(r.loading.finishedMsg).animate({opacity:1},2e3,function(){t(this).parent().fadeOut(r.loading.speed)});r.errorCallback.call(t(r.contentSelector)[0],"done")},_validate:function(n){for(var r in n){if(r.indexOf&&r.indexOf("Selector")>-1&&t(n[r]).length===0){this._debug("Your "+r+" found no elements.");return false}}return true},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=true;this.options.loading.finished();return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(r){var i=this,s=r.path,o,u,a,f;r.state.currPage++;if(r.maxPage!=n&&r.state.currPage>r.maxPage){r.state.isBeyondMaxPage=true;this.destroy();return}o=t(r.contentSelector).is("table, tbody")?t("<tbody/>"):t("<div/>");u=typeof s==="function"?s(r.state.currPage):s.join(r.state.currPage);i._debug("heading into ajax",u);a=r.dataType==="html"||r.dataType==="json"?r.dataType:"html+callback";if(r.appendCallback&&r.dataType==="html"){a+="+callback"}switch(a){case"html+callback":i._debug("Using HTML via .load() method");o.load(u+" "+r.itemSelector,n,function(t){i._loadcallback(o,t,u)});break;case"html":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");t.ajax({url:u,dataType:r.dataType,complete:function(t,n){f=typeof t.isResolved!=="undefined"?t.isResolved():n==="success"||n==="notmodified";if(f){i._loadcallback(o,t.responseText,u)}else{i._error("end")}}});break;case"json":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");t.ajax({dataType:"json",type:"GET",url:u,success:function(e,t,s){f=typeof s.isResolved!=="undefined"?s.isResolved():t==="success"||t==="notmodified";if(r.appendCallback){if(r.template!==n){var a=r.template(e);o.append(a);if(f){i._loadcallback(o,a)}else{i._error("end")}}else{i._debug("template must be defined.");i._error("end")}}else{if(f){i._loadcallback(o,e,u)}else{i._error("end")}}},error:function(){i._debug("JSON ajax request failed.");i._error("end")}});break}},retrieve:function(r){r=r||null;var i=this,s=i.options;if(!!s.behavior&&this["retrieve_"+s.behavior]!==n){this["retrieve_"+s.behavior].call(this,r);return}if(s.state.isDestroyed){this._debug("Instance is destroyed");return false}s.state.isDuringAjax=true;s.loading.start.call(t(s.contentSelector)[0],s)},scroll:function(){var t=this.options,r=t.state;if(!!t.behavior&&this["scroll_"+t.behavior]!==n){this["scroll_"+t.behavior].call(this);return}if(r.isDuringAjax||r.isInvalidPage||r.isDone||r.isDestroyed||r.isPaused){return}if(!this._nearbottom()){return}this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(n){if(t.isPlainObject(n)){this.options=t.extend(true,this.options,n)}}};t.fn.infinitescroll=function(n,r){var i=typeof n;switch(i){case"string":var s=Array.prototype.slice.call(arguments,1);this.each(function(){var e=t.data(this,"infinitescroll");if(!e){return false}if(!t.isFunction(e[n])||n.charAt(0)==="_"){return false}e[n].apply(e,s)});break;case"object":this.each(function(){var e=t.data(this,"infinitescroll");if(e){e.update(n)}else{e=new t.infinitescroll(n,r,this);if(!e.failed){t.data(this,"infinitescroll",e)}}});break}return this};var r=t.event,i;r.special.smartscroll={setup:function(){t(this).bind("scroll",r.special.smartscroll.handler)},teardown:function(){t(this).unbind("scroll",r.special.smartscroll.handler)},handler:function(e,n){var r=this,s=arguments;e.type="smartscroll";if(i){clearTimeout(i)}i=setTimeout(function(){t(r).trigger("smartscroll",s)},n==="execAsap"?0:100)}};t.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);var Froogaloop=function(){function e(t){return new e.fn.init(t)}function o(e,t,n){if(!n.contentWindow.postMessage){return false}var r=n.getAttribute("src").split("?")[0],i=JSON.stringify({method:e,value:t});if(r.substr(0,2)==="//"){r=window.location.protocol+r}n.contentWindow.postMessage(i,r)}function u(e){var t,n;try{t=JSON.parse(e.data);n=t.event||t.method}catch(i){}if(n=="ready"&&!r){r=true}if(e.origin!=s){return false}var o=t.value,u=t.data,a=a===""?null:t.player_id,l=f(n,a),c=[];if(!l){return false}if(o!==undefined){c.push(o)}if(u){c.push(u)}if(a){c.push(a)}return c.length>0?l.apply(null,c):l.call()}function a(e,n,r){if(r){if(!t[r]){t[r]={}}t[r][e]=n}else{t[e]=n}}function f(e,n){if(n){return t[n][e]}else{return t[e]}}function l(e,n){if(n&&t[n]){if(!t[n][e]){return false}t[n][e]=null}else{if(!t[e]){return false}t[e]=null}return true}function c(e){if(e.substr(0,2)==="//"){e=window.location.protocol+e}var t=e.split("/"),n="";for(var r=0,i=t.length;r<i;r++){if(r<3){n+=t[r]}else{break}if(r<2){n+="/"}}return n}function h(e){return!!(e&&e.constructor&&e.call&&e.apply)}function p(e){return toString.call(e)==="[object Array]"}var t={},n=false,r=false,i=Array.prototype.slice,s="";e.fn=e.prototype={element:null,init:function(e){if(typeof e==="string"){e=document.getElementById(e)}this.element=e;s=c(this.element.getAttribute("src"));return this},api:function(e,t){if(!this.element||!e){return false}var n=this,r=n.element,i=r.id!==""?r.id:null,s=!h(t)?t:null,u=h(t)?t:null;if(u){a(e,u,i)}o(e,s,r);return n},addEvent:function(e,t){if(!this.element){return false}var n=this,i=n.element,s=i.id!==""?i.id:null;a(e,t,s);if(e!="ready"){o("addEventListener",e,i)}else if(e=="ready"&&r){t.call(null,s)}return n},removeEvent:function(e){if(!this.element){return false}var t=this,n=t.element,r=n.id!==""?n.id:null,i=l(e,r);if(e!="ready"&&i){o("removeEventListener",e,n)}}};e.fn.init.prototype=e.fn;if(window.addEventListener){window.addEventListener("message",u,false)}else{window.attachEvent("onmessage",u)}return window.Froogaloop=window.$f=e}();(function(e,t){if(typeof exports==="object"){module.exports=t(require("jquery"))}else if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(e.jQuery)}})(this,function(e){var t=function(e,t){var n;var r=document.createElement("canvas");e.appendChild(r);if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(r)}var i=r.getContext("2d");r.width=r.height=t.size;var s=1;if(window.devicePixelRatio>1){s=window.devicePixelRatio;r.style.width=r.style.height=[t.size,"px"].join("");r.width=r.height=t.size*s;i.scale(s,s)}i.translate(t.size/2,t.size/2);i.rotate((-1/2+t.rotate/180)*Math.PI);var o=(t.size-t.lineWidth)/2;if(t.scaleColor&&t.scaleLength){o-=t.scaleLength+2}Date.now=Date.now||function(){return+(new Date)};var u=function(e,t,n){n=Math.min(Math.max(-1,n||0),1);var r=n<=0?true:false;i.beginPath();i.arc(0,0,o,0,Math.PI*2*n,r);i.strokeStyle=e;i.lineWidth=t;i.stroke()};var a=function(){var e;var n;i.lineWidth=1;i.fillStyle=t.scaleColor;i.save();for(var r=24;r>0;--r){if(r%6===0){n=t.scaleLength;e=0}else{n=t.scaleLength*.6;e=t.scaleLength-n}i.fillRect(-t.size/2+e,0,n,1);i.rotate(Math.PI/12)}i.restore()};var f=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var l=function(){if(t.scaleColor)a();if(t.trackColor)u(t.trackColor,t.lineWidth,1)};this.getCanvas=function(){return r};this.getCtx=function(){return i};this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)};this.draw=function(e){if(!!t.scaleColor||!!t.trackColor){if(i.getImageData&&i.putImageData){if(!n){l();n=i.getImageData(0,0,t.size*s,t.size*s)}else{i.putImageData(n,0,0)}}else{this.clear();l()}}else{this.clear()}i.lineCap=t.lineCap;var r;if(typeof t.barColor==="function"){r=t.barColor(e)}else{r=t.barColor}u(r,t.lineWidth,e/100)}.bind(this);this.animate=function(e,n){var r=Date.now();t.onStart(e,n);var i=function(){var s=Math.min(Date.now()-r,t.animate.duration);var o=t.easing(this,s,e,n-e,t.animate.duration);this.draw(o);t.onStep(e,n,o);if(s>=t.animate.duration){t.onStop(e,n)}else{f(i)}}.bind(this);f(i)}.bind(this)};var n=function(e,n){var r={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:true},easing:function(e,t,n,r,i){t=t/(i/2);if(t<1){return r/2*t*t+n}return-r/2*(--t*(t-2)-1)+n},onStart:function(e,t){return},onStep:function(e,t,n){return},onStop:function(e,t){return}};if(typeof t!=="undefined"){r.renderer=t}else if(typeof SVGRenderer!=="undefined"){r.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}var i={};var s=0;var o=function(){this.el=e;this.options=i;for(var t in r){if(r.hasOwnProperty(t)){i[t]=n&&typeof n[t]!=="undefined"?n[t]:r[t];if(typeof i[t]==="function"){i[t]=i[t].bind(this)}}}if(typeof i.easing==="string"&&typeof jQuery!=="undefined"&&jQuery.isFunction(jQuery.easing[i.easing])){i.easing=jQuery.easing[i.easing]}else{i.easing=r.easing}if(typeof i.animate==="number"){i.animate={duration:i.animate,enabled:true}}if(typeof i.animate==="boolean"&&!i.animate){i.animate={duration:1e3,enabled:i.animate}}this.renderer=new i.renderer(e,i);this.renderer.draw(s);if(e.dataset&&e.dataset.percent){this.update(parseFloat(e.dataset.percent))}else if(e.getAttribute&&e.getAttribute("data-percent")){this.update(parseFloat(e.getAttribute("data-percent")))}}.bind(this);this.update=function(e){e=parseFloat(e);if(i.animate.enabled){this.renderer.animate(s,e)}else{this.renderer.draw(e)}s=e;return this}.bind(this);this.disableAnimation=function(){i.animate.enabled=false;return this};this.enableAnimation=function(){i.animate.enabled=true;return this};o()};e.fn.easyPieChart=function(t){return this.each(function(){var r;if(!e.data(this,"easyPieChart")){r=e.extend({},t,e(this).data());e.data(this,"easyPieChart",new n(this,r))}})}});(function(e){e.fn.appear=function(t,n){var r=e.extend({data:undefined,one:true,accX:0,accY:0},n);return this.each(function(){var n=e(this);n.appeared=false;if(!t){n.trigger("appear",r.data);return}var i=e(window);var s=function(){if(!n.is(":visible")){n.appeared=false;return}var e=i.scrollLeft();var t=i.scrollTop();var s=n.offset();var o=s.left;var u=s.top;var a=r.accX;var f=r.accY;var l=n.height();var c=i.height();var h=n.width();var p=i.width();if(u+l+f>=t&&u<=t+c+f&&o+h+a>=e&&o<=e+p+a){if(!n.appeared)n.trigger("appear",r.data)}else{n.appeared=false}};var o=function(){n.appeared=true;if(r.one){i.unbind("scroll",s);var o=e.inArray(s,e.fn.appear.checks);if(o>=0)e.fn.appear.checks.splice(o,1)}t.apply(this,arguments)};if(r.one)n.one("appear",r.data,o);else n.bind("appear",r.data,o);i.scroll(s);e.fn.appear.checks.push(s);s()})};e.extend(e.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=e.fn.appear.checks.length;if(t>0)while(t--)e.fn.appear.checks[t]()},run:function(){if(e.fn.appear.timeout)clearTimeout(e.fn.appear.timeout);e.fn.appear.timeout=setTimeout(e.fn.appear.checkAll,20)}});e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,n){var r=e.fn[n];if(r){e.fn[n]=function(){var t=r.apply(this,arguments);e.fn.appear.run();return t}}})})(jQuery);+function(e){"use strict";function t(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t){if(e.style[n]!==undefined){return{end:t[n]}}}return false}e.fn.emulateTransitionEnd=function(t){var n=false,r=this;e(this).one(e.support.transition.end,function(){n=true});var i=function(){if(!n)e(r).trigger(e.support.transition.end)};setTimeout(i,t);return this};e(function(){e.support.transition=t()})}(jQuery);+function(e){"use strict";var t=function(n,r){this.$element=e(n);this.options=e.extend({},t.DEFAULTS,r);this.transitioning=null;if(this.options.parent)this.$parent=e(this.options.parent);if(this.options.toggle)this.toggle()};t.DEFAULTS={toggle:true};t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"};t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var t=e.Event("show.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide");r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0);this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",i].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][o])};t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var t=e.Event("hide.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var r=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.collapse");var s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);if(!i&&s.toggle&&n=="show")n=!n;if(!i)r.data("bs.collapse",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=n;return this};e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r;var i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"");var s=e(i);var o=s.data("bs.collapse");var u=o?"toggle":n.data();var a=n.attr("data-parent");var f=a&&e(a);if(!o||!o.transitioning){if(f)f.find('[data-toggle=collapse][data-parent="'+a+'"]').not(n).addClass("collapsed");n[s.hasClass("in")?"addClass":"removeClass"]("collapsed")}s.collapse(u)});jQuery("click.bs.collapse.data-api, [data-toggle=collapse]").each(function(){var e=jQuery(this).attr("data-parent");if(jQuery(this).parents(".panel-group").length==0){var t=Math.floor(Math.random()*10+1);var n=jQuery(this).parents(".panel");jQuery(this).attr("data-parent","accordian-"+t);jQuery(n).wrap('<div class="accordian fusion-accordian fusion-single-accordian"><div class="panel-group" id="accordion-'+t+'"></div></div>')}})}(jQuery);+function(e){"use strict";var t=function(t,n){this.options=n;this.$element=e(t);this.$backdrop="";this.isShown=null;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};t.DEFAULTS={backdrop:true,keyboard:true,show:true};t.prototype.toggle=function(e){return this[!this.isShown?"show":"hide"](e)};t.prototype.show=function(t){var n=this;var r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this));this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");if(!n.$element.parent().length){n.$element.appendTo(document.body)}n.$element.show().scrollTop(0);if(r){n.$element[0].offsetWidth}n.$element.addClass("in").attr("aria-hidden",false);n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)})};t.prototype.hide=function(t){if(t)t.preventDefault();t=e.Event("hide.bs.modal");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;this.escape();e(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal");e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.focus()}},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}};t.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.removeBackdrop();e.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(r)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else if(t){t()}};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this);var s=i.data("bs.modal");var o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);if(!s)i.data("bs.modal",s=new t(this,o));if(typeof n=="string")s[n](r);else if(o.show)s.show(r)})};e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=n;return this};e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this);var r=n.attr("href");var i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var s=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());if(n.is("a"))t.preventDefault();i.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})});e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery);+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element;var n=t.closest("ul:not(.dropdown-menu)");var r=t.data("target");if(!r){r=t.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a")[0];var s=e.Event("show.bs.tab",{relatedTarget:i});t.trigger(s);if(s.isDefaultPrevented())return;var o=e(r);this.activate(t.parent("li"),n);this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})};t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");if(s){t[0].offsetWidth;t.addClass("in")}else{t.removeClass("fade")}if(t.parent(".dropdown-menu")){t.closest("li.dropdown").addClass("active")}r&&r()}var i=n.find("> .active");var s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o).emulateTransitionEnd(150):o();i.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.tab");if(!i)r.data("bs.tab",i=new t(this));if(typeof n=="string")i[n]()})};e.fn.tab.Constructor=t;e.fn.tab.noConflict=function(){e.fn.tab=n;return this};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();e(this).tab("show")})}(jQuery);+function(e){"use strict";var t=function(e,t){this.type="";this.options="";this.enabled="";this.timeout="";this.hoverState="";this.$element=null;this.init("tooltip",e,t)};t.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};t.prototype.init=function(t,n,r){this.enabled=true;this.type=t;this.$element=e(n);this.options=this.getOptions(r);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin";var a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){t=e.extend({},this.getDefaults(),this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t};t.prototype.getDelegateOptions=function(){var t={};var n=this.getDefaults();this._options&&e.each(this._options,function(e,r){if(n[e]!=r)t[e]=r});return t};t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout);n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){if(n.hoverState=="in")n.show()},n.options.delay.show)};t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout);n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){if(n.hoverState=="out")n.hide()},n.options.delay.hide)};t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this;var r=this.tip();this.setContent();if(this.options.animation)r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement;var s=/\s?auto?\s?/i;var o=s.test(i);if(o)i=i.replace(s,"")||"top";r.detach().css({top:0,left:0,display:"block"}).addClass(i).addClass(this.$element.data("class"));this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition();var a=r[0].offsetWidth;var f=r[0].offsetHeight;if(o){var l=this.$element.parent();var c=i;var h=document.documentElement.scrollTop||document.body.scrollTop;var p=this.options.container=="body"?window.innerWidth:l.outerWidth();var d=this.options.container=="body"?window.innerHeight:l.outerHeight();var v=this.options.container=="body"?0:l.offset().left;i=i=="bottom"&&u.top+u.height+f-h>d?"top":i=="top"&&u.top-h-f<0?"bottom":i=="right"&&u.right+a>p?"left":i=="left"&&u.left-a<v?"right":i;r.removeClass(c).addClass(i)}var m=this.getCalculatedOffset(i,u,a,f);this.applyPlacement(m,i);this.hoverState=null;var g=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,g).emulateTransitionEnd(150):g()}};t.prototype.applyPlacement=function(t,n){var r;var i=this.tip();var s=i[0].offsetWidth;var o=i[0].offsetHeight;var u=parseInt(i.css("margin-top"),10);var a=parseInt(i.css("margin-left"),10);if(isNaN(u))u=0;if(isNaN(a))a=0;t.top=t.top+u;t.left=t.left+a;e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0);i.addClass("in");var f=i[0].offsetWidth;var l=i[0].offsetHeight;if(n=="top"&&l!=o){r=true;t.top=t.top+o-l}if(/bottom|top/.test(n)){var c=0;if(t.left<0){c=t.left*-2;t.left=0;i.offset(t);f=i[0].offsetWidth;l=i[0].offsetHeight}this.replaceArrow(c-s+f,f,"left")}else{this.replaceArrow(l-o,l,"top")}if(r)i.offset(t)};t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")};t.prototype.hide=function(){function i(){if(t.hoverState!="in")n.detach();t.$element.trigger("hidden.bs."+t.type)}var t=this;var n=this.tip();var r=e.Event("hide.bs."+this.type);this.$element.trigger(r);if(r.isDefaultPrevented())return;n.removeClass("in");e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i();this.hoverState=null;return this};t.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())};t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getTitle=function(){var e;var t=this.$element;var n=this.options;e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title);return e};t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};t.prototype.enable=function(){this.enabled=true};t.prototype.disable=function(){this.enabled=false};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)};t.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.tooltip");var s=typeof n=="object"&&n;if(!i&&n=="destroy")return;if(!i)r.data("bs.tooltip",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.noConflict=function(){e.fn.tooltip=n;return this}}(jQuery);+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();var n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?typeof n=="string"?"html":"append":"text"](n);e.removeClass("fade top bottom left right in");if(!e.find(".popover-title").html())e.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var e=this.$element;var t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){if(!this.$tip)this.$tip=e(this.options.template);return this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.popover");var s=typeof n=="object"&&n;if(!i&&n=="destroy")return;if(!i)r.data("bs.popover",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.popover.Constructor=t;e.fn.popover.noConflict=function(){e.fn.popover=n;return this}}(jQuery);jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});jQuery(document).ready(function(){jQuery(".portfolio-wrapper").hide();jQuery(".portfolio-tabs ").hide();jQuery(".faq-tabs ").hide();if(jQuery(".portfolio").length>=1){jQuery("#content").append('<div class="loading-container"><img src="'+js_local_vars.theme_url+"/images/loading.gif"+'" alt="Loading..."><div class="loading-msg">'+js_local_vars.portfolio_loading_text+"</div>")}if(jQuery(".faqs").length>=1){jQuery("#content").append('<div class="loading-container"><img src="'+js_local_vars.theme_url+"/images/loading.gif"+'" alt="Loading..."><div class="loading-msg">'+js_local_vars.faqs_loading_text+"</div>")}var e=jQuery("iframe");jQuery.each(e,function(e,t){var n=jQuery(this).attr("src");if(n){if(!Number(js_local_vars.status_vimeo)&&n.indexOf("vimeo")>=1){jQuery(this).attr("id","player_"+(e+1));var r=insertParam(n,"api","1",false);var i=insertParam(r,"player_id","player_"+(e+1),false);jQuery(this).attr("src",i)}if(!Number(js_local_vars.status_yt)&&ytVidId(n)){jQuery(this).attr("id","player_"+(e+1));jQuery(this).parent().wrap('<span class="play3" />');var r=insertParam(n,"enablejsapi","1",false);jQuery(this).attr("src",r);window.yt_vid_exists=true}}});if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){var t=document.createElement("script");t.src=window.location.protocol+"//www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}});var YT_ready=function(){var e=[],t=false;return function(n,r){if(n===true){t=true;while(e.length){e.shift()()}}else if(typeof n=="function"){if(t)n();else e[r?"unshift":"push"](n)}}}();var orig_logo_height=jQuery(".header-wrapper").find(".logo").height();var orig_logo_container_margin_top=jQuery(".header-wrapper").find(".logo").data("margin-top");var orig_logo_container_margin_bottom=jQuery(".header-wrapper").find(".logo").data("margin-bottom");var orig_menu_height=jQuery(".header-wrapper .fusion-navbar-nav > li > a").outerHeight();var is_parallax_tfs_slider=false;if(jQuery(".header-v1").length&&jQuery(".header-wrapper").css("position")!="absolute"&&jQuery(".header-wrapper").prev().attr("id")!="sliders-container"){jQuery(".tfs-slider").each(function(){if(!jQuery(this).parents(".post-content").length&&jQuery(this).data("parallax")==1){is_parallax_tfs_slider=true;jQuery(window).scroll(animate_scrolled_header_v1);if(!Modernizr.mq("only screen and (max-width: 1000px)")){jQuery("#header-sticky").addClass("tfs_parallax")}}});if(is_parallax_tfs_slider){if(orig_logo_height+parseInt(orig_logo_container_margin_top.replace("px",""))+parseInt(orig_logo_container_margin_bottom.replace("px",""))>orig_menu_height){var orig_header_height=orig_logo_height+parseInt(orig_logo_container_margin_top.replace("px",""))+parseInt(orig_logo_container_margin_bottom.replace("px",""))}else{var orig_header_height=orig_menu_height}var is_scrolled=false;var scrolled_header_height=65;if(jQuery(".header-wrapper").find(".logo .logo_normal:visible")){var scrolled_logo_height=jQuery(".header-v1").find(".logo .normal_logo").height();if(scrolled_logo_height<scrolled_header_height-10){var scrolled_logo_container_margin=(scrolled_header_height-scrolled_logo_height)/2}else{scrolled_logo_height=scrolled_header_height-10;var scrolled_logo_container_margin=5}}jQuery(window).on("resize",function(){if(Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(".header-v1").css({height:"",position:""});jQuery("#header-sticky").removeClass("tfs_parallax")}if(!Modernizr.mq("only screen and (max-width: 1000px)")){if(is_scrolled){jQuery(".header-wrapper").css("height",scrolled_header_height);jQuery(".header-v1").css({position:"fixed",height:scrolled_header_height,width:"100%","-webkit-box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12)","-moz-box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12)","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12)"});jQuery(".header-wrapper").find(".avada-row").css({"padding-top":"0","padding-bottom":"0"});if(jQuery(".header-wrapper").find(".logo .logo_normal:visible")){jQuery(".header-wrapper").find(".logo .logo_normal").css({height:scrolled_logo_height})}jQuery(".header-wrapper").find(".logo").css({"margin-top":scrolled_logo_container_margin,"margin-bottom":scrolled_logo_container_margin});jQuery(".header-wrapper").find(".fusion-navbar-nav > li > a").css({height:scrolled_header_height-3+"px","line-height":scrolled_header_height-3+"px"})}if(!is_scrolled){jQuery(".header-wrapper, .header-v1").css("height",orig_header_height);jQuery(".header-wrapper").find(".logo").css({"margin-top":orig_logo_container_margin_top,"margin-bottom":orig_logo_container_margin_top,height:orig_logo_height});jQuery(".header-wrapper").find(".fusion-navbar-nav > li > a").css({height:orig_menu_height+"px","line-height":orig_menu_height+"px"})}jQuery("#header-sticky").addClass("tfs_parallax")}})}}jQuery(window).load(function(){var e=jQuery(".header-wrapper").height();if(jQuery(".header-v1").length){if(orig_logo_height+parseInt(orig_logo_container_margin_top.replace("px",""))+parseInt(orig_logo_container_margin_bottom.replace("px",""))>orig_menu_height){e=orig_logo_height+parseInt(orig_logo_container_margin_top.replace("px",""))+parseInt(orig_logo_container_margin_bottom.replace("px",""))>orig_menu_height}else{e=orig_menu_height}}if(jQuery("#sidebar").is(":visible")){jQuery(".post-content div.portfolio").each(function(){var e=jQuery(this).data("columns");jQuery(this).addClass("portfolio-"+e+"-sidebar")})}if(jQuery().isotope){jQuery.Isotope.prototype._getMasonryGutterColumns=function(){var e=this.options.masonry&&this.options.masonry.gutterWidth||0;containerWidth=this.element.width();this.masonry.columnWidth=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(true)||containerWidth;this.masonry.columnWidth+=e;this.masonry.cols=Math.floor((containerWidth+e)/this.masonry.columnWidth);this.masonry.cols=Math.max(this.masonry.cols,1)};jQuery.Isotope.prototype._masonryReset=function(){this.masonry={};this._getMasonryGutterColumns();var e=this.masonry.cols;this.masonry.colYs=[];while(e--){this.masonry.colYs.push(0)}};jQuery.Isotope.prototype._masonryResizeChanged=function(){var e=this.masonry.cols;this._getMasonryGutterColumns();return this.masonry.cols!==e};imagesLoaded(jQuery(".portfolio-one .portfolio-wrapper"),function(){jQuery(".portfolio-wrapper").fadeIn();jQuery(".portfolio-tabs").fadeIn();jQuery(".faq-tabs").fadeIn();jQuery(".loading-container").fadeOut();jQuery(".portfolio-one .portfolio-wrapper").isotope({itemSelector:".portfolio-item",layoutMode:"straightDown",transformsEnabled:false});jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})});imagesLoaded(jQuery(".portfolio-two .portfolio-wrapper, .portfolio-three .portfolio-wrapper, .portfolio-four .portfolio-wrapper"),function(){jQuery(".portfolio-wrapper").fadeIn();jQuery(".portfolio-tabs").fadeIn();jQuery(".loading-container").fadeOut();jQuery(".portfolio-two .portfolio-wrapper, .portfolio-three .portfolio-wrapper, .portfolio-four .portfolio-wrapper").isotope({itemSelector:".portfolio-item",layoutMode:"fitRows",transformsEnabled:false});jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})});var t=jQuery(".portfolio-masonry .portfolio-wrapper");imagesLoaded(t,function(){jQuery(".portfolio-wrapper").fadeIn();jQuery(".portfolio-tabs").fadeIn();jQuery(".loading-container").fadeOut();var e=t.parent().hasClass("portfolio-grid-2");var n;if(e){n=2}else{n=3}t.isotope({itemSelector:".portfolio-item",layoutMode:"masonry",transformsEnabled:false,masonry:{columnWidth:t.width()/n}});jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})})}if(jQuery().flexslider){var n;if(!Number(js_local_vars.status_vimeo)){function r(e){var t=$f(e);var n=jQuery("#"+e).parents("li");t.addEvent("play",function(t){jQuery("#"+e).parents("li").parent().parent().flexslider("pause")});t.addEvent("pause",function(t){if(jQuery(n).attr("data-loop")=="yes"){jQuery("#"+e).parents("li").parent().parent().flexslider("pause")}else{jQuery("#"+e).parents("li").parent().parent().flexslider("play")}})}var i=jQuery(".flexslider").find("iframe"),s;jQuery(".flexslider").find("iframe").each(function(){var e=jQuery(this).attr("id");if(e){$f(e).addEvent("ready",r)}});function o(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else{e.attachEvent(t,n,false)}}}jQuery(".full-video, .video-shortcode, .wooslider .slide-content").not("#bbpress-forums full-video, #bbpress-forums .video-shortcode, #bbpress-forums .wooslider .slide-content").fitVids();jQuery("#bbpress-forums").fitVids();jQuery(".tfs-slider").each(function(){var t=this;var n=jQuery(t).find("li").get(0);if(jQuery(t).parents(".post-content").length>=1){jQuery(t).data("parallax",0)}if(cssua.ua.tablet_pc){jQuery(t).data("full_screen",0);jQuery(t).data("parallax",0)}if(cssua.ua.mobile){jQuery(t).data("parallax",0)}r=0;if(jQuery("#wpadminbar").length>=1){var r=jQuery("#wpadminbar").height()}if(jQuery(t).data("full_screen")==1){var i=jQuery(window).height();if(jQuery(t).parents("#sliders-container").next().hasClass("header-wrapper")){i=i+(e-r)}if(Modernizr.mq("only screen and (max-width: 800px)")){var i=jQuery(window).height()-(e+r)}jQuery(t).find("video").each(function(){var e=jQuery(this).width()/jQuery(this).height();var n=e*i;var r="-"+(n-jQuery(t).width())/2+"px";if(jQuery(window).width()>n){n="100%";r=0}jQuery(this).width(n);jQuery(this).css("left",r)})}else{var s=jQuery(t).data("slider_width");var i=parseInt(jQuery(t).data("slider_height"))}if(jQuery(t).data("full_screen")==1){jQuery(t).css("max-width","100%");jQuery(t).find(".slides, .background").css("width","100%")}jQuery(t).parents(".fusion-slider-container").css("height",i);jQuery(t).css("height",i);jQuery(t).find(".background, .mobile_video_image").css("height",i);if(jQuery(".layout-boxed-mode").length>=1){var o=jQuery(".layout-boxed-mode #wrapper").width();jQuery(t).css("width",o);jQuery(t).css("left",Math.ceil(jQuery(window).width()/2));jQuery(t).css("margin-left","-"+o/2+"px");jQuery(t).find(".slides, .background").css("width","100%")}if(cssua.ua.mobile){jQuery(t).find("a.button").each(function(){jQuery(this).removeClass("xlarge large medium button-xlarge button-large button-medium");jQuery(this).addClass("small button-small")});jQuery(t).find("li").each(function(){jQuery(this).attr("data-autoplay","no");jQuery(this).data("autoplay","no")})}jQuery(t).find("a.button").each(function(){jQuery(this).data("old",jQuery(this).attr("class"))});if(Modernizr.mq("only screen and (max-width: 800px)")){jQuery(t).find("a.button").each(function(){jQuery(this).data("old",jQuery(this).attr("class"));jQuery(this).removeClass("xlarge large medium button-xlarge button-large button-medium");jQuery(this).addClass("small button-small")})}else{jQuery(t).find("a.button").each(function(){jQuery(this).attr("class",jQuery(this).data("old"))})}if(jQuery(t).data("parallax")==1){jQuery(window).scroll(function(){if(jQuery(window).scrollTop()>=jQuery(t).parents("#sliders-container").position().top+jQuery(t).parents("#sliders-container").height()){jQuery(t).css("display","none")}else{jQuery(t).css("display","block")}})}jQuery(window).on("resize",function(){var e=0;var n=jQuery(".header-wrapper").height();if(orig_logo_height+parseInt(orig_logo_container_margin_top.replace("px",""))+parseInt(orig_logo_container_margin_bottom.replace("px",""))>orig_menu_height){n=orig_logo_height+parseInt(orig_logo_container_margin_top.replace("px",""))+parseInt(orig_logo_container_margin_bottom.replace("px",""))>orig_menu_height}else{n=orig_menu_height}if(jQuery("#wpadminbar").length>=1){var e=jQuery("#wpadminbar").height()}if(jQuery(t).data("full_screen")==1){var r=jQuery(window).height();if(jQuery(t).parents("#sliders-container").next().hasClass("header-wrapper")){r=r+(n-e)}if(Modernizr.mq("only screen and (max-width: 800px)")){var r=jQuery(window).height()-(n+e)}jQuery(t).find("video").each(function(){var e=jQuery(this).width()/jQuery(this).height();var n=e*jQuery(window).height();var r="-"+(n-jQuery(t).width())/2+"px";if(jQuery(window).width()>n){n="100%";r=0}jQuery(this).width(n);jQuery(this).css("left",r)})}else{var i=jQuery(t).data("slider_width");if(i.indexOf("%")!=-1){i=jQuery(t).data("first_slide_width");if(i<jQuery(t).data("slider_width")){i=jQuery(t).data("slider_width")}var s=true}else{i=parseInt(jQuery(t).data("slider_width"))}var r=parseInt(jQuery(t).data("slider_height"));var o=r/i;if(o<.5){o=.5}var r=o*jQuery(window).width();if(r>parseInt(jQuery(t).data("slider_height"))){r=parseInt(jQuery(t).data("slider_height"))}if(r<200){r=300}jQuery(t).find("video").each(function(){var e=jQuery(this).width()/jQuery(this).height();var n=e*r;if(n<i&&!jQuery(t).hasClass("full-width-slider")){n=i}var o="-"+(n-jQuery(t).width())/2+"px";var u=jQuery(window).width();if(jQuery(t).parents(".post-content").length>=1){u=jQuery(t).width()}if(u>n&&s==true&&jQuery(t).data("full_screen")!=1){n="100%";o=0}jQuery(this).width(n);jQuery(this).css("left",o)});if(Modernizr.mq("only screen and (max-width: 800px)")){jQuery(t).find("a.button").each(function(){jQuery(this).removeClass("xlarge large medium button-xlarge button-large button-medium");jQuery(this).addClass("small button-small")})}else{jQuery(t).find("a.button").each(function(){jQuery(this).attr("class",jQuery(this).data("old"))})}}if(jQuery(t).data("full_screen")==1){jQuery(t).css("max-width","100%");jQuery(t).find(".slides, .background").css("width","100%")}jQuery(t).parents(".fusion-slider-container").css("height",r);jQuery(t).css("height",r);jQuery(t).find(".background, .mobile_video_image").css("height",r);if(jQuery(".layout-boxed-mode").length>=1){var u=jQuery(".layout-boxed-mode #wrapper").width();jQuery(t).css("width",u);jQuery(t).css("left",Math.ceil(jQuery(window).width()/2));jQuery(t).css("margin-left","-"+u/2+"px");jQuery(t).find(".slides, .background").css("width","100%")}if(jQuery(t).data("parallax")==1&&!Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(t).css("position","fixed");if(jQuery(".header-wrapper").css("position")!="absolute"){jQuery(".header-wrapper").css("position","relative");jQuery(t).parents(".fusion-slider-container").css("margin-top","-"+n+"px")}jQuery("#main, .footer-area, #footer, .page-title-container").css("position","relative");jQuery("#main, .footer-area, #footer, .page-title-container").css("z-index","3");jQuery(".header-wrapper").css("z-index","5");jQuery(".header-wrapper").css("height",n);jQuery(t).find(".flex-direction-nav li a").css("-webkit-transform","translate(0, "+n/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("-ms-transform","translate(0, "+n/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("-o-transform","translate(0, "+n/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("-moz-transform","translate(0, "+n/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("transform","translate(0, "+n/2+"px)");if(jQuery(t).hasClass("fixed-width-slider")){var a="-"+jQuery(t).width()/2+"px";jQuery(t).css("left","50%");jQuery(t).css("margin-left",a)}jQuery(t).find(".flex-control-nav").css("bottom",n/2)}else if(jQuery(t).data("parallax")==1&&Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(t).css("position","relative");jQuery(t).css("left","0");jQuery(t).css("margin-left","0");if(jQuery(".header-wrapper").css("position")!="absolute"){jQuery(".header-wrapper").css("position","relative")}jQuery("#main, .footer-area, #footer, .page-title-container").css("position","relative");jQuery("#main, .footer-area, #footer, .page-title-container").css("z-index","3");jQuery(".header-wrapper").css("z-index","5");jQuery(".header-wrapper").css("height","auto");jQuery(t).parents(".fusion-slider-container").css("margin-top","");jQuery(t).find(".flex-direction-nav li a").css("-webkit-transform","translate(0, 0)");jQuery(t).find(".flex-direction-nav li a").css("-ms-transform","translate(0, 0)");jQuery(t).find(".flex-direction-nav li a").css("-o-transform","translate(0, 0)");jQuery(t).find(".flex-direction-nav li a").css("-moz-transform","translate(0, 0)");jQuery(t).find(".flex-direction-nav li a").css("transform","translate(0, 0)");jQuery(t).find(".flex-control-nav").css("bottom",0)}if(Modernizr.mq("only screen and (max-width: 640px)")){jQuery(t).parents(".fusion-slider-container").css("height",r);jQuery(t).css("height",r);jQuery(t).find(".background, .mobile_video_image").css("height",r);var f=jQuery(t).find(".slide-content-container");jQuery(f).each(function(){var e="-"+jQuery(this).find(".slide-content").height()/2+"px";var t="0px";jQuery(this).css("margin-top",e);jQuery(this).css("padding-top",t)})}else if(Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(t).parents(".fusion-slider-container").css("height",r);jQuery(t).css("height",r);jQuery(t).find(".background, .mobile_video_image").css("height",r);var f=jQuery(t).find(".slide-content-container");jQuery(f).each(function(){var e="-"+jQuery(this).find(".slide-content").height()/2+"px";var t="0px";jQuery(this).css("margin-top",e);jQuery(this).css("padding-top",t)})}else{jQuery(t).parents(".fusion-slider-container").css("height",r);jQuery(t).css("height",r);jQuery(t).find(".background, .mobile_video_image").css("height",r);var f=jQuery(t).find(".slide-content-container");jQuery(f).each(function(){jQuery(this).css("-webkit-transform","");jQuery(this).css("-ms-transform","");jQuery(this).css("-o-transform","");jQuery(this).css("-moz-transform","");jQuery(this).css("transform","");var e="-"+jQuery(this).find(".slide-content").height()/2+"px";if(jQuery(t).data("parallax")=="1"&&jQuery(t).parents(".post-content").length==0){var r=n/2}jQuery(this).css("margin-top",e);jQuery(this).css("padding-top",r)})}if(cssua.ua.mobile&&cssua.ua.mobile!="ipad"){jQuery(t).parents(".fusion-slider-container").css("height","auto");jQuery(t).find(".mobile_video_image").each(function(){var e=jQuery(".mobile_video_image").css("background-image").replace("url(","").replace(")","");if(e){var n=new Image;n.name=e;n.src=e;n.onload=function(){var e=this.height/this.width;var n=e*jQuery(window).width();jQuery(t).find(".mobile_video_image").css("height",n);if(n<r){jQuery(t).css("height",n)}}}})}if(Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(".header-wrapper").css("height","")}});jQuery(t).find("video").each(function(){jQuery(this)[0].pause()});jQuery(t).flexslider({animation:jQuery(t).data("animation"),slideshow:jQuery(t).data("autoplay"),slideshowSpeed:jQuery(t).data("slideshow_speed"),animationSpeed:jQuery(t).data("animation_speed"),controlNav:Boolean(Number(jQuery(t).data("pagination_circles"))),directionNav:Boolean(Number(jQuery(t).data("nav_arrows"))),animationLoop:Boolean(Number(jQuery(t).data("loop"))),smoothHeight:true,pauseOnHover:false,useCSS:false,video:true,touch:true,prevText:"&#xe61e;",nextText:"&#xe620;",start:function(r){i=0;if(jQuery("#wpadminbar").length>=1){var i=jQuery("#wpadminbar").height()}if(jQuery(t).data("full_screen")==1){var s=jQuery(window).height();if(jQuery(t).parents("#sliders-container").next().hasClass("header-wrapper")){s=s+(e-i)}if(Modernizr.mq("only screen and (max-width: 1000px)")){var s=jQuery(window).height()-(e+i)}jQuery(t).find("video").each(function(){var e=jQuery(this).width()/jQuery(this).height();var n=e*s;var r="-"+(n-jQuery(t).width())/2+"px";if(jQuery(window).width()>n){n="100%";r=0}jQuery(this).width(n);jQuery(this).css("left",r)})}else{var o=jQuery(t).data("slider_width");if(o.indexOf("%")!=-1){o=jQuery(n).find(".background-image").data("imgwidth");if(!o&&!cssua.ua.mobile){o=jQuery(n).find("video").width()}if(!o){o=940}jQuery(t).data("first_slide_width",o);if(o<jQuery(t).data("slider_width")){o=jQuery(t).data("slider_width")}var u=true}else{o=parseInt(jQuery(t).data("slider_width"))}var s=parseInt(jQuery(t).data("slider_height"));var a=s/o;if(a<.5){a=.5}var s=a*jQuery(window).width();if(s>parseInt(jQuery(t).data("slider_height"))){s=parseInt(jQuery(t).data("slider_height"))}if(s<200){s=300}jQuery(t).find("video").each(function(){var e=jQuery(this).width()/jQuery(this).height();var n=e*s;if(n<o&&!jQuery(t).hasClass("full-width-slider")){n=o}var r="-"+(n-jQuery(t).width())/2+"px";var i=jQuery(window).width();if(jQuery(t).parents(".post-content").length>=1){i=jQuery(t).width()}if(i>n&&u==true&&jQuery(t).data("full_screen")!=1){n="100%";r=0}jQuery(this).width(n);jQuery(this).css("left",r)})}jQuery(t).parents(".fusion-slider-container").css("max-height",s);jQuery(t).parents(".fusion-slider-container").css("height",s);jQuery(t).css("height",s);jQuery(t).find(".background, .mobile_video_image").css("height",s);if(cssua.ua.mobile&&cssua.ua.mobile!="ipad"){jQuery(t).parents(".fusion-slider-container").css("height","auto");jQuery(t).find(".mobile_video_image").each(function(){var e=jQuery(".mobile_video_image").css("background-image").replace("url(","").replace(")","");if(e){var n=new Image;n.name=e;n.src=e;n.onload=function(){var e=this.height/this.width;var n=e*jQuery(window).width();if(n<s){jQuery(t).find(".mobile_video_image").css("height",n)}}}});if(jQuery(r.slides.eq(r.currentSlide)).find("video").length>=1&&jQuery(r.slides.eq(r.currentSlide)).find(".mobile_video_image").length>=1){var f=jQuery(r.slides.eq(r.currentSlide)).find(".mobile_video_image").css("background-image").replace("url(","").replace(")","");if(f){var l=new Image;l.name=f;l.src=f;l.onload=function(){var e=this.height/this.width;var n=e*jQuery(window).width();if(n<s){jQuery(t).css("height",n)}}}}}if(jQuery(t).data("parallax")==1&&!Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(t).css("position","fixed");if(jQuery(".header-wrapper").css("position")!="absolute"){jQuery(".header-wrapper").css("position","relative");jQuery(t).parents(".fusion-slider-container").css("margin-top","-"+e+"px")}jQuery("#main, .footer-area, #footer, .page-title-container").css("position","relative");jQuery("#main, .footer-area, #footer, .page-title-container").css("z-index","3");jQuery(".header-wrapper").css("z-index","5");jQuery(".header-wrapper").css("height",e);jQuery(t).find(".flex-direction-nav li a").css("-webkit-transform","translate(0, "+e/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("-ms-transform","translate(0, "+e/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("-o-transform","translate(0, "+e/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("-moz-transform","translate(0, "+e/2+"px)");jQuery(t).find(".flex-direction-nav li a").css("transform","translate(0, "+e/2+"px)");if(jQuery(t).data("full_screen")==1){jQuery(r).find(".flex-control-nav").css("bottom",e/2)}else{jQuery(r).find(".flex-control-nav").css("bottom",0)}if(jQuery(t).hasClass("fixed-width-slider")){var c="-"+jQuery(t).width()/2+"px";jQuery(t).css("left","50%");jQuery(t).css("margin-left",c)}}else if(jQuery(t).data("parallax")==1&&Modernizr.mq("only screen and (max-width: 1000px)")){jQuery(r).find(".flex-control-nav").css("bottom",0)}if(Modernizr.mq("only screen and (max-width: 640px)")){var h=jQuery(t).find(".slide-content-container");jQuery(h).each(function(){var e="-"+jQuery(this).find(".slide-content").height()/2+"px";var t="0px";jQuery(this).css("margin-top",e);jQuery(this).css("padding-top",t)})}else if(Modernizr.mq("only screen and (max-width: 800px)")){var h=jQuery(t).find(".slide-content-container");jQuery(h).each(function(){var e="-"+jQuery(this).find(".slide-content").height()/2+"px";var t="0px";jQuery(this).css("margin-top",e);jQuery(this).css("padding-top",t)})}else{var h=jQuery(t).find(".slide-content-container");jQuery(h).each(function(){jQuery(this).css("-webkit-transform","");jQuery(this).css("-ms-transform","");jQuery(this).css("-o-transform","");jQuery(this).css("-moz-transform","");jQuery(this).css("transform","");var n="-"+jQuery(this).find(".slide-content").height()/2+"px";if(jQuery(t).data("parallax")=="1"&&jQuery(t).parents(".post-content").length==0){var r=e/2}jQuery(this).css("margin-top",n);jQuery(this).css("padding-top",r)})}jQuery(r.slides.eq(r.currentSlide)).find("video").each(function(){if(jQuery(this).parents("li").attr("data-autoplay")=="yes"){jQuery(this)[0].play()}});jQuery(r.slides.eq(r.currentSlide)).find("iframe").each(function(){if(jQuery(this).parents("li").attr("data-autoplay")=="yes"){this.contentWindow.postMessage('{"event":"command","func":"'+"playVideo"+'","args":""}',"*")}});fusion_reanimate_slider();if(typeof r.slides!=="undefined"&&r.slides.eq(r.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(r.slides.eq(r.currentSlide).find("iframe").attr("id"),{events:{onReady:onPlayerReady(r.slides.eq(r.currentSlide)),onStateChange:onPlayerStateChange(r.slides.eq(r.currentSlide).find("iframe").attr("id"),r)}})})}if(!Number(js_local_vars.status_vimeo)){$f(r.slides.eq(r.currentSlide).find("iframe")[0]).api("pause");if(jQuery(r.slides.eq(r.currentSlide)).data("autoplay")=="yes"){$f(r.slides.eq(r.currentSlide).find("iframe")[0]).api("play")}if(jQuery(r.slides.eq(r.currentSlide)).data("mute")=="yes"){$f(r.slides.eq(r.currentSlide).find("iframe")[0]).api("setVolume",0)}}}},before:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_vimeo)){jQuery(t).find("iframe").each(function(){$f(jQuery(this)[0]).api("pause")});if(jQuery(e.slides.eq(e.currentSlide)).data("autoplay")=="yes"){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("play")}if(jQuery(e.slides.eq(e.currentSlide)).data("mute")=="yes"){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("setVolume",0)}}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onReady:onPlayerReady(e.slides.eq(e.currentSlide)),onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}u(e);fusion_reanimate_slider()},after:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onReady:onPlayerReady(e.slides.eq(e.currentSlide)),onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}if(!Number(js_local_vars.status_vimeo)){jQuery(t).find("iframe").each(function(){$f(jQuery(this)[0]).api("pause")});if(jQuery(e.slides.eq(e.currentSlide)).data("autoplay")=="yes"){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("play")}if(jQuery(e.slides.eq(e.currentSlide)).data("mute")=="yes"){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("setVolume",0)}}}u(e);jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})}})});if(js_local_vars.page_smoothHeight==="false"){page_smoothHeight=false}else{page_smoothHeight=true}jQuery(".grid-layout .flexslider").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:Number(js_local_vars.slideshow_speed),video:true,smoothHeight:page_smoothHeight,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;",start:function(e){if(typeof e.slides!=="undefined"&&e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}},before:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_vimeo)){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("pause")}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}u(e)}},after:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})}});jQuery(".fusion-flexslider").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:js_local_vars.slideshow_speed,video:true,smoothHeight:true,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;"});if(js_local_vars.flex_smoothHeight==="false"){flex_smoothHeight=false}else{flex_smoothHeight=true}jQuery(".flexslider").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:js_local_vars.slideshow_speed,video:true,smoothHeight:flex_smoothHeight,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;",start:function(e){if(typeof e.slides!=="undefined"&&e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}},before:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_vimeo)){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("pause")}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}u(e)}},after:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})}});function u(e){jQuery(e).find("iframe").each(function(e){var t="stopVideo";this.contentWindow.postMessage('{"event":"command","func":"'+t+'","args":""}',"*");if(jQuery(this).parents("li").css("opacity")==1&&jQuery(this).parents("li").attr("data-autoplay")=="yes"){this.contentWindow.postMessage('{"event":"command","func":"'+"playVideo"+'","args":""}',"*");if(jQuery(this).parents("li").attr("data-mute")=="yes"){this.contentWindow.postMessage('{"event":"command","func":"'+"mute"+'","args":""}',"*")}}});jQuery(e).find("video").each(function(e){jQuery(this)[0].pause();if(jQuery(this).parents("li").css("opacity")==1&&jQuery(this).parents("li").attr("data-autoplay")=="yes"){jQuery(this)[0].play()}})}jQuery(".flex-next, .flex-prev").click(function(){})}if(jQuery().isotope){var a=jQuery(".grid-layout").width()/2-22;jQuery(".grid-layout .post").css("width",a);jQuery(".grid-layout").isotope({layoutMode:"masonry",itemSelector:".post",transformsEnabled:false,masonry:{columnWidth:a,gutterWidth:40}});var a=jQuery(".grid-layout-3").width()/3-30;jQuery(".grid-layout-3 .post").css("width",a);jQuery(".grid-layout-3").isotope({layoutMode:"masonry",itemSelector:".post",transformsEnabled:false,masonry:{columnWidth:a,gutterWidth:40}});var a=jQuery(".grid-layout-4").width()/4-35;jQuery(".grid-layout-4 .post").css("width",a);jQuery(".grid-layout-4").isotope({layoutMode:"masonry",itemSelector:".post",transformsEnabled:false,masonry:{columnWidth:a,gutterWidth:40}})}if(!Boolean(Number(js_local_vars.avada_rev_styles))){jQuery(".rev_slider_wrapper").each(function(){if(jQuery(this).length>=1&&jQuery(this).find(".tp-bannershadow").length==0){jQuery('<div class="shadow-left">').appendTo(this);jQuery('<div class="shadow-right">').appendTo(this);jQuery(this).addClass("avada-skin-rev")}})}});jQuery(window).load(function(e){var t=jQuery(".header-social").height();if(jQuery(window).width()<765){if(jQuery(".header-social").find(".alignleft").height()>jQuery(".header-social").find(".alignright").height()){t=jQuery(".header-social").find(".alignleft").height()}else{t=jQuery(".header-social").find(".alignright").height()}}jQuery(".header-social .menu > li").height(t);jQuery(".header-social .menu > li").css("line-height",t+"px");if(jQuery(".top-menu .cart").width()>150){new_width=jQuery(".top-menu .cart").outerWidth()+2;jQuery(".top-menu .cart-contents").css("width",new_width+"px");new_width-=2;jQuery(".top-menu .cart-content a").css("width",new_width+"px")}if(jQuery().prettyPhoto){var n={overlay_gallery:Boolean(Number(js_local_vars.lightbox_gallery)),autoplay_slideshow:Boolean(Number(js_local_vars.lightbox_autoplay)),show_title:Boolean(Number(js_local_vars.lightbox_title)),show_desc:Boolean(Number(js_local_vars.lightbox_desc))};if(js_local_vars.lightbox_animation_speed){n.animation_speed=js_local_vars.lightbox_animation_speed.toLowerCase()}if(js_local_vars.lightbox_slideshow_speed){n.slideshow=js_local_vars.lightbox_slideshow_speed}if(js_local_vars.lightbox_opacity){n.opacity=js_local_vars.lightbox_opacity}if(!Boolean(Number(js_local_vars.lightbox_social))){n.social_tools=""}var r=n;jQuery("a[rel^='prettyPhoto']").prettyPhoto(n);if(Boolean(Number(js_local_vars.lightbox_post_images))){jQuery(".single-post .post-content a").has("img").prettyPhoto(n)}jQuery(".lightbox-enabled a").has("img").prettyPhoto(n);var i="desk";if(Modernizr.mq("only screen and (max-width: 600px)")||Modernizr.mq("only screen and (max-height: 520px)")){i="mobile";jQuery("a[rel^='prettyPhoto']").unbind("click");if(Boolean(Number(js_local_vars.lightbox_post_images))){jQuery(".single-post .post-content a").has("img").unbind("click")}jQuery(".lightbox-enabled a").has("img").unbind("click")}jQuery(window).on("resize",function(){if((Modernizr.mq("only screen and (max-width: 600px)")||Modernizr.mq("only screen and (max-height: 520px)"))&&i=="desk"){jQuery("a[rel^='prettyPhoto']").unbind("click.prettyphoto");if(Boolean(Number(js_local_vars.lightbox_post_images))){jQuery(".single-post .post-content a").has("img").unbind("click.prettyphoto")}jQuery(".lightbox-enabled a").has("img").unbind("click.prettyphoto");i="mobile"}else if(!Modernizr.mq("only screen and (max-width: 600px)")&&!Modernizr.mq("only screen and (max-height: 520px)")&&i=="mobile"){jQuery("a[rel^='prettyPhoto']").prettyPhoto(n);if(Boolean(Number(js_local_vars.lightbox_post_images))){jQuery(".single-post .post-content a").has("img").prettyPhoto(n)}jQuery(".lightbox-enabled a").has("img").prettyPhoto(n);i="desk"}})}if(js_local_vars.sidenav_behavior=="Click"){jQuery(".side-nav li a").on("click",function(e){if(jQuery(this).parent(".page_item_has_children").length){if(jQuery(this).parent().find("> .children").length&&!jQuery(this).parent().find("> .children").is(":visible")){jQuery(this).parent().find("> .children").stop(true,true).slideDown("slow")}else{jQuery(this).parent().find("> .children").stop(true,true).slideUp("slow")}}if(jQuery(this).parent(".page_item_has_children.current_page_item").length){return false}})}else{jQuery(".side-nav li").hoverIntent({over:function(){if(jQuery(this).find("> .children").length){jQuery(this).find("> .children").stop(true,true).slideDown("slow")}},out:function(){if(jQuery(this).find(".current_page_item").length==0&&jQuery(this).hasClass("current_page_item")==false){jQuery(this).find(".children").stop(true,true).slideUp("slow")}},timeout:500})}if(jQuery().eislideshow){var s={autoplay:Boolean(Number(js_local_vars.tfes_autoplay))};if(js_local_vars.tfes_animation){s.animation=js_local_vars.tfes_animation}if(js_local_vars.tfes_interval){s.slideshow_interval=js_local_vars.tfes_interval}if(js_local_vars.tfes_speed){s.speed=js_local_vars.tfes_speed}if(js_local_vars.tfes_width){s.thumbMaxWidth=js_local_vars.tfes_width}jQuery("#ei-slider").eislideshow(s)}var o=window.devicePixelRatio>1?true:false;if(js_local_vars.custom_icon_image_retina&&o){jQuery(".fusion-social-networks a.custom").each(function(){jQuery(this).find("img").attr("src",js_local_vars.custom_icon_image_retina);jQuery(this).find("img").attr("width",js_local_vars.retina_icon_width);jQuery(this).find("img").attr("height",js_local_vars.retina_icon_height)})}var u=jQuery("ul#navigation > li > a > .iclflag");var a=u.height();u.css("margin-top",+a/-2+"px");var u=jQuery(".top-menu > ul > li > a > .iclflag");var a=u.height();u.css("margin-top",+a/-2+"px");if(js_local_vars.blog_pagination_type=="Infinite Scroll"){jQuery("#posts-container").infinitescroll({navSelector:"div.pagination",nextSelector:"a.pagination-next",itemSelector:"div.post, .timeline-date",loading:{finishedMsg:js_local_vars.infinite_blog_finished_msg,msgText:js_local_vars.infinite_blog_text},errorCallback:function(){if(jQuery("#posts-container").hasClass("isotope")){jQuery("#posts-container").isotope("reLayout")}}},function(e){if(jQuery().isotope){jQuery(e).hide();imagesLoaded(e,function(){jQuery(e).fadeIn();if(jQuery("#posts-container").hasClass("isotope")){jQuery("#posts-container").isotope("appended",jQuery(e));jQuery("#posts-container").isotope("reLayout")}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})});var t=jQuery(".grid-layout").width()/2-22;jQuery(".grid-layout .post").css("width",t);var t=jQuery(".grid-layout-3").width()/3-30;jQuery(".grid-layout-3 .post").css("width",t);var t=jQuery(".grid-layout-4").width()/4-35;jQuery(".grid-layout-4 .post").css("width",t);if(jQuery("#posts-container").hasClass("isotope")){jQuery("#posts-container").isotope("reLayout")}}jQuery(".flexslider").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:js_local_vars.slideshow_speed,video:true,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;",start:function(e){if(typeof e.slides!=="undefined"&&e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}},before:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_vimeo)){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("pause")}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}},after:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})}});if(jQuery().prettyPhoto){jQuery("a[rel^='prettyPhoto']").prettyPhoto(n)}jQuery(e).each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()});if(jQuery().isotope&&jQuery("#posts-container").hasClass("isotope")){jQuery("#posts-container").isotope("reLayout")}})}jQuery(".posts-container-infinite.grid-layout").infinitescroll({navSelector:"div.pagination",nextSelector:"a.pagination-next",itemSelector:"div.post, .timeline-date",loading:{finishedMsg:js_local_vars.infinite_blog_finished_msg,msgText:js_local_vars.infinite_blog_text},errorCallback:function(){if(jQuery(".posts-container-infinite.grid-layout").hasClass("isotope")){jQuery(".posts-container-infinite.grid-layout").isotope("reLayout")}}},function(e){if(jQuery().isotope){jQuery(e).hide();imagesLoaded(e,function(){jQuery(e).fadeIn();if(jQuery(".posts-container-infinite.grid-layout").hasClass("isotope")){jQuery(".posts-container-infinite.grid-layout").isotope("appended",jQuery(e));jQuery(".posts-container-infinite.grid-layout").isotope("reLayout")}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})});var t=jQuery(".grid-layout").width()/2-22;jQuery(".grid-layout .post").css("width",t);var t=jQuery(".grid-layout-3").width()/3-30;jQuery(".grid-layout-3 .post").css("width",t);var t=jQuery(".grid-layout-4").width()/4-35;jQuery(".grid-layout-4 .post").css("width",t);if(jQuery(".posts-container-infinite.grid-layout").hasClass("isotope")){jQuery(".posts-container-infinite.grid-layout").isotope("reLayout")}}jQuery(".flexslider").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:js_local_vars.slideshow_speed,video:true,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;",start:function(e){if(typeof e.slides!=="undefined"&&e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}},before:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_vimeo)){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("pause")}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}playVideoAndPauseOthers(e)}},after:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})}});if(jQuery().prettyPhoto){jQuery("a[rel^='prettyPhoto']").prettyPhoto(n)}jQuery(e).each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()});if(jQuery().isotope&&jQuery(".posts-container-infinite.grid-layout").hasClass("isotope")){jQuery(".posts-container-infinite.grid-layout").isotope("reLayout")}});jQuery(".posts-container-infinite .blog-timeline-layout").infinitescroll({navSelector:"div.pagination",nextSelector:"a.pagination-next",itemSelector:"div.post, .timeline-date",loading:{finishedMsg:js_local_vars.infinite_blog_finished_msg,msgText:js_local_vars.infinite_blog_text},errorCallback:function(){if(jQuery(".posts-container-infinite .blog-timeline-layout").hasClass("isotope")){jQuery(".posts-container-infinite .blog-timeline-layout").isotope("reLayout")}}},function(e){if(jQuery().isotope){jQuery(e).hide();imagesLoaded(e,function(){jQuery(e).fadeIn();if(jQuery(".posts-container-infinite .blog-timeline-layout").hasClass("isotope")){jQuery(".posts-container-infinite .blog-timeline-layout").isotope("appended",jQuery(e));jQuery(".posts-container-infinite .blog-timeline-layout").isotope("reLayout")}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})});var t=jQuery(".grid-layout").width()/2-22;jQuery(".grid-layout .post").css("width",t);var t=jQuery(".grid-layout-3").width()/3-30;jQuery(".grid-layout-3 .post").css("width",t);var t=jQuery(".grid-layout-4").width()/4-35;jQuery(".grid-layout-4 .post").css("width",t);if(jQuery(".posts-container-infinite .blog-timeline-layout").hasClass("isotope")){jQuery(".posts-container-infinite .blog-timeline-layout").isotope("reLayout")}}jQuery(".flexslider").flexslider({slideshow:Boolean(Number(js_local_vars.slideshow_autoplay)),slideshowSpeed:js_local_vars.slideshow_speed,video:true,pauseOnHover:false,useCSS:false,prevText:"&#xf104;",nextText:"&#xf105;",start:function(e){if(typeof e.slides!=="undefined"&&e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}},before:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(!Number(js_local_vars.status_vimeo)){$f(e.slides.eq(e.currentSlide).find("iframe")[0]).api("pause")}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}playVideoAndPauseOthers(e)}},after:function(e){if(e.slides.eq(e.currentSlide).find("iframe").length!==0){if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","-30px")}else{jQuery(e).find(".flex-control-nav").hide()}if(!Number(js_local_vars.status_yt)&&window.yt_vid_exists==true){YT_ready(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})}}else{if(Number(js_local_vars.pagination_video_slide)){jQuery(e).find(".flex-control-nav").css("bottom","0px")}else{jQuery(e).find(".flex-control-nav").show()}}jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})}});if(jQuery().prettyPhoto){jQuery("a[rel^='prettyPhoto']").prettyPhoto(n)}jQuery(e).each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()});if(jQuery().isotope&&jQuery(".posts-container-infinite .blog-timeline-layout").hasClass("isotope")){jQuery(".posts-container-infinite .blog-timeline-layout").isotope("reLayout")}});if(js_local_vars.grid_pagination_type=="Infinite Scroll"){jQuery(".portfolio-masonry .portfolio-wrapper").infinitescroll({navSelector:"div.pagination",nextSelector:"a.pagination-next",itemSelector:"div.portfolio-item",loading:{finishedMsg:js_local_vars.infinite_finished_msg,msgText:js_local_vars.infinite_blog_text},errorCallback:function(){},contentSelector:jQuery(".portfolio-masonry .portfolio-wrapper")},function(e){if(jQuery().isotope){jQuery(e).hide();imagesLoaded(jQuery(e),function(){jQuery(e).fadeIn();jQuery(".portfolio-masonry .portfolio-wrapper").isotope("appended",jQuery(e));if(jQuery().prettyPhoto){jQuery("a[rel^='prettyPhoto']").prettyPhoto(n)}jQuery(e).each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()});jQuery(".portfolio-masonry .portfolio-wrapper").isotope("reLayout");jQuery('[data-spy="scroll"]').each(function(){var e=jQuery(this).scrollspy("refresh")})})}})}if(jQuery(".sticky-header").length){jQuery(".sticky-header").init_sticky_header()}});
 
// jQuery Validate
(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");}return;}var validator=$.data(this[0],"validator");if(validator){return validator;}this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.validateDelegate(":submit","click",function(event){if(validator.settings.submitHandler){validator.submitButton=event.target;}if($(event.target).hasClass("cancel")){validator.cancelSubmit=true;}});this.submit(function(event){if(validator.settings.debug){event.preventDefault();}function handle(){var hidden;if(validator.settings.submitHandler){if(validator.submitButton){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}validator.settings.submitHandler.call(validator,validator.currentForm,event);if(validator.submitButton){hidden.remove();}return false;}return true;}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}return handle();}else{validator.focusInvalid();return false;}});}return validator;},valid:function(){if($(this[0]).is("form")){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,"validator").settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}var data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value);},filled:function(a){return!!$.trim(""+a.value);},unchecked:function(a){return!a.checked;}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);}if(params.constructor!==Array){params=[params];}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;});});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"invalid",validClass:"valid",errorElement:"em",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element,event){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);}this.addWrapper(this.errorsFor(element)).hide();}},onfocusout:function(element,event){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element,event){if(event.which===9&&this.elementValue(element)===""){return;}else if(element.name in this.submitted||element===this.lastElement){this.element(element);}},onclick:function(element,event){if(element.name in this.submitted){this.element(element);}else if(element.parentNode.name in this.submitted){this.element(element.parentNode);}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass).parent().addClass('state-error').removeClass('state-success');}else{$(element).addClass(errorClass).removeClass(validClass).parent().addClass('state-error').removeClass('state-success');}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass).parent().addClass('state-success').removeClass('state-error');}else{$(element).removeClass(errorClass).addClass(validClass).parent().addClass('state-success').removeClass('state-error');}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required",remote:"Please fix this field",email:"Please enter a valid email address",url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date (ISO)",number:"Please enter a valid number",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number",equalTo:"Please enter the same value again",maxlength:$.validator.format("Please enter no more than {0} characters"),minlength:$.validator.format("Please enter at least {0} characters"),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long"),range:$.validator.format("Please enter a value between {0} and {1}"),max:$.validator.format("Please enter a value less than or equal to {0}"),min:$.validator.format("Please enter a value greater than or equal to {0}")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);}$.each(value,function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");if(validator.settings[eventType]){validator.settings[eventType].call(validator,this[0],event);}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}return this.valid();},element:function(element){element=this.validationTargetFor(this.clean(element));this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element)!==false;if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);}else{this.defaultShowErrors();}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue");},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj){count++;}return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()===0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;}).length===1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);}if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;}rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){var errorClass=this.settings.errorClass.replace(" ",".");return $(this.settings.errorElement+"."+errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},elementValue:function(element){var type=$(element).attr("type"),val=$(element).val();if(type==="radio"||type==="checkbox"){return $("input[name='"+$(element).attr("name")+"']:checked").val();}if(typeof val==="string"){return val.replace(/\r/g,"");}return val;},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules();var dependencyMismatch=false;var val=this.elementValue(element);var result;for(var method in rules){var rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"){dependencyMismatch=true;continue;}dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occured when checking element "+element.id+", check the '"+rule.method+"' method.",e);}throw e;}}if(dependencyMismatch){return;}if(this.objectLength(rules)){this.successList.push(element);}return true;},customDataMessage:function(element,method){return $(element).data("msg-"+method.toLowerCase())||(element.attributes&&$(element).attr("data-msg-"+method.toLowerCase()));},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);}this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}return toToggle;},defaultShowErrors:function(){var i,elements;for(i=0;this.errorList[i];i++){var error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);}this.showLabel(error.element,error.message);}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass(this.settings.validClass).addClass(this.settings.errorClass);label.html(message);}else{label=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(element)).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}if(!this.labelContainer.append(label).length){if(this.settings.errorPlacement){this.settings.errorPlacement(label,$(element));}else{label.insertAfter(element);}}}if(!message&&this.settings.success){label.text("");if(typeof this.settings.success==="string"){label.addClass(this.settings.success);}else{this.settings.success(label,element);}}this.toShow=this.toShow.add(label);},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")===name;});},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name).not(this.settings.ignore)[0];}return element;},checkable:function(element){return(/radio|checkbox/i).test(element.type);},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']");},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}delete this.pending[element.name];if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;}else{$.extend(this.classRuleSettings,className);}},classRules:function(element){var rules={};var classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});}return rules;},attributeRules:function(element){var rules={};var $element=$(element);for(var method in $.validator.methods){var value;if(method==="required"){value=$element.get(0).getAttribute(method);if(value===""){value=true;}value=!!value;}else{value=$element.attr(method);}if(value){rules[method]=value;}else if($element[0].getAttribute("type")===method){rules[method]=true;}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}return rules;},dataRules:function(element){var method,value,rules={},$element=$(element);for(method in $.validator.methods){value=$element.data("rule-"+method.toLowerCase());if(value!==undefined){rules[method]=value;}}return rules;},staticRules:function(element){var rules={};var validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(['minlength','maxlength'],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(['rangelength'],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}else if(typeof rules[this]==="string"){parts=rules[this].split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])];}}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}return rules;},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0;}if(this.checkable(element)){return this.getLength(value,element)>0;}return $.trim(value).length>0;},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch";}var previous=this.previousValue(element);if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param==="string"&&{url:param}||param;if(previous.old===value){return previous.valid;}previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true||response==="true";if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);delete validator.invalid[element.name];validator.showErrors();}else{var errors={};var message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message(value):message;validator.invalid[element.name]=true;validator.showErrors(errors);}previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param;},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length<=param;},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch";}if(/[^0-9 \-]+/.test(value)){return false;}var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9;}}nCheck+=nDigit;bEven=!bEven;}return(nCheck%10)===0;},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout){target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();});}return value===target.val();}}});$.format=$.validator.format;}(jQuery));(function($){var pendingRequests={};if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}pendingRequests[port]=xhr;}});}else{var ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}return(pendingRequests[port]=ajax.apply(this,arguments));}return ajax.apply(this,arguments);};}}(jQuery));(function($){$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});}});}(jQuery));

// Select2
!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e){var t,n,r,i;if(!e||e.length<1)return e;for(t="",n=0,r=e.length;r>n;n++)i=e.charAt(n),t+=I[i]||i;return t}function r(e,t){for(var n=0,r=t.length;r>n;n+=1)if(s(e,t[n]))return n;return-1}function i(){var t=e(F);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function s(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function o(t,n){var r,i,s;if(null===t||t.length<1)return[];for(r=t.split(n),i=0,s=r.length;s>i;i+=1)r[i]=e.trim(r[i]);return r}function u(e){return e.outerWidth(!1)-e.width()}function a(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function f(n){n.on("mousemove",function(n){var r=j;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function c(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var n=l(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){r(e.target,t.get())>=0&&n(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function v(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!P){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);P=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),e("body").append(P)}return P.text(t.val()),P.width()}function y(t,n,r){var i,s,o=[];i=t.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),i=n.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=r(this),s&&o.push(s))})),t.attr("class",o.join(" "))}function b(e,t,r,i){var s=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),o=t.length;return 0>s?(r.push(i(e)),void 0):(r.push(i(e.substring(0,s))),r.push("<span class='select2-match'>"),r.push(i(e.substring(s,s+o))),r.push("</span>"),r.push(i(e.substring(s+o,e.length))),void 0)}function w(e){var t={"\\":"&#92;","&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function E(n){var r,i=null,s=n.quietMillis||100,o=n.url,u=this;return function(a){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,s=o,f=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},c=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(u,a.term,a.page,a.context):null,s="function"==typeof s?s.call(u,a.term,a.page,a.context):s,i&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(c,n.params.call(u)):e.extend(c,n.params)),e.extend(c,{url:s,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,a.page);a.callback(t)}}),i=f.call(u,c)},s)}}function S(t){var n,r,i=t,s=function(e){return""+e.text};e.isArray(i)&&(r=i,i={results:r}),e.isFunction(i)===!1&&(r=i,i=function(){return r});var o=i();return o.text&&(s=o.text,e.isFunction(s)||(n=o.text,s=function(e){return e[n]})),function(t){var n,r=t.term,o={results:[]};return""===r?(t.callback(i()),void 0):(n=function(i,o){var u,a;if(i=i[0],i.children){u={};for(a in i)i.hasOwnProperty(a)&&(u[a]=i[a]);u.children=[],e(i.children).each2(function(e,t){n(t,u.children)}),(u.children.length||t.matcher(r,s(u),i))&&o.push(u)}else t.matcher(r,s(i),i)&&o.push(i)},e(i().results).each2(function(e,t){n(t,o.results)}),t.callback(o),void 0)}}function x(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]};e(r?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===s||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function T(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function N(t){return e.isFunction(t)?t():t}function C(t){var n=0;return e.each(t,function(e,t){t.children?n+=C(t.children):n++}),n}function k(e,n,r,i){var o,u,a,f,l,c=e,h=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(u=-1,a=0,f=i.tokenSeparators.length;f>a&&(l=i.tokenSeparators[a],u=e.indexOf(l),!(u>=0));a++);if(0>u)break;if(o=e.substring(0,u),e=e.substring(u+l.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n),o!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o))){for(h=!1,a=0,f=n.length;f>a;a++)if(s(i.id(o),i.id(n[a]))){h=!0;break}h||r(o)}}return c!==e?e:void 0}function L(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2===t){var A,O,M,_,D,P,H,B,j={x:0,y:0},A={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case A.SHIFT:case A.CTRL:case A.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},F="<div class='select2-measure-scrollbar'></div>",I={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};H=e(document),D=function(){var e=1;return function(){return e++}}(),H.on("mousemove",function(e){j.x=e.pageX,j.y=e.pageY}),O=L(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,s,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(N(n.containerCss)),this.container.addClass(N(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",v),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(N(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",v),this.results=r=this.container.find(o),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",v),f(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop();i>0&&0>=s-i?(r.scrollTop(0),v(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),v(e))}),a(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var u=n.element.prop("disabled");u===t&&(u=!1),this.enable(!u);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),B=B||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,u,a,f=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var o,u=this.opts.id;o=function(r,i,a){var l,c,h,p,d,v,m,g,y,b;for(r=n.sortResults(r,i,s),l=0,c=r.length;c>l;l+=1)h=r[l],d=h.disabled===!0,p=!d&&u(h)!==t,v=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+a),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&m.addClass("select2-disabled"),v&&m.addClass("select2-result-with-children"),m.addClass(f.opts.formatResultCssClass(h)),g=e(document.createElement("div")),g.addClass("select2-result-label"),b=n.formatResult(h,g,s,f.opts.escapeMarkup),b!==t&&g.html(b),m.append(g),v&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(h.children,y,a+1),m.append(y)),m.data("select2-data",h),i.append(m)},o(i,r,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(u=n.id,n.id=function(e){return e[u]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,s,o={results:[],more:!1},u=e.term;s=function(t,n){var r;t.is("option")?e.matcher(u,t.text(),t)&&n.push(f.optionToData(t)):t.is("optgroup")&&(r=f.optionToData(t),t.children().each2(function(e,t){s(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(e,t){s(t,o.results)}),e.callback(o)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(a=n.element.data("ajax-url"),a&&a.length>0&&(n.ajax.url=a),n.query=E.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(o(t.val(),n.separator)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n,r=this.opts.element;r.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=r.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=r.prop("readonly");n===t&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(N(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(N(this.opts.dropdownCssClass))}),r.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,r,i,s,o=this.dropdown,u=this.container.offset(),a=this.container.outerHeight(!1),f=this.container.outerWidth(!1),l=o.outerHeight(!1),c=e(window),h=c.width(),p=c.height(),d=c.scrollLeft()+h,v=c.scrollTop()+p,m=u.top+a,g=u.left,y=v>=m+l,b=u.top-l>=this.body().scrollTop(),w=o.outerWidth(!1),E=d>=g+w,S=o.hasClass("select2-drop-above");S?(n=!0,!b&&y&&(r=!0,n=!1)):(n=!1,!y&&b&&(r=!0,n=!0)),r&&(o.hide(),u=this.container.offset(),a=this.container.outerHeight(!1),f=this.container.outerWidth(!1),l=o.outerHeight(!1),d=c.scrollLeft()+h,v=c.scrollTop()+p,m=u.top+a,g=u.left,w=o.outerWidth(!1),E=d>=g+w,o.show()),this.opts.dropdownAutoWidth?(s=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),w=o.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:B.width),w>f?f=w:w=f,E=d>=g+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,g-=t.left),E||(g=u.left+f-w),i={left:g,width:f},n?(i.bottom=p-u.top,i.top="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(i.top=m,i.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend(i,N(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,r="scroll."+n,i="resize."+n,s="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,r=e("#select2-drop");r.length>0&&(n=r.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+r+" "+s,function(){o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return N(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,r,i,s,o,u,a=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return a.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),r=e(t[n]),i=r.offset().top+r.outerHeight(!0),n===t.length-1&&(u=a.find("li.select2-more-results"),u.length>0&&(i=u.offset().top+u.outerHeight(!0))),s=a.offset().top+a.outerHeight(!0),i>s&&a.scrollTop(a.scrollTop()+(i-s)),o=r.offset().top-a.offset().top,0>o&&"none"!=r.css("display")&&a.scrollTop(a.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,i,s=this.findHighlightableChoices();return 0===arguments.length?r(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.removeHighlight(),n=e(s[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),i=n.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),r=this.resultsPage+1,i=this,s=this.search.val(),o=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:s,page:r,context:o}),i.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function r(){f.removeClass("select2-active"),h.positionDropdown()}function i(e){l.html(e),r()}var o,u,a,f=this.search,l=this.results,c=this.opts,h=this,p=f.val(),d=e.data(this.container,"select2-last-term");if((n===!0||!d||!s(p,d))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){a=++this.queryCount;var v=this.getMaximumSelectionSize();if(v>=1&&(o=this.data(),e.isArray(o)&&o.length>=v&&T(c.formatSelectionTooBig,"formatSelectionTooBig")))return i("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(v)+"</li>"),void 0;if(f.val().length<c.minimumInputLength)return T(c.formatInputTooShort,"formatInputTooShort")?i("<li class='select2-no-results'>"+c.formatInputTooShort(f.val(),c.minimumInputLength)+"</li>"):i(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(c.maximumInputLength&&f.val().length>c.maximumInputLength)return T(c.formatInputTooLong,"formatInputTooLong")?i("<li class='select2-no-results'>"+c.formatInputTooLong(f.val(),c.maximumInputLength)+"</li>"):i(""),void 0;c.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+c.formatSearching()+"</li>"),f.addClass("select2-active"),this.removeHighlight(),u=this.tokenize(),u!=t&&null!=u&&f.val(u),this.resultsPage=1,c.query({element:c.element,term:f.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(o){var u;if(a==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==f.val()&&(u=this.opts.createSearchChoice.call(h,f.val(),o.results),u!==t&&null!==u&&h.id(u)!==t&&null!==h.id(u)&&0===e(o.results).filter(function(){return s(h.id(this),h.id(u))}).length&&o.results.unshift(u)),0===o.results.length&&T(c.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+c.formatNoMatches(f.val())+"</li>"),void 0;l.empty(),h.opts.populateResults.call(this,l,o.results,{term:f.val(),page:this.resultsPage,context:null}),o.more===!0&&T(c.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),r(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,r,i,s,o,u;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(r=n.split(";"),s=0,o=r.length;o>s;s+=1)if(u=r[s].replace(/\s/g,""),i=u.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.css("width",r)}}),M=L(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,r=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)return v(e),void 0;switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),v(e),void 0;case A.ENTER:return this.selectHighlighted(),v(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case A.ESC:return this.cancel(e),v(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.ESC){if(this.opts.openOnEnter===!1&&e.which===A.ENTER)return v(e),void 0;if(e.which==A.DOWN||e.which==A.UP||e.which==A.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),v(e),void 0}return e.which==A.DELETE||e.which==A.BACKSPACE?(this.opts.allowClear&&this.clear(),v(e),void 0):void 0}})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),v(t)})),r.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){v(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var u=s(i,t.id(r));return u&&(o=r),u},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return s(i.id(t.data("select2-data")),i.opts.element.val())?(r=e,!1):void 0}),n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(C(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),s(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),r=this.opts.formatSelectionCssClass(e,i),r!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:s});else{if(!e&&0!==e)return this.clear(n),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r),void 0)}}),_=L(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=o(n.val(),t.separator),u=[];t.query({matcher:function(n,r,o){var a=e.grep(i,function(e){return s(e,t.id(o))}).length;return a&&u.push(o),a},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var o=i[n],a=0;a<u.length;a++){var f=u[a];if(s(o,t.id(f))){e.push(f),u.splice(a,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var r=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),s=d(this.search);if(n.length&&(e.which==A.LEFT||e.which==A.RIGHT||e.which==A.BACKSPACE||e.which==A.DELETE||e.which==A.ENTER)){var o=n;return e.which==A.LEFT&&r.length?o=r:e.which==A.RIGHT?o=i.length?i:null:e.which===A.BACKSPACE?(this.unselect(n.first()),this.search.width(10),o=r.length?r:i):e.which==A.DELETE?(this.unselect(n.first()),this.search.width(10),o=i.length?i:null):e.which==A.ENTER&&(o=null),this.selectChoice(o),v(e),o&&o.length||this.open(),void 0}if((e.which===A.BACKSPACE&&1==this.keydowns||e.which==A.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),v(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),v(e),void 0;case A.ENTER:return this.selectHighlighted(),v(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case A.ESC:return this.cancel(e),v(e),void 0}if(e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.BACKSPACE&&e.which!==A.ESC){if(e.which===A.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)&&v(e),e.which===A.ENTER&&v(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],s=this;e(t).each(function(){r(s.id(this),n)<0&&(n.push(s.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,s=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),u=e("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?o:u,f=this.id(n),l=this.getVal();r=this.opts.formatSelection(n,a.find("div"),this.opts.escapeMarkup),r!=t&&a.find("div").replaceWith("<div>"+r+"</div>"),i=this.opts.formatSelectionCssClass(n,a.find("div")),i!=t&&a.addClass(i),s&&a.find(".select2-search-choice-close").on("mousedown",v).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),v(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),l.push(f),this.setVal(l)},unselect:function(t){var n,i,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(i=r(this.id(n),s))>=0;)s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults();var o=e.Event("select2-removing");o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var i=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),u=this;s.each2(function(e,t){var n=u.id(t.data("select2-data"));r(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&u.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&T(u.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+u.opts.formatNoMatches(u.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-u(this.search)},resizeSearch:function(){var e,t,n,r,i,s=u(this.search);e=g(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,e>i&&(i=n-s),40>i&&(i=n-s),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var r=0;r<e.length;r++)s(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n>0&&n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,s=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:i}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),r&&s.triggerChange(s.buildChangeDetails(i,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),r=e.map(t,function(e){return s.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var n,i,s,o,u,a=Array.prototype.slice.call(arguments,0),f=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],c=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===a.length||"object"==typeof a[0])n=0===a.length?{}:e.extend({},a[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?u=n.element.prop("multiple"):(u=n.multiple||!1,"tags"in n&&(n.multiple=u=!0)),i=u?new _:new M,i.init(n);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(r(a[0],f)<0)throw"Unknown method: "+a[0];if(o=t,i=e(this).data("select2"),i===t)return;if(s=a[0],"container"===s?o=i.container:"dropdown"===s?o=i.dropdown:(h[s]&&(s=h[s]),o=i[s].apply(i,a.slice(1))),r(a[0],l)>=0||r(a[0],c)&&1==a.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return b(e.text,n.term,i,r),i.join("")},formatSelection:function(e,n,r){return e?r(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:E,local:S,tags:x},util:{debounce:l,markMatch:b,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":O,single:M,multi:_}}}}(jQuery);

// Read more
(function(e){function t(t,s){this.element=t;this.options=e.extend({},r,s);e(this.element).data("max-height",this.options.maxHeight);delete this.options.maxHeight;if(this.options.embedCSS&&!i){var o=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }",u=document.createElement("style");u.type="text/css";u.styleSheet?u.styleSheet.cssText=o:u.appendChild(document.createTextNode(o));document.getElementsByTagName("head")[0].appendChild(u);i=!0}this._defaults=r;this._name=n;this.init()}var n="readmore",r={speed:100,maxHeight:200,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",beforeToggle:function(){},afterToggle:function(){}},i=!1;t.prototype={init:function(){var t=this;e(this.element).each(function(){var n=e(this),r=n.css("max-height").replace(/[^-\d\.]/g,"")>n.data("max-height")?n.css("max-height").replace(/[^-\d\.]/g,""):n.data("max-height");n.addClass("readmore-js-section");"none"!=n.css("max-height")&&n.css("max-height","none");n.data("boxHeight",n.outerHeight(!0));if(n.outerHeight(!0)<r)return!0;n.after(e(t.options.moreLink).on("click",function(e){t.toggleSlider(this,n,e)}).addClass("readmore-js-toggle"));n.data("sliderHeight",r);n.css({height:r})})},toggleSlider:function(t,n,r){r.preventDefault();var i=this,s=newLink="";r=!1;s=e(n).data("sliderHeight");e(n).height()==s?(s=e(n).data().boxHeight+"px",newLink="lessLink",r=!0):newLink="moreLink";i.options.beforeToggle(t,n,r);e(n).animate({height:s},{duration:i.options.speed});e(t).replaceWith(e(i.options[newLink]).on("click",function(e){i.toggleSlider(this,n,e)}).addClass("readmore-js-toggle"));i.options.afterToggle(t,n,r)}};e.fn[n]=function(r){var i=arguments;if(void 0===r||"object"===typeof r)return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new t(this,r))});if("string"===typeof r&&"_"!==r[0]&&"init"!==r)return this.each(function(){var s=e.data(this,"plugin_"+n);s instanceof t&&"function"===typeof s[r]&&s[r].apply(s,Array.prototype.slice.call(i,1))})}})(jQuery);

// Owl Carousel
!function(a,b,c,d){function e(b,c){b.owlCarousel={name:"Owl Carousel",author:"Bartosz Wojciechowski",version:"2.0.0-beta.2.1"},this.options=a.extend({},l,c),this._options=a.extend({},l,this.options),this.itemData=a.extend({},m),this.dom=a.extend({},n),this.width=a.extend({},o),this.num=a.extend({},p),this.pos=a.extend({},q),this.drag=a.extend({},r),this.speed=a.extend({},s),this.state=a.extend({},t),this.e=a.extend({},u),this.plugins={},this.suppressedEvents={},this.dom.el=b,this.dom.$el=a(b);for(var d in e.Plugins)this.plugins[d]=new e.Plugins[d](this);this.init()}function f(a){var b,d,e=c.createElement("div"),f=a;for(b in f)if(d=f[b],"undefined"!=typeof e.style[d])return e=null,[d,b];return[!1]}function g(){return f(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function h(){return f(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function i(){return f(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function j(){return"ontouchstart"in b||!!navigator.msMaxTouchPoints}function k(){return b.navigator.msPointerEnabled}var l,m,n,o,p,q,r,s,t,u;l={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},m={index:!1,indexAbs:!1,posLeft:!1,clone:!1,active:!1,loaded:!1,lazyLoad:!1,current:!1,width:!1,center:!1,page:!1,hasVideo:!1,playVideo:!1},n={el:null,$el:null,stage:null,$stage:null,oStage:null,$oStage:null,$items:null,$oItems:null,$cItems:null,$content:null},o={el:0,stage:0,item:0,prevWindow:0,cloneLast:0},p={items:0,oItems:0,cItems:0,active:0,merged:[]},q={start:0,max:0,maxValue:0,prev:0,current:0,currentAbs:0,stage:0,items:[],lsCurrent:0},r={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},s={onDragEnd:300,css2speed:0},t={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},u={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Plugins={},e.prototype.init=function(){if(this.trigger("initialize"),this.dom.$el.hasClass(this.options.baseClass)||this.dom.$el.addClass(this.options.baseClass),this.dom.$el.hasClass(this.options.themeClass)||this.dom.$el.addClass(this.options.themeClass),this.options.rtl&&this.dom.$el.addClass("owl-rtl"),this.browserSupport(),this.sortOptions(),this.setResponsiveOptions(),this.options.autoWidth&&this.state.imagesLoaded!==!0){var a,b,c;if(a=this.dom.$el.find("img"),b=this.options.nestedItemSelector?"."+this.options.nestedItemSelector:d,c=this.dom.$el.children(b).width(),a.length&&0>=c)return this.preloadAutoWidthImages(a),!1}this.width.prevWindow=this.windowWidth(),this.createStage(),this.fetchContent(),this.eventsCall(),this.internalEvents(),this.dom.$el.addClass("owl-loading"),this.refresh(!0),this.dom.$el.removeClass("owl-loading").addClass("owl-loaded"),this.trigger("initialized"),this.addTriggerableEvents()},e.prototype.sortOptions=function(){var a,b,c,d,e=[];a=this.options.responsive,this.responsiveSorted={};for(b in a)e.push(b);for(e=e.sort(function(a,b){return a-b}),c=0;c<e.length;c++)d=e[c],this.responsiveSorted[d]=a[d]},e.prototype.setResponsiveOptions=function(){if(this.options.responsive===!1)return!1;var a,b,c,d,e;a=this.windowWidth(),resOpt=this.options.responsive;for(d in this._options)"responsive"!==d&&(this.options[d]=this._options[d]);for(b in this.responsiveSorted)if(a>=b){e=b;for(c in this.responsiveSorted[e])this.options[c]=this.responsiveSorted[e][c]}this.num.breakpoint=e,this.options.responsiveClass&&this.dom.$el.attr("class",function(a,b){return b.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+e)},e.prototype.optionsLogic=function(){this.dom.$el.toggleClass("owl-center",this.options.center),this.options.loop&&this.num.oItems<this.options.items&&(this.options.loop=!1),this.options.autoWidth&&(this.options.stagePadding=!1,this.options.merge=!1)},e.prototype.createStage=function(){var b=c.createElement("div"),d=c.createElement(this.options.stageElement);b.className="owl-stage-outer",d.className="owl-stage",b.appendChild(d),this.dom.el.appendChild(b),this.dom.oStage=b,this.dom.$oStage=a(b),this.dom.stage=d,this.dom.$stage=a(d),b=null,d=null},e.prototype.createItemContainer=function(){var b=c.createElement(this.options.itemElement);return b.className=this.options.itemClass,a(b)},e.prototype.fetchContent=function(b){this.dom.$content=b?b instanceof jQuery?b:a(b):this.options.nestedItemSelector?this.dom.$el.find("."+this.options.nestedItemSelector).not(".owl-stage-outer"):this.dom.$el.children().not(".owl-stage-outer"),this.num.oItems=this.dom.$content.length,0!==this.num.oItems&&this.initStructure()},e.prototype.initStructure=function(){this.createNormalStructure()},e.prototype.createNormalStructure=function(){var a,b;for(a=0;a<this.num.oItems;a++)b=this.createItemContainer(),this.initializeItemContainer(b,this.dom.$content[a]),this.dom.$stage.append(b);this.dom.$content=null},e.prototype.createCustomStructure=function(a){var b,c;for(b=0;a>b;b++)c=this.createItemContainer(),this.createItemContainerData(c),this.dom.$stage.append(c)},e.prototype.initializeItemContainer=function(a,b){this.trigger("change",{property:{name:"item",value:a}}),this.createItemContainerData(a),a.append(b),this.trigger("changed",{property:{name:"item",value:a}})},e.prototype.createItemContainerData=function(b,c){var d=a.extend({},this.itemData);c&&a.extend(d,c.data("owl-item")),b.data("owl-item",d)},e.prototype.cloneItemContainer=function(a){var b=a.clone(!0,!0).addClass("cloned");return this.createItemContainerData(b,b),b.data("owl-item").clone=!0,b},e.prototype.updateLocalContent=function(){var b,c;for(this.dom.$oItems=this.dom.$stage.find("."+this.options.itemClass).filter(function(){return a(this).data("owl-item").clone===!1}),this.num.oItems=this.dom.$oItems.length,b=0;b<this.num.oItems;b++)c=this.dom.$oItems.eq(b),c.data("owl-item").index=b},e.prototype.loopClone=function(){if(!this.options.loop||this.num.oItems<this.options.items)return!1;var b,c,d,e=this.options.items,f=this.num.oItems-1;for(this.options.stagePadding&&1===this.options.items&&(e+=1),this.num.cItems=2*e,d=0;e>d;d++)b=this.cloneItemContainer(this.dom.$oItems.eq(d)),c=this.cloneItemContainer(this.dom.$oItems.eq(f-d)),this.dom.$stage.append(b),this.dom.$stage.prepend(c);this.dom.$cItems=this.dom.$stage.find("."+this.options.itemClass).filter(function(){return a(this).data("owl-item").clone===!0})},e.prototype.reClone=function(){null!==this.dom.$cItems&&(this.dom.$cItems.remove(),this.dom.$cItems=null,this.num.cItems=0),this.options.loop&&this.loopClone()},e.prototype.calculate=function(){var a,b,c,d,e,f,g,h=0,i=0;for(this.width.el=this.dom.$el.width()-2*this.options.stagePadding,this.width.view=this.dom.$el.width(),c=this.width.el-this.options.margin*(1===this.options.items?0:this.options.items-1),this.width.el=this.width.el+this.options.margin,this.width.item=(c/this.options.items+this.options.margin).toFixed(3),this.dom.$items=this.dom.$stage.find(".owl-item"),this.num.items=this.dom.$items.length,this.options.autoWidth&&this.dom.$items.css("width",""),this.pos.items=[],this.num.merged=[],d=this.options.rtl?this.options.center?-(this.width.el/2):0:this.options.center?this.width.el/2:0,this.width.mergeStage=0,a=0;a<this.num.items;a++)this.options.merge?(g=this.dom.$items.eq(a).find("[data-merge]").attr("data-merge")||1,this.options.mergeFit&&g>this.options.items&&(g=this.options.items),this.num.merged.push(parseInt(g)),this.width.mergeStage+=this.width.item*this.num.merged[a]):this.num.merged.push(1),f=this.width.item*this.num.merged[a],this.options.autoWidth&&(f=this.dom.$items.eq(a).width()+this.options.margin,this.options.rtl?this.dom.$items[a].style.marginLeft=this.options.margin+"px":this.dom.$items[a].style.marginRight=this.options.margin+"px"),this.pos.items.push(d),this.dom.$items.eq(a).data("owl-item").posLeft=h,this.dom.$items.eq(a).data("owl-item").width=f,this.options.rtl?(d+=f,h+=f):(d-=f,h-=f),i-=Math.abs(f),this.options.center&&(this.pos.items[a]=this.options.rtl?this.pos.items[a]+f/2:this.pos.items[a]-f/2);for(this.width.stage=Math.abs(this.options.autoWidth?this.options.center?i:d:i),e=this.num.oItems+this.num.cItems,b=0;e>b;b++)this.dom.$items.eq(b).data("owl-item").indexAbs=b;this.setMinMax(),this.setSizes()},e.prototype.setMinMax=function(){var a,b,c;if(b=this.dom.$oItems.eq(0).data("owl-item").indexAbs,this.pos.min=0,this.pos.minValue=this.pos.items[b],this.options.loop||(this.pos.max=this.num.oItems-1),this.options.loop&&(this.pos.max=this.num.oItems+this.options.items),this.options.loop||this.options.center||(this.pos.max=this.num.oItems-this.options.items),this.options.loop&&this.options.center&&(this.pos.max=this.num.oItems+this.options.items),this.pos.maxValue=this.pos.items[this.pos.max],!this.options.loop&&!this.options.center&&this.options.autoWidth||this.options.merge&&!this.options.center){for(c=this.options.rtl?1:-1,a=0;a<this.pos.items.length;a++)this.pos.items[a]*c<this.width.stage-this.width.el&&(this.pos.max=a+1);this.pos.maxValue=this.options.rtl?this.width.stage-this.width.el:-(this.width.stage-this.width.el),this.pos.items[this.pos.max]=this.pos.maxValue}this.pos.loop=this.options.center?this.pos.items[0]-this.pos.items[this.num.oItems]:-this.pos.items[this.num.oItems],this.num.oItems<this.options.items&&!this.options.center&&(this.pos.max=0,this.pos.maxValue=this.pos.items[0])},e.prototype.setSizes=function(){this.options.stagePadding!==!1&&(this.dom.oStage.style.paddingLeft=this.options.stagePadding+"px",this.dom.oStage.style.paddingRight=this.options.stagePadding+"px"),this.options.rtl?b.setTimeout(a.proxy(function(){this.dom.stage.style.width=this.width.stage+"px"},this),0):this.dom.stage.style.width=this.width.stage+"px";for(var c=0;c<this.num.items;c++)this.options.autoWidth||(this.dom.$items[c].style.width=this.width.item-this.options.margin+"px"),this.options.rtl?this.dom.$items[c].style.marginLeft=this.options.margin+"px":this.dom.$items[c].style.marginRight=this.options.margin+"px",1===this.num.merged[c]||this.options.autoWidth||(this.dom.$items[c].style.width=this.width.item*this.num.merged[c]-this.options.margin+"px");this.width.stagePrev=this.width.stage},e.prototype.responsive=function(){if(!this.num.oItems)return!1;var a=this.isElWidthChanged();return a?this.trigger("resize").isDefaultPrevented()?!1:(this.state.responsive=!0,this.refresh(),this.state.responsive=!1,void this.trigger("resized")):!1},e.prototype.refresh=function(a){return this.trigger("refresh"),this.setResponsiveOptions(),this.updateLocalContent(),this.optionsLogic(),0===this.num.oItems?!1:(this.dom.$stage.addClass("owl-refresh"),this.reClone(),this.calculate(),this.dom.$stage.removeClass("owl-refresh"),a?this.initPosition():this.jumpTo(this.pos.current,!1),this.state.orientation=b.orientation,this.watchVisibility(),void this.trigger("refreshed"))},e.prototype.updateActiveItems=function(){this.trigger("change",{property:{name:"items",value:this.dom.$items}});var a,b,c,d,e,f,g;for(a=0;a<this.num.items;a++)this.dom.$items.eq(a).data("owl-item").active=!1,this.dom.$items.eq(a).data("owl-item").current=!1,this.dom.$items.eq(a).removeClass(this.options.activeClass).removeClass(this.options.centerClass);for(this.num.active=0,padding=2*this.options.stagePadding,stageX=this.pos.stage+padding,view=this.options.rtl?this.width.view:-this.width.view,b=0;b<this.num.items;b++)c=this.dom.$items.eq(b),d=c.data("owl-item").posLeft,e=c.data("owl-item").width,f=this.options.rtl?d-e-padding:d-e+padding,(this.op(d,"<=",stageX)&&this.op(d,">",stageX+view)||this.op(f,"<",stageX)&&this.op(f,">",stageX+view))&&(this.num.active++,this.options.freeDrag&&!g&&(g=!0,this.pos.current=c.data("owl-item").index,this.pos.currentAbs=c.data("owl-item").indexAbs),c.data("owl-item").active=!0,c.data("owl-item").current=!0,c.addClass(this.options.activeClass),this.options.lazyLoad||(c.data("owl-item").loaded=!0),this.options.loop&&this.updateClonedItemsState(c.data("owl-item").index));this.options.center&&(this.dom.$items.eq(this.pos.currentAbs).addClass(this.options.centerClass).data("owl-item").center=!0),this.trigger("changed",{property:{name:"items",value:this.dom.$items}})},e.prototype.updateClonedItemsState=function(a){var b,c,d;for(this.options.center&&(b=this.dom.$items.eq(this.pos.currentAbs).data("owl-item").index),d=0;d<this.num.items;d++)c=this.dom.$items.eq(d),c.data("owl-item").index===a&&(c.data("owl-item").current=!0,c.data("owl-item").index===b&&c.addClass(this.options.centerClass))},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._resizer=a.proxy(function(){this.responsiveTimer()},this),this.e._responsiveCall=a.proxy(function(){this.responsive()},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.responsiveTimer=function(){return this.windowWidth()===this.width.prevWindow?!1:(b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._responsiveCall,this.options.responsiveRefreshRate),void(this.width.prevWindow=this.windowWidth()))},e.prototype.internalEvents=function(){var a=j(),d=k();this.dragType=a&&!d?["touchstart","touchmove","touchend","touchcancel"]:a&&d?["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]:["mousedown","mousemove","mouseup"],(a||d)&&this.options.touchDrag?this.on(c,this.dragType[3],this.e._onDragEnd):(this.dom.$stage.on("dragstart",function(){return!1}),this.options.mouseDrag?this.dom.stage.onselectstart=function(){return!1}:this.dom.$el.addClass("owl-text-select-on")),this.transitionEndVendor&&this.on(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd,!1),this.options.responsive!==!1&&this.on(b,"resize",this.e._resizer,!1),this.dragEvents()},e.prototype.dragEvents=function(){!this.options.touchDrag||"touchstart"!==this.dragType[0]&&"MSPointerDown"!==this.dragType[0]?this.options.mouseDrag&&"mousedown"===this.dragType[0]?this.on(this.dom.stage,this.dragType[0],this.e._onDragStart,!1):this.off(this.dom.stage,this.dragType[0],this.e._onDragStart):this.on(this.dom.stage,this.dragType[0],this.e._onDragStart,!1)},e.prototype.onDragStart=function(a){var d,e,f,g,h;if(d=a.originalEvent||a||b.event,3===d.which)return!1;if("mousedown"===this.dragType[0]&&this.dom.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.setSpeed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,e="touchstart"===d.type,f=e?a.targetTouches[0].pageX:d.pageX||d.clientX,g=e?a.targetTouches[0].pageY:d.pageY||d.clientY,this.drag.offsetX=this.dom.$stage.position().left-this.options.stagePadding,this.drag.offsetY=this.dom.$stage.position().top,this.options.rtl&&(this.drag.offsetX=this.dom.$stage.position().left+this.width.stage-this.width.el+this.options.margin),this.state.inMotion&&this.support3d)h=this.getTransformProperty(),this.drag.offsetX=h,this.animStage(h);else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=f-this.drag.offsetX,this.drag.startY=g-this.drag.offsetY,this.drag.start=f-this.drag.startX,this.drag.targetEl=d.target||d.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),this.on(c,this.dragType[1],this.e._onDragMove,!1),this.on(c,this.dragType[2],this.e._onDragEnd,!1)},e.prototype.onDragMove=function(a){var c,e,f,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e="touchmove"==c.type,f=e?c.targetTouches[0].pageX:c.pageX||c.clientX,g=e?c.targetTouches[0].pageY:c.pageY||c.clientY,this.drag.currentX=f-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.options.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.options.rtl?"left":"right"),this.options.loop?this.op(this.drag.currentX,">",this.pos.minValue)&&"right"===this.state.direction?this.drag.currentX-=this.pos.loop:this.op(this.drag.currentX,"<",this.pos.maxValue)&&"left"===this.state.direction&&(this.drag.currentX+=this.pos.loop):(h=this.options.rtl?this.pos.maxValue:this.pos.minValue,i=this.options.rtl?this.pos.minValue:this.pos.maxValue,j=this.options.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animStage(this.drag.updatedX)))},e.prototype.onDragEnd=function(){var a,b,d;if(this.state.isTouch){if("mousedown"===this.dragType[0]&&this.dom.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),a=this.drag.endTime-this.drag.startTime,b=Math.abs(this.drag.distance),(b>3||a>300)&&this.removeClick(this.drag.targetEl),d=this.closest(this.drag.updatedX),this.setSpeed(this.options.dragEndSpeed,!1,!0),this.animStage(this.pos.items[d]),this.options.pullDrag||this.drag.updatedX!==this.pos.items[d]||this.transitionEnd(),this.drag.distance=0,this.off(c,this.dragType[1],this.e._onDragMove),this.off(c,this.dragType[2],this.e._onDragEnd)}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on("click.preventClick",this.e._preventClick),b.setTimeout(function(){a(c).off("click.preventClick")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off("click.preventClick")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.dom.stage,null).getPropertyValue(this.vendorName+"transform"),a=a.replace(/matrix(3d)?\(|\)/g,"").split(","),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(a){var b,c=0,d=30;if(!this.options.freeDrag)for(b=0;b<this.num.items;b++)a>this.pos.items[b]-d&&a<this.pos.items[b]+d?c=b:this.op(a,"<",this.pos.items[b])&&this.op(a,">",this.pos.items[b+1||this.pos.items[b]-this.width.el])&&(c="left"===this.state.direction?b+1:b);return this.options.loop||(this.op(a,">",this.pos.minValue)?c=a=this.pos.min:this.op(a,"<",this.pos.maxValue)&&(c=a=this.pos.max)),this.options.freeDrag?a:(this.pos.currentAbs=c,this.pos.current=this.dom.$items.eq(c).data("owl-item").index,c)},e.prototype.animStage=function(b,c){b!==this.pos.stage&&c!==!0&&(this.trigger("translate"),this.state.inMotion=!0);var d=this.pos.stage=b,e=this.dom.stage.style;this.support3d?(translate="translate3d("+d+"px,0px, 0px)",e[this.transformVendor]=translate):this.state.isTouch?e.left=d+"px":this.dom.$stage.animate({left:d},this.speed.css2speed,this.options.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this)),this.onChange()},e.prototype.updatePosition=function(a){if(0===this.num.oItems||a===d)return!1;this.pos.prev=this.pos.currentAbs,this.state.revert||this.options.loop?this.state.revert||(a=a>=this.num.oItems?this.num.oItems-1:a):a=a>this.pos.max?this.pos.max:0>=a?0:a;var b=this.trigger("change",{property:{name:"position",value:a}});a=b.data?b.data:a,this.state.revert?(this.pos.current=this.dom.$items.eq(a).data("owl-item").index,this.pos.currentAbs=a):(this.pos.current=this.dom.$oItems.eq(a).data("owl-item").index,this.pos.currentAbs=this.dom.$oItems.eq(a).data("owl-item").indexAbs),this.trigger("changed",{property:{name:"position",value:a}})},e.prototype.setSpeed=function(a,b,c){var e,f,g=a,h=b;return(g===!1&&0!==g&&c!==!0||g===d)&&(e=Math.abs(h-this.pos.prev),e=0===e?1:e,e>6&&(e=6),g=e*this.options.smartSpeed),g===!1&&c===!0&&(g=this.options.smartSpeed),0===g&&(g=0),this.support3d?(f=this.dom.stage.style,f.webkitTransitionDuration=f.MsTransitionDuration=f.msTransitionDuration=f.MozTransitionDuration=f.OTransitionDuration=f.transitionDuration=g/1e3+"s"):this.speed.css2speed=g,this.speed.current=g,g},e.prototype.jumpTo=function(a,b){this.updatePosition(a),this.setSpeed(0),this.animStage(this.pos.items[this.pos.currentAbs],b)},e.prototype.to=function(c,d){if(this.options.loop){var e=c-this.pos.current,f=this.pos.currentAbs,g=this.pos.currentAbs,h=this.pos.currentAbs+e,i=0>g-h?!0:!1;this.state.revert=!0,h<this.options.items&&i===!1?(this.state.bypass=!0,f=this.num.items-(this.options.items-g)-this.options.items,this.jumpTo(f,!0)):h>=this.num.items-this.options.items&&i===!0&&(this.state.bypass=!0,f=g-this.num.oItems,this.jumpTo(f,!0)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.state.bypass=!1,this.updatePosition(f+e),this.setSpeed(d,this.pos.currentAbs),this.animStage(this.pos.items[this.pos.currentAbs]),this.state.revert=!1},this),30)}else this.updatePosition(c),this.setSpeed(d,this.pos.currentAbs),this.animStage(this.pos.items[this.pos.currentAbs])},e.prototype.next=function(a){a=a||!1,this.to(this.pos.current+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.pos.current-1,a)},e.prototype.initPosition=function(){if(!this.dom.$oItems)return!1;var a=this.options.startPosition,b=this.trigger("change",{property:{name:"position",value:a}});a=b.data||a,"number"==typeof a&&this.options.center||(a=0),this.dom.oStage.scrollLeft=0,this.jumpTo(a,!0),this.trigger("changed",{property:{name:"position",value:a}})},e.prototype.transitionEnd=function(a){if(a!==d){a.stopPropagation();var b=a.target||a.srcElement||a.originalTarget;if(b!==this.dom.stage)return!1}this.state.inMotion=!1,this.trigger("translated")},e.prototype.isElWidthChanged=function(){var a=this.dom.$el.width()-this.options.stagePadding,b=this.width.el+this.options.margin;return a!==b},e.prototype.windowWidth=function(){return this.options.responsiveBaseElement!==b?this.width.window=a(this.options.responsiveBaseElement).width():b.innerWidth?this.width.window=b.innerWidth:c.documentElement&&c.documentElement.clientWidth&&(this.width.window=c.documentElement.clientWidth),this.width.window},e.prototype.insertContent=function(a){this.dom.$stage.empty(),this.fetchContent(a),this.refresh()},e.prototype.addItem=function(a,b){var c=this.createItemContainer();b=b||0,this.initializeItemContainer(c,a),0===this.dom.$oItems.length?this.dom.$stage.append(c):-1!==q?this.dom.$oItems.eq(b).before(c):this.dom.$oItems.eq(b).after(c),this.refresh()},e.prototype.removeItem=function(a){this.dom.$oItems.eq(a).remove(),this.refresh()},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(){this.suppressedEvents[c]=!0,b.apply(this,[].slice.call(arguments,1)),delete this.suppressedEvents[c]},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.insertContent,add:this.addItem,remove:this.removeItem},a.proxy(function(a,c){this.dom.$el.on(a+".owl.carousel",b(c,a+".owl.carousel"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.dom.el)&&(this.dom.$el.removeClass("owl-hidden"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.dom.el)||(this.dom.$el.addClass("owl-hidden"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.onChange=function(){this.state.isTouch||this.state.bypass||(this.updateActiveItems(),this.storeInfo())},e.prototype.storeInfo=function(){this.info={items:this.options.items,allItems:this.num.oItems,currentPosition:this.pos.current,currentPage:this.pos.currentPage,allPages:this.num.allPages,windowWidth:this.width.window,elWidth:this.width.el,breakpoint:this.num.breakpoint},"function"==typeof this.options.info&&this.options.info.apply(this,[this.info,this.dom.el])},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr("src",f.src),e.css("opacity",1),c>=b.length&&(d.state.imagesLoaded=!0,d.init())},f.src=e.attr("src")||e.attr("data-src")||e.attr("data-src-retina")})},e.prototype.destroy=function(){this.dom.$el.hasClass(this.options.themeClass)&&this.dom.$el.removeClass(this.options.themeClass),this.options.responsive!==!1&&this.off(b,"resize",this.e._resizer),this.transitionEndVendor&&this.off(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd);for(var a in this.plugins)this.plugins[a].destroy();(this.options.mouseDrag||this.options.touchDrag)&&(this.off(this.dom.stage,this.dragType[0],this.e._onDragStart),this.options.mouseDrag&&this.off(c,this.dragType[3],this.e._onDragStart),this.options.mouseDrag&&(this.dom.$stage.off("dragstart",function(){return!1}),this.dom.stage.onselectstart=function(){})),this.dom.$el.off(".owl"),null!==this.dom.$cItems&&this.dom.$cItems.remove(),this.e=null,this.dom.$el.data("owlCarousel",null),delete this.dom.el.owlCarousel,this.dom.$stage.unwrap(),this.dom.$items.unwrap(),this.dom.$items.contents().unwrap(),this.dom=null},e.prototype.op=function(a,b,c){var d=this.options.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this.num.oItems,index:this.pos.current}},f=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),g=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend(e,c));return a.each(this.plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.suppressedEvents[g.type]||this.dom.$el.trigger(g),"function"==typeof this.options[f]&&this.options[f].apply(this,g),g},e.prototype.browserSupport=function(){if(this.support3d=i(),this.support3d){this.transformVendor=h();var a=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=a[g()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data("owlCarousel")||a(this).data("owlCarousel",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){LazyLoad=function(b){this.owl=b,this.owl.options=a.extend({},LazyLoad.Defaults,this.owl.options),this.owl.options.lazyLoad&&(this.handlers={"changed.owl.carousel":a.proxy(function(a){"items"==a.property.name&&a.property.value&&!a.property.value.is(":empty")&&this.check()},this)},this.owl.dom.$el.on(this.handlers))},LazyLoad.Defaults={lazyLoad:!1},LazyLoad.prototype.check=function(){var a,c,d,e,f=b.devicePixelRatio>1?"data-src-retina":"data-src";for(d=0;d<this.owl.num.items;d++)e=this.owl.dom.$items.eq(d),e.data("owl-item").current===!0&&e.data("owl-item").loaded===!1&&(c=e.find(".owl-lazy"),a=c.attr(f),a=a||c.attr("data-src"),a&&(c.css("opacity","0"),this.preload(c,e)))},LazyLoad.prototype.preload=function(c,d){var e,f,g;c.each(a.proxy(function(c,h){this.owl.trigger("load",null,"lazy"),e=a(h),f=new Image,g=e.attr(b.devicePixelRatio>1?"data-src-retina":"data-src"),g=g||e.attr("data-src"),f.onload=a.proxy(function(){d.data("owl-item").loaded=!0,e.is("img")?e.attr("src",f.src):e.css("background-image","url("+f.src+")"),e.css("opacity",1),this.owl.trigger("loaded",null,"lazy")},this),f.src=g},this))},LazyLoad.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.lazyLoad=LazyLoad}(window.Zepto||window.jQuery,window,document),function(a,b){AutoHeight=function(b){this.owl=b,this.owl.options=a.extend({},AutoHeight.Defaults,this.owl.options),this.handlers={"refreshed.owl.carousel changed.owl.carousel":a.proxy(function(){this.owl.options.autoHeight&&this.setHeight()},this)},this.owl.dom.$el.on(this.handlers)},AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.setHeight=function(){var a,c=this.owl.dom.$items.eq(this.owl.pos.currentAbs),d=this.owl.dom.$oStage,e=0;this.owl.dom.$oStage.hasClass(this.owl.options.autoHeightClass)||this.owl.dom.$oStage.addClass(this.owl.options.autoHeightClass),a=b.setInterval(function(){e+=1,c.data("owl-item").loaded?(d.height(c.height()+"px"),clearInterval(a)):500===e&&clearInterval(a)},100)},AutoHeight.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function(a,b,c){Video=function(b){this.owl=b,this.owl.options=a.extend({},Video.Defaults,this.owl.options),this.handlers={"resize.owl.carousel":a.proxy(function(a){this.owl.options.video&&!this.isInFullScreen()&&a.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":a.proxy(function(){this.owl.state.videoPlay&&this.stopVideo()},this),"refresh.owl.carousel refreshed.owl.carousel":a.proxy(function(a){return this.owl.options.video?void(this.refreshing="refresh"==a.type):!1},this),"changed.owl.carousel":a.proxy(function(a){this.refreshing&&"items"==a.property.name&&a.property.value&&!a.property.value.is(":empty")&&this.checkVideoLinks()},this)},this.owl.dom.$el.on(this.handlers),this.owl.dom.$el.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.playVideo(a)},this))},Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.checkVideoLinks=function(){var a,b,c;for(c=0;c<this.owl.num.items;c++)b=this.owl.dom.$items.eq(c),b.data("owl-item").hasVideo||(a=b.find(".owl-video"),a.length&&(this.owl.state.hasVideos=!0,this.owl.dom.$items.eq(c).data("owl-item").hasVideo=!0,a.css("display","none"),this.getVideoInfo(a,b)))},Video.prototype.getVideoInfo=function(a,b){var c,d,e,f,g=a.data("vimeo-id"),h=a.data("youtube-id"),i=a.data("width")||this.owl.options.videoWidth,j=a.data("height")||this.owl.options.videoHeight,k=a.attr("href");if(g)d="vimeo",e=g;else if(h)d="youtube",e=h;else{if(!k)throw new Error("Missing video link.");e=k.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),e[3].indexOf("youtu")>-1?d="youtube":e[3].indexOf("vimeo")>-1&&(d="vimeo"),e=e[6]}b.data("owl-item").videoType=d,b.data("owl-item").videoId=e,b.data("owl-item").videoWidth=i,b.data("owl-item").videoHeight=j,c={type:d,id:e},f=i&&j?'style="width:'+i+"px;height:"+j+'px;"':"",a.wrap('<div class="owl-video-wrapper"'+f+"></div>"),this.createVideoTn(a,c)},Video.prototype.createVideoTn=function(b,c){function d(a){f='<div class="owl-video-play-icon"></div>',e=k.options.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(e),b.after(f)}var e,f,g,h=b.find("img"),i="src",j="",k=this.owl;return this.owl.options.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(d(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(g="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",d(g)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){g=a[0].thumbnail_large,d(g),k.options.loop&&k.updateActiveItems()}}))},Video.prototype.stopVideo=function(){this.owl.trigger("stop",null,"video");var a=this.owl.dom.$items.eq(this.owl.state.videoPlayIndex);a.find(".owl-video-frame").remove(),a.removeClass("owl-video-playing"),this.owl.state.videoPlay=!1},Video.prototype.playVideo=function(b){this.owl.trigger("play",null,"video"),this.owl.state.videoPlay&&this.stopVideo();var c,d,e,f=a(b.target||b.srcElement),g=f.closest("."+this.owl.options.itemClass);e=g.data("owl-item").videoType,id=g.data("owl-item").videoId,width=g.data("owl-item").videoWidth||Math.floor(g.data("owl-item").width-this.owl.options.margin),height=g.data("owl-item").videoHeight||this.owl.dom.$stage.height(),"youtube"===e?c='<iframe width="'+width+'" height="'+height+'" src="http://www.youtube.com/embed/'+id+"?autoplay=1&v="+id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===e&&(c='<iframe src="http://player.vimeo.com/video/'+id+'?autoplay=1" width="'+width+'" height="'+height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),g.addClass("owl-video-playing"),this.owl.state.videoPlay=!0,this.owl.state.videoPlayIndex=g.data("owl-item").indexAbs,d=a('<div style="height:'+height+"px; width:"+width+'px" class="owl-video-frame">'+c+"</div>"),f.after(d)},Video.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d.parentNode).hasClass("owl-video-frame")&&(this.owl.setSpeed(0),this.owl.state.isFullScreen=!0),d&&this.owl.state.isFullScreen&&this.owl.state.videoPlay?!1:this.owl.state.isFullScreen?(this.owl.state.isFullScreen=!1,!1):this.owl.state.videoPlay&&this.owl.state.orientation!==b.orientation?(this.owl.state.orientation=b.orientation,!1):!0},Video.prototype.destroy=function(){var a,b;this.owl.dom.$el.off("click.owl.video");for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.video=Video}(window.Zepto||window.jQuery,window,document),function(a){Animate=function(b){this.owl=b,this.owl.options=a.extend({},Animate.Defaults,this.owl.options),this.swapping=!0,(this.owl.options.animateIn||this.owl.options.animateOut)&&(this.handlers={"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){this.swapping="translated"==a.type},this),"translate.owl.carousel":a.proxy(function(){this.swapping&&this.swap()},this)},this.owl.dom.$el.on(this.handlers))},Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(1!==this.owl.options.items||!this.owl.support3d)return!1;this.owl.setSpeed(0);var b,c,d,e,f=this.owl.dom.$items.eq(this.owl.pos.prev),g=Math.abs(f.data("owl-item").width)*this.owl.pos.prev,h=this.owl.dom.$items.eq(this.owl.pos.currentAbs),i=Math.abs(h.data("owl-item").width)*this.owl.pos.currentAbs;return this.owl.pos.currentAbs===this.owl.pos.prev?!1:(b=i-g,c=this.owl.options.animateIn,d=this.owl.options.animateOut,e=this.owl,removeStyles=function(){a(this).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(c).removeClass(d),e.transitionEnd()},d&&f.css({left:b+"px"}).addClass("animated owl-animated-out "+d).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",removeStyles),void(c&&h.addClass("animated owl-animated-in "+c).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",removeStyles)))},Animate.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.animate=Animate}(window.Zepto||window.jQuery,window,document),function(a,b,c){Autoplay=function(b){this.owl=b,this.owl.options=a.extend({},Autoplay.Defaults,this.owl.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":a.proxy(function(){this.autoplay()},this),"play.owl.autoplay":a.proxy(function(a,b,c){this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this.owl.options.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this.owl.options.autoplayHoverPause&&this.autoplay()},this)},this.owl.dom.$el.on(this.handlers)},Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype.autoplay=function(){this.owl.options.autoplay&&!this.owl.state.videoPlay?(b.clearInterval(this.apInterval),this.apInterval=b.setInterval(a.proxy(function(){this.play()},this),this.owl.options.autoplayTimeout)):(b.clearInterval(this.apInterval),this.autoplayState=!1)},Autoplay.prototype.play=function(a,d){return c.hidden===!0?!1:(this.owl.options.autoplay||(this.owl._options.autoplay=this.owl.options.autoplay=!0,this.owl._options.autoplayTimeout=this.owl.options.autoplayTimeout=a||this.owl.options.autoplayTimeout||4e3,this.owl._options.autoplaySpeed=d||this.owl.options.autoplaySpeed),this.owl.options.autoplay===!1||this.owl.state.isTouch||this.owl.state.isScrolling||this.owl.state.isSwiping||this.owl.state.inMotion?(b.clearInterval(this.apInterval),!1):(!this.owl.options.loop&&this.owl.pos.current>=this.owl.pos.max?(b.clearInterval(this.e._autoplay),this.owl.to(0)):this.owl.next(this.owl.options.autoplaySpeed),void(this.autoplayState=!0)))},Autoplay.prototype.stop=function(){this.owl._options.autoplay=this.owl.options.autoplay=!1,this.autoplayState=!1,b.clearInterval(this.apInterval)},Autoplay.prototype.pause=function(){b.clearInterval(this.apInterval)},Autoplay.prototype.destroy=function(){var a,c;b.clearInterval(this.apInterval);for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var b=function(c){return this.core=c,this.core.options=a.extend({},b.Defaults,this.core.options),this.refreshing=!1,this.initialized=!1,this.page=null,this.pages=[],this.controls={},this.template=null,this.$element=this.core.dom.$el,this.core.options.nav||this.core.options.dots?(this.handlers={"initialized.owl.carousel":a.proxy(function(){this.initialized||this.initialize()},this),"changed.owl.carousel":a.proxy(function(b){"items"==b.property.name&&this.initialized&&this.update(),this.filling&&(b.property.value.data("owl-item").dot=a(":first-child",b.property.value).find("[data-dot]").andSelf().data("dot"))},this),"change.owl.carousel":a.proxy(function(a){if("position"==a.property.name&&!this.core.state.revert&&!this.core.options.loop&&this.core.options.navRewind){var b=this.core.pos;a.data=a.property.value>b.max?b.current>=b.max?b.min:b.max:a.property.value<0?b.max:a.property.value}this.filling=this.core.options.dotsData&&"item"==a.property.name&&a.property.value&&a.property.value.is(":empty")},this),"refresh.owl.carousel refreshed.owl.carousel":a.proxy(function(a){this.refreshing="refresh"==a.type},this),"refreshed.owl.carousel":a.proxy(function(){this.initialized&&this.refresh()},this)},void this.$element.on(this.handlers)):!1};b.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},b.prototype.initialize=function(){var b,c=this.core.options;this.refresh(),c.dotsData||(this.template=a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")),c.navContainer&&c.dotsContainer||(this.controls.$container=a("<div>").addClass(c.controlsClass).appendTo(this.$element)),c.dots&&(this.$indicators=c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.controls.$container),this.$indicators.on(this.core.dragType[2],"div",a.proxy(function(b){var d=a(b.target).parent().is(this.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.core.to(this.pages[d].start,c.dotsSpeed)},this))),c.nav&&(b=c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).prependTo(this.controls.$container),this.controls.$next=a("<"+c.navElement+">"),this.controls.$previous=this.controls.$next.clone(),this.controls.$previous.addClass(c.navClass[0]).text(c.navText[0]).prependTo(b).on(this.core.dragType[2],a.proxy(function(){this.core.to(this.core.pos.current-c.slideBy)},this)),this.controls.$next.addClass(c.navClass[1]).text(c.navText[1]).appendTo(b).on(this.core.dragType[2],a.proxy(function(){this.core.to(this.core.pos.current+c.slideBy)},this))),this.update(),this.initialized=!0},b.prototype.destroy=function(){var a,b,c;for(a in this.handlers)this.$element.off(a,this.handlers[a]);for(b in this.controls)this.controls[b].remove();for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},b.prototype.refresh=function(){var a,b,c,d=this.core.options,e=this.core.num.cItems/2,f=this.core.num.items-e,g=this.core.num.oItems,h=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if(d.nav&&(d.navRewind=g>d.items||d.center,d.slideBy=d.slideBy&&"page"===d.slideBy?d.items:Math.min(d.slideBy,d.items)),d.dots)for(this.pages=[],a=e,b=0,c=0;f>a;a++)(b>=h||0===b)&&(this.pages.push({start:a-e,end:a-e+h-1}),b=0,++c),b+=this.core.num.merged[a]},b.prototype.update=function(){var b,c,d="",e=this.core.options,f=this.core.dom.$oItems,g=this.core.pos.current;if(!e.nav||e.loop||e.navRewind||(this.controls.$previous.toggleClass("disabled",0>=g),this.controls.$next.toggleClass("disabled",g>=this.core.pos.max)),e.dots){if(b=this.pages.length-this.$indicators.children().length,this.page=a.grep(this.pages,function(a){return a.start<=g&&a.end>=g}).pop(),b>0){for(c=0;c<Math.abs(b);c++)d+=e.dotData?f.eq(c).data("owl-item").dot:this.template;this.$indicators.append(d)}else 0>b&&this.$indicators.children().slice(b).remove();this.$indicators.find(".active").removeClass("active"),this.$indicators.children().eq(this.pages.indexOf(this.page)%f.length).addClass("active")}},b.prototype.onTrigger=function(a){var b=this.core.options;a.page={index:this.pages.indexOf(this.page),count:this.pages.length,size:b.center||b.autoWidth||b.dotData?1:b.dotsEach||b.items}},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){"use strict";var c=function(d){return this.carousel=d,this.options=a.extend({},c.Defaults,this.carousel.options),this.hashes={},this.$element=this.carousel.dom.$el,this.options.URLhashListener?(this.handlers={"initialized.owl.carousel":a.proxy(function(){b.location.hash.substring(1)&&a(b).trigger("hashchange.owl.navigation")},this),"changed.owl.carousel":a.proxy(function(b){this.filling&&(b.property.value.data("owl-item").hash=a(":first-child",b.property.value).find("[data-hash]").andSelf().data("hash"),this.hashes[b.property.value.data("owl-item").hash]=b.property.value)},this),"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&"URLHash"==a.property.value&&(a.data=this.hashes[b.location.hash.substring(1)]),this.filling="item"==a.property.name&&a.property.value&&a.property.value.is(":empty")},this)},this.$element.on(this.handlers),void a(b).on("hashchange.owl.navigation",a.proxy(function(){var a=b.location.hash.substring(1),c=this.hashes[a]&&this.hashes[a].index()||0;return a?(this.carousel.dom.oStage.scrollLeft=0,void this.carousel.to(c)):!1},this))):!1};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this.handlers)this.owl.dom.$el.off(c,this.handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document);

// Bootstrap Tokenfield
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=global.window&&global.window.$?a(global.window.$):function(b){if(!b.$&&!b.fn)throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance");return a(b.$||b)}:a(jQuery)}(function(a,b){"use strict";var c=function(c,d){var e=this;this.$element=a(c),this.textDirection=this.$element.css("direction"),this.options=a.extend(!0,{},a.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),d),this._delimiters="string"==typeof this.options.delimiter?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=a.map(this._delimiters,function(a){return a.charCodeAt(0)}),this._firstDelimiter=this._delimiters[0];var f=a.inArray(" ",this._delimiters),g=a.inArray("-",this._delimiters);f>=0&&(this._delimiters[f]="\\s"),g>=0&&(delete this._delimiters[g],this._delimiters.unshift("-"));var h=["\\","$","[","{","^",".","|","?","*","+","(",")"];a.each(this._delimiters,function(b,c){var d=a.inArray(c,h);d>=0&&(e._delimiters[b]="\\"+c)});var i,j=b&&"function"==typeof b.getMatchedCSSRules?b.getMatchedCSSRules(c):null,k=c.style.width,l=this.$element.width();j&&a.each(j,function(a,b){b.style.width&&(i=b.style.width)});var m="rtl"===a("body").css("direction")?"right":"left",n={position:this.$element.css("position")};n[m]=this.$element.css(m),this.$element.data("original-styles",n).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(m,"-10000px").prop("tabindex",-1),this.$wrapper=a('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),"rtl"===this.textDirection&&this.$wrapper.addClass("rtl");var o=this.$element.prop("id")||(new Date).getTime()+""+Math.floor(100*(1+Math.random()));this.$input=a('<input type="text" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",o+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var p=a('label[for="'+this.$element.prop("id")+'"]');if(p.length&&p.prop("for",this.$input.prop("id")),this.$copyHelper=a('<input type="text" />').css("position","absolute").css(m,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),k?this.$wrapper.css("width",k):i?this.$wrapper.css("width",i):this.$element.parents(".form-inline").length&&this.$wrapper.width(l),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=a('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),a.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(a,b){e.$mirror[0].style[b]=e.$input.css(b)}),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!1),this.listen(),!a.isEmptyObject(this.options.autocomplete)){var q="rtl"===this.textDirection?"right":"left",r=a.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:q+" top",at:q+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(r)}if(!a.isEmptyObject(this.options.typeahead)){var s=this.options.typeahead,t={minLength:this.options.showAutocompleteOnFocus?0:null},u=a.isArray(s)?s:[s,s];u[0]=a.extend({},t,u[0]),this.$input.typeahead.apply(this.$input,u),this.typeahead=!0}this.$element.trigger("tokenfield:initialize")};c.prototype={constructor:c,createToken:function(b,c){var d=this;if("string"==typeof b&&(b={value:b,label:b}),"undefined"==typeof c&&(c=!0),b.value=a.trim(b.value),b.label=b.label&&b.label.length?a.trim(b.label):b.value,!(!b.value.length||!b.label.length||b.label.length<=this.options.minLength||this.options.limit&&this.getTokens().length>=this.options.limit)){var e=a.Event("tokenfield:createtoken",{attrs:b});if(this.$element.trigger(e),e.attrs&&!e.isDefaultPrevented()){var f=a('<div class="token" />').attr("data-value",b.value).append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>');this.$input.hasClass("tt-input")?this.$input.parent().before(f):this.$input.before(f),this.$input.css("width",this.options.minWidth+"px");var g=f.find(".token-label"),h=f.find(".close");return this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-h.outerWidth()-parseInt(h.css("margin-left"),10)-parseInt(h.css("margin-right"),10)-parseInt(f.css("border-left-width"),10)-parseInt(f.css("border-right-width"),10)-parseInt(f.css("padding-left"),10)-parseInt(f.css("padding-right"),10),parseInt(g.css("border-left-width"),10)-parseInt(g.css("border-right-width"),10)-parseInt(g.css("padding-left"),10)-parseInt(g.css("padding-right"),10),parseInt(g.css("margin-left"),10)-parseInt(g.css("margin-right"),10)),g.text(b.label).css("max-width",this.maxTokenWidth),f.on("mousedown",function(){return d._disabled||d._readonly?!1:(d.preventDeactivation=!0,void 0)}).on("click",function(a){return d._disabled||d._readonly?!1:(d.preventDeactivation=!1,a.ctrlKey||a.metaKey?(a.preventDefault(),d.toggle(f)):(d.activate(f,a.shiftKey,a.shiftKey),void 0))}).on("dblclick",function(){return d._disabled||d._readonly||!d.options.allowEditing?!1:(d.edit(f),void 0)}),h.on("click",a.proxy(this.remove,this)),this.$element.trigger(a.Event("tokenfield:createdtoken",{attrs:b,relatedTarget:f.get(0)})),c&&this.$element.val(this.getTokensList()).trigger(a.Event("change",{initiator:"tokenfield"})),this.update(),this.$element.get(0)}}},setTokens:function(b,c,d){if(b){c||this.$wrapper.find(".token").remove(),"undefined"==typeof d&&(d=!0),"string"==typeof b&&(b=this._delimiters.length?b.split(new RegExp("["+this._delimiters.join("")+"]")):[b]);var e=this;return a.each(b,function(a,b){e.createToken(b,d)}),this.$element.get(0)}},getTokenData:function(b){var c=b.map(function(){var b=a(this);return{value:b.attr("data-value"),label:b.find(".token-label").text()}}).get();return 1==c.length&&(c=c[0]),c},getTokens:function(b){var c=this,d=[],e=b?".active":"";return this.$wrapper.find(".token"+e).each(function(){d.push(c.getTokenData(a(this)))}),d},getTokensList:function(b,c,d){b=b||this._firstDelimiter,c="undefined"!=typeof c&&null!==c?c:this.options.beautify;var e=b+(c&&" "!==b?" ":"");return a.map(this.getTokens(d),function(a){return a.value}).join(e)},getInput:function(){return this.$input.val()},listen:function(){var c=this;this.$element.on("change",a.proxy(this.change,this)),this.$wrapper.on("mousedown",a.proxy(this.focusInput,this)),this.$input.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("paste",a.proxy(this.paste,this)).on("keydown",a.proxy(this.keydown,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.$copyHelper.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keydown",a.proxy(this.keydown,this)).on("keyup",a.proxy(this.keyup,this)),this.$input.on("keypress",a.proxy(this.update,this)).on("keyup",a.proxy(this.update,this)),this.$input.on("autocompletecreate",function(){var b=a(this).data("ui-autocomplete").menu.element,d=c.$wrapper.outerWidth()-parseInt(b.css("border-left-width"),10)-parseInt(b.css("border-right-width"),10);b.css("min-width",d+"px")}).on("autocompleteselect",function(a,b){return c.createToken(b.item)&&(c.$input.val(""),c.$input.data("edit")&&c.unedit(!0)),!1}).on("typeahead:selected typeahead:autocompleted",function(a,b){c.createToken(b)&&(c.$input.typeahead("val",""),c.$input.data("edit")&&c.unedit(!0))}),a(b).on("resize",a.proxy(this.update,this))},keydown:function(b){function c(a){if(e.$input.is(document.activeElement)){if(e.$input.val().length>0)return;a+="All";var c=e.$input.hasClass("tt-input")?e.$input.parent()[a](".token:first"):e.$input[a](".token:first");if(!c.length)return;e.preventInputFocus=!0,e.preventDeactivation=!0,e.activate(c),b.preventDefault()}else e[a](b.shiftKey),b.preventDefault()}function d(c){if(b.shiftKey){if(e.$input.is(document.activeElement)){if(e.$input.val().length>0)return;var d=e.$input.hasClass("tt-input")?e.$input.parent()[c+"All"](".token:first"):e.$input[c+"All"](".token:first");if(!d.length)return;e.activate(d)}var f="prev"===c?"next":"prev",g="prev"===c?"first":"last";e.firstActiveToken[f+"All"](".token").each(function(){e.deactivate(a(this))}),e.activate(e.$wrapper.find(".token:"+g),!0,!0),b.preventDefault()}}if(this.focused){var e=this;switch(b.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:c("rtl"===this.textDirection?"next":"prev");break;case 38:d("prev");break;case 39:c("rtl"===this.textDirection?"prev":"next");break;case 40:d("next");break;case 65:if(this.$input.val().length>0||!b.ctrlKey&&!b.metaKey)break;this.activateAll(),b.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus)").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val().length)break;if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(b,this.$input.data("edit"));if(13===b.keyCode){if(!this.$copyHelper.is(document.activeElement)||1!==this.$wrapper.find(".token.active").length)break;if(!e.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=b.keyCode}},keypress:function(b){return this.lastKeyPressCode=b.keyCode,this.lastKeyPressCharCode=b.charCode,-1!==a.inArray(b.charCode,this._triggerKeys)&&this.$input.is(document.activeElement)?(this.$input.val()&&this.createTokensFromInput(b),!1):void 0},keyup:function(a){if(this.preventInputFocus=!1,this.focused){switch(a.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&8===this.lastKeyDown)break;this.preventDeactivation=!0;var b=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!b.length)break;this.activate(b)}else this.remove(a);break;case 46:this.remove(a,"next")}this.lastKeyUp=a.keyCode}},focus:function(){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:function(a){this.focused=!1,this.$wrapper.removeClass("focus"),this.preventDeactivation||this.$element.is(document.activeElement)||(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null),!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)&&this.createTokensFromInput(a),this.preventDeactivation=!1,this.preventCreateTokens=!1},paste:function(a){var b=this;setTimeout(function(){b.createTokensFromInput(a)},1)},change:function(a){"tokenfield"!==a.initiator&&this.setTokens(this.$element.val())},createTokensFromInput:function(a,b){if(!(this.$input.val().length<this.options.minLength)){var c=this.getTokensList();return this.setTokens(this.$input.val(),!0),c==this.getTokensList()&&this.$input.val().length?!1:(this.$input.hasClass("tt-input")?this.$input.typeahead("val",""):this.$input.val(""),this.$input.data("edit")&&this.unedit(b),!1)}},next:function(a){if(a){var b=this.$wrapper.find(".active:first"),c=b&&this.$firstActiveToken?b.index()<this.$firstActiveToken.index():!1;if(c)return this.deactivate(b)}var d=this.$wrapper.find(".active:last"),e=d.nextAll(".token:first");return e.length?(this.activate(e,a),void 0):(this.$input.focus(),void 0)},prev:function(a){if(a){var b=this.$wrapper.find(".active:last"),c=b&&this.$firstActiveToken?b.index()>this.$firstActiveToken.index():!1;if(c)return this.deactivate(b)}var d=this.$wrapper.find(".active:first"),e=d.prevAll(".token:first");return e.length||(e=this.$wrapper.find(".token:first")),e.length||a?(this.activate(e,a),void 0):(this.$input.focus(),void 0)},activate:function(b,c,d,e){if(b){if("undefined"==typeof e)var e=!0;if(d)var c=!0;if(this.$copyHelper.focus(),c||(this.$wrapper.find(".active").removeClass("active"),e?this.$firstActiveToken=b:delete this.$firstActiveToken),d&&this.$firstActiveToken){var f=this.$firstActiveToken.index()-2,g=b.index()-2,h=this;this.$wrapper.find(".token").slice(Math.min(f,g)+1,Math.max(f,g)).each(function(){h.activate(a(this),!0)})}b.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()}},activateAll:function(){var b=this;this.$wrapper.find(".token").each(function(c){b.activate(a(this),0!==c,!1,!1)})},deactivate:function(a){a&&(a.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},toggle:function(a){a&&(a.toggleClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},edit:function(b){if(b){var c={value:b.data("value"),label:b.find(".token-label").text()},d={attrs:c,relatedTarget:b.get(0)},e=a.Event("tokenfield:edittoken",d);if(this.$element.trigger(e),!e.isDefaultPrevented()){b.find(".token-label").text(c.value);var f=b.outerWidth(),g=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;b.replaceWith(g),this.preventCreateTokens=!0,this.$input.val(c.value).select().data("edit",!0).width(f),this.update(),this.$element.trigger(a.Event("tokenfield:editedtoken",d))}}},unedit:function(a){var b=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;if(b.appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update(),a){var c=this;setTimeout(function(){c.$input.focus()},1)}},remove:function(b,c){if(!(this.$input.is(document.activeElement)||this._disabled||this._readonly)){var d="click"===b.type?a(b.target).closest(".token"):this.$wrapper.find(".token.active");if("click"!==b.type){if(!c)var c="prev";if(this[c](),"prev"===c)var e=0===d.first().prevAll(".token:first").length}var f={attrs:this.getTokenData(d),relatedTarget:d.get(0)},g=a.Event("tokenfield:removetoken",f);if(this.$element.trigger(g),!g.isDefaultPrevented()){var h=a.Event("tokenfield:removedtoken",f),i=a.Event("change",{initiator:"tokenfield"});d.remove(),this.$element.val(this.getTokensList()).trigger(h).trigger(i),(!this.$wrapper.find(".token").length||"click"===b.type||e)&&this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),b.preventDefault(),b.stopPropagation()}}},update:function(){var a=this.$input.val(),b=parseInt(this.$input.css("padding-left"),10),c=parseInt(this.$input.css("padding-right"),10),d=b+c;if(this.$input.data("edit")){if(a||(a=this.$input.prop("placeholder")),a===this.$mirror.text())return;this.$mirror.text(a);var e=this.$mirror.width()+10;if(e>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(e)}else{if(this.$input.css("width",this.options.minWidth+"px"),"rtl"===this.textDirection)return this.$input.width(this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-d-1);this.$input.width(this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-d)}},focusInput:function(b){if(!(a(b.target).closest(".token").length||a(b.target).closest(".token-input").length||a(b.target).closest(".tt-dropdown-menu").length)){var c=this;setTimeout(function(){c.$input.focus()},0)}},search:function(){this.$input.data("ui-autocomplete")&&this.$input.autocomplete("search")},disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:function(){this.setProperty("readonly",!1)},setProperty:function(a,b){this["_"+a]=b,this.$input.prop(a,b),this.$element.prop(a,b),this.$wrapper[b?"addClass":"removeClass"](a)},destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var b=a('label[for="'+this.$input.prop("id")+'"]');b.length&&b.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove();var c=this.$element;return delete this,c}};var d=a.fn.tokenfield;return a.fn.tokenfield=function(b,d){var e,f=[];Array.prototype.push.apply(f,arguments);var g=this.each(function(){var g=a(this),h=g.data("bs.tokenfield"),i="object"==typeof b&&b;"string"==typeof b&&h&&h[b]?(f.shift(),e=h[b].apply(h,f)):h||"string"==typeof b||d||g.data("bs.tokenfield",h=new c(this,i))});return"undefined"!=typeof e?e:g},a.fn.tokenfield.defaults={minWidth:60,minLength:0,allowEditing:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0},a.fn.tokenfield.Constructor=c,a.fn.tokenfield.noConflict=function(){return a.fn.tokenfield=d,this},c});

// Typeahead
!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.1",d=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(this),e=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),f=function(){function c(b){b=b||{},this._send=b.transport?e(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function e(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new d(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new d(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(b),i.set(a,b)}function e(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var j,k=this;(j=g[a])?j.done(d):h>f?(f++,g[a]=this._send(a,b).done(d).always(e)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(e)}):this._get(a,c,d),!!e}}),c}(),g=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.datums=[],this.trie=e()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),h=function(){function d(a){var c=a.local||null;return b.isFunction(c)&&(c=c.call(null)),c}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}(),i=(window.Bloodhound=function(){function c(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=d(b.sorter),this.dupDetector=b.dupDetector||i,this.local=h.local(b),this.prefetch=h.prefetch(b),this.remote=h.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new g({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new e(this.cacheKey):null}function d(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function i(){return!1}var j;return j={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.tokenizers={whitespace:function(a){return a.split(/\s+/)},nonword:function(a){return a.split(/\W+/)}},b.mixin(c.prototype,{_loadPrefetch:function(b){function c(a){var c;c=b.filter?b.filter(a):a,f.add(c),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a){var c=f.remote.filter?f.remote.filter(a):a;b(c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(j.data,a,c),this.storage.set(j.protocol,location.protocol,c),this.storage.set(j.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(j.data),c.protocol=this.storage.get(j.protocol),c.thumbprint=this.storage.get(j.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},initialize:function(){function b(){d.add(d.local)}var c,d=this;return c=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),this.local&&c.done(b),this.transport=this.remote?new f(this.remote):null,this.initialize=function(){return c.promise()},c.promise()},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=e.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return f.dupDetector(a,b)}),!c&&d.push(a),d.length<f.limit}),c&&c(f.sorter(d))}var e,f=this,g=!1;e=this.index.get(a),e=this.sorter(e).slice(0,this.limit),e.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d)),!g&&c&&c(e)},ttAdapter:function(){return b.bind(this.get,this)}}),c}(),{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'}),j={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(j.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(j.input,{marginTop:"-1px"});var k=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),l=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),m=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),n=function(){function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,l,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHintValue(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),!b&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),o=function(){function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),c.name&&!f(c.name)&&a.error("invalid dataset name: "+c.name),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.displayFn=d(c.display||c.displayKey),this.templates=e(c.templates,this.displayFn),this.$el=a(i.dataset.replace("%CLASS%",this.name))}function d(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function e(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function f(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var g="ttDataset",h="ttValue",k="ttDatum";return c.extractDatasetName=function(b){return a(b).data(g)},c.extractValue=function(b){return a(b).data(h)},c.extractDatum=function(b){return a(b).data(k)},b.mixin(c.prototype,l,{_render:function(c,d){function e(){return p.templates.empty({query:c,isEmpty:!0})}function f(){function e(b){var c,d,e;return d=p.templates.suggestion(b),e=i.suggestion.replace("%BODY%",d),c=a(e).data(g,p.name).data(h,p.displayFn(b)).data(k,b),c.children().each(function(){a(this).css(j.suggestionChild)}),c}var f,l;return f=a(i.suggestions).css(j.suggestions),l=b.map(d,e),f.append.apply(f,l),p.highlight&&m({node:f[0],pattern:c}),f}function l(){return p.templates.header({query:c,isEmpty:!o})}function n(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(e()).prepend(p.templates.header?l():null).append(p.templates.footer?n():null):o&&this.$el.html(f()).prepend(p.templates.header?l():null).append(p.templates.footer?n():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){a===c.query&&c._render(a,b)}var c=this;this.query=a,this.source(a,b)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),p=function(){function c(c){var e,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,d),e=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new o(a)}return b.mixin(c.prototype,l,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?j.ltr:j.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:o.extractDatum(a),value:o.extractValue(a),datasetName:o.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),q=function(){function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),this.eventBus=c.eventBus||new k({el:f}),this.dropdown=new p({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new n({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),e.on("mousedown.tt",function(a){b.isMsie()&&b.isMsie()<9&&(f[0].onbeforedeactivate=function(){window.event.returnValue=!1,f[0].onbeforedeactivate=null}),a.preventDefault()})}function d(b,c){var d,f,h,k;d=a(b),f=a(i.wrapper).css(j.wrapper),h=a(i.dropdown).css(j.dropdown),k=d.clone().css(j.hint).css(e(d)),k.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?j.input:j.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(l){}return d.wrap(f).parent().prepend(c?k:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.empty(),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHint(),this.dropdown.empty(),b.length>=this.minLength&&this.dropdown.update(b),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(c=this.input.getInputValue(),d=n.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.*$)","i"),g=f.exec(a.value),this.input.setHintValue(c+(g?g[1]:"")))},_autocomplete:function(){var a,b,c;a=this.input.getHintValue(),b=this.input.getQuery(),a&&b!==a&&this.input.isCursorAtEnd()&&(c=this.dropdown.getDatumForTopSuggestion(),c&&this.input.setInputValue(c.value),this.eventBus.trigger("autocompleted",c.raw,c.datasetName))},_select:function(a){this.input.clearHint(),this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(a){this.input.setInputValue(a)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){var c,d,e;c=a.fn.typeahead,d="ttTypeahead",e={initialize:function(c,e){function f(){var f,g,h=a(this);b.each(e,function(a){a.highlight=!!c.highlight}),g=new q({input:h,eventBus:f=new k({el:h}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:e}),h.data(d,g)}return e=b.isArray(e)?e:[].slice.call(arguments,1),c=c||{},this.each(f)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setQuery(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getQuery()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(a){return e[a]?e[a].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery);

// Alertify
!function(a,b){"use strict";var c,d=a.document;c=function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q={},r={},s=!1,t={ENTER:13,ESC:27,SPACE:32},u=[];return r={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},p=function(){var a,c,e=!1,f=d.createElement("fakeelement"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in g)if(f.style[a]!==b){c=g[a],e=!0;break}return{type:c,supported:e}},c=function(a){return d.getElementById(a)},q={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(a){var b,c,i,j,k,l="undefined"!=typeof f,m="undefined"!=typeof e,n="undefined"!=typeof o,p="",q=this;b=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"undefined"!=typeof o&&(p=o.value),"function"==typeof a&&("undefined"!=typeof o?a(!0,p):a(!0)),!1},c=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"function"==typeof a&&a(!1),!1},i=function(){q.hide(),q.unbind(d.body,"keyup",j),q.unbind(g,"focus",k),l&&q.unbind(f,"click",b),m&&q.unbind(e,"click",c)},j=function(a){var d=a.keyCode;(d===t.SPACE&&!n||n&&d===t.ENTER)&&b(a),d===t.ESC&&m&&c(a)},k=function(){n?o.focus():!m||q.buttonReverse?f.focus():e.focus()},this.bind(g,"focus",k),this.bind(h,"focus",k),l&&this.bind(f,"click",b),m&&this.bind(e,"click",c),this.bind(d.body,"keyup",j),this.transition.supported||this.setFocus()},bind:function(a,b,c){"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){if("undefined"!=typeof a.onerror){var b=this;return a.onerror=function(a,c,d){b.error("["+a+" on line "+d+" of "+c+"]",0)},!0}return!1},appendButtons:function(a,b){return this.buttonReverse?b+a:a+b},build:function(a){var b="",c=a.type,d=a.message,e=a.cssClass||"";switch(b+='<div class="alertify-dialog">',b+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===q.buttonFocus&&(b+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===c&&(b+='<div id="alertify-form">'),b+='<article class="alertify-inner">',b+=r.message.replace("{{message}}",d),"prompt"===c&&(b+=r.input),b+=r.buttons.holder,b+="</article>","prompt"===c&&(b+="</div>"),b+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',b+="</div>",c){case"confirm":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.ok)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.submit)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":b=b.replace("{{buttons}}",r.buttons.ok),b=b.replace("{{ok}}",this.labels.ok)}return l.className="alertify alertify-"+c+" "+e,k.className="alertify-cover",b},close:function(a,b){var c,d,e=b&&!isNaN(b)?+b:this.delay,f=this;this.bind(a,"click",function(){c(a)}),d=function(a){a.stopPropagation(),f.unbind(this,f.transition.type,d),m.removeChild(this),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")},c=function(a){"undefined"!=typeof a&&a.parentNode===m&&(f.transition.supported?(f.bind(a,f.transition.type,d),a.className+=" alertify-log-hide"):(m.removeChild(a),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")))},0!==b&&setTimeout(function(){c(a)},e)},dialog:function(a,b,c,e,f){j=d.activeElement;var g=function(){m&&null!==m.scrollTop&&k&&null!==k.scrollTop||g()};if("string"!=typeof a)throw new Error("message must be a string");if("string"!=typeof b)throw new Error("type must be a string");if("undefined"!=typeof c&&"function"!=typeof c)throw new Error("fn must be a function");return this.init(),g(),u.push({type:b,message:a,callback:c,placeholder:e,cssClass:f}),s||this.setup(),this},extend:function(a){if("string"!=typeof a)throw new Error("extend method must have exactly one paramter");return function(b,c){return this.log(b,a,c),this}},hide:function(){var a,b=this;u.splice(0,1),u.length>0?this.setup(!0):(s=!1,a=function(c){c.stopPropagation(),b.unbind(l,b.transition.type,a)},this.transition.supported?(this.bind(l,this.transition.type,a),l.className="alertify alertify-hide alertify-hidden"):l.className="alertify alertify-hide alertify-hidden alertify-isHidden",k.className="alertify-cover alertify-cover-hidden",j.focus())},init:function(){d.createElement("nav"),d.createElement("article"),d.createElement("section"),null==c("alertify-cover")&&(k=d.createElement("div"),k.setAttribute("id","alertify-cover"),k.className="alertify-cover alertify-cover-hidden",d.body.appendChild(k)),null==c("alertify")&&(s=!1,u=[],l=d.createElement("section"),l.setAttribute("id","alertify"),l.className="alertify alertify-hidden",d.body.appendChild(l)),null==c("alertify-logs")&&(m=d.createElement("section"),m.setAttribute("id","alertify-logs"),m.className="alertify-logs alertify-logs-hidden",d.body.appendChild(m)),d.body.setAttribute("tabindex","0"),this.transition=p()},log:function(a,b,c){var d=function(){m&&null!==m.scrollTop||d()};return this.init(),d(),m.className="alertify-logs",this.notify(a,b,c),this},notify:function(a,b,c){var e=d.createElement("article");e.className="alertify-log"+("string"==typeof b&&""!==b?" alertify-log-"+b:""),e.innerHTML=a,m.appendChild(e),setTimeout(function(){e.className=e.className+" alertify-log-show"},50),this.close(e,c)},set:function(a){var b;if("object"!=typeof a&&a instanceof Array)throw new Error("args must be an object");for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},setFocus:function(){o?(o.focus(),o.select()):i.focus()},setup:function(a){var d,j=u[0],k=this;s=!0,d=function(a){a.stopPropagation(),k.setFocus(),k.unbind(l,k.transition.type,d)},this.transition.supported&&!a&&this.bind(l,this.transition.type,d),l.innerHTML=this.build(j),g=c("alertify-resetFocus"),h=c("alertify-resetFocusBack"),f=c("alertify-ok")||b,e=c("alertify-cancel")||b,i="cancel"===q.buttonFocus?e:"none"===q.buttonFocus?c("alertify-noneFocus"):f,o=c("alertify-text")||b,n=c("alertify-form")||b,"string"==typeof j.placeholder&&""!==j.placeholder&&(o.value=j.placeholder),a&&this.setFocus(),this.addListeners(j.callback)},unbind:function(a,b,c){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}},{alert:function(a,b,c){return q.dialog(a,"alert",b,"",c),this},confirm:function(a,b,c){return q.dialog(a,"confirm",b,"",c),this},extend:q.extend,init:q.init,log:function(a,b,c){return q.log(a,b,c),this},prompt:function(a,b,c,d){return q.dialog(a,"prompt",b,c,d),this},success:function(a,b){return q.log(a,"success",b),this},error:function(a,b){return q.log(a,"error",b),this},set:function(a){q.set(a)},labels:q.labels,debug:q.handleErrors}},"function"==typeof define?define([],function(){return new c}):"undefined"==typeof a.alertify&&(a.alertify=new c)}(this);

// Froogaloop
var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=n.getAttribute("src").split("?")[0],e=JSON.stringify({method:e,value:t});"//"===r.substr(0,2)&&(r=window.location.protocol+r);n.contentWindow.postMessage(e,r)}function n(e){var t,n;try{t=JSON.parse(e.data),n=t.event||t.method}catch(r){}"ready"==n&&!s&&(s=!0);if(e.origin!=o)return!1;var e=t.value,u=t.data,a=""===a?null:t.player_id;t=a?i[a][n]:i[n];n=[];if(!t)return!1;void 0!==e&&n.push(e);u&&n.push(u);a&&n.push(a);return 0<n.length?t.apply(null,n):t.call()}function r(e,t,n){n?(i[n]||(i[n]={}),i[n][e]=t):i[e]=t}var i={},s=!1,o="";e.fn=e.prototype={element:null,init:function(e){"string"===typeof e&&(e=document.getElementById(e));this.element=e;e=this.element.getAttribute("src");"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var e=e.split("/"),t="",n=0,r=e.length;n<r;n++){if(3>n)t+=e[n];else break;2>n&&(t+="/")}o=t;return this},api:function(e,n){if(!this.element||!e)return!1;var i=this.element,s=""!==i.id?i.id:null,o=!n||!n.constructor||!n.call||!n.apply?n:null,u=n&&n.constructor&&n.call&&n.apply?n:null;u&&r(e,u,s);t(e,o,i);return this},addEvent:function(e,n){if(!this.element)return!1;var i=this.element,o=""!==i.id?i.id:null;r(e,n,o);"ready"!=e?t("addEventListener",e,i):"ready"==e&&s&&n.call(null,o);return this},removeEvent:function(e){if(!this.element)return!1;var n=this.element,r;e:{if((r=""!==n.id?n.id:null)&&i[r]){if(!i[r][e]){r=!1;break e}i[r][e]=null}else{if(!i[e]){r=!1;break e}i[e]=null}r=!0}"ready"!=e&&r&&t("removeEventListener",e,n)}};e.fn.init.prototype=e.fn;window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n);return window.Froogaloop=window.$f=e}();

// Video js
(function(window,undefined){var document=window.document;document.createElement("video");document.createElement("audio");var VideoJS=function(id,addOptions,ready){var tag;if(typeof id=="string"){if(id.indexOf("#")===0){id=id.slice(1)}if(_V_.players[id]){return _V_.players[id]}else{tag=_V_.el(id)}}else{tag=id}if(!tag||!tag.nodeName){throw new TypeError("The element or ID supplied is not valid. (VideoJS)")}return tag.player||new _V_.Player(tag,addOptions,ready)},_V_=VideoJS,CDN_VERSION="3.2";VideoJS.players={};VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(CDN_VERSION!="GENERATED_CDN_VSN"){_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"}_V_.merge=function(obj1,obj2,safe){if(!obj2){obj2={}}for(var attrname in obj2){if(obj2.hasOwnProperty(attrname)&&(!safe||!obj1.hasOwnProperty(attrname))){obj1[attrname]=obj2[attrname]}}return obj1};_V_.extend=function(obj){this.merge(this,obj,true)};_V_.extend({tech:{},controlSets:{},isIE:function(){return !+"\v1"},isFF:function(){return !!_V_.ua.match("Firefox")},isIPad:function(){return navigator.userAgent.match(/iPad/i)!==null},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)!==null},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var match=navigator.userAgent.match(/OS (\d+)_/i);if(match&&match[1]){return match[1]}},isAndroid:function(){return navigator.userAgent.match(/Android.*AppleWebKit/i)!==null},androidVersion:function(){var match=navigator.userAgent.match(/Android (\d+)\./i);if(match&&match[1]){return match[1]}},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(arr,fn){if(!arr||arr.length===0){return}for(var i=0,j=arr.length;i<j;i++){fn.call(this,arr[i],i)}},eachProp:function(obj,fn){if(!obj){return}for(var name in obj){if(obj.hasOwnProperty(name)){fn.call(this,name,obj[name])}}},el:function(id){return document.getElementById(id)},createElement:function(tagName,attributes){var el=document.createElement(tagName),attrname;for(attrname in attributes){if(attributes.hasOwnProperty(attrname)){if(attrname.indexOf("-")!==-1){el.setAttribute(attrname,attributes[attrname])}else{el[attrname]=attributes[attrname]}}}return el},insertFirst:function(node,parent){if(parent.firstChild){parent.insertBefore(node,parent.firstChild)}else{parent.appendChild(node)}},addClass:function(element,classToAdd){if((" "+element.className+" ").indexOf(" "+classToAdd+" ")==-1){element.className=element.className===""?classToAdd:element.className+" "+classToAdd}},removeClass:function(element,classToRemove){if(element.className.indexOf(classToRemove)==-1){return}var classNames=element.className.split(" ");classNames.splice(classNames.indexOf(classToRemove),1);element.className=classNames.join(" ")},remove:function(item,array){if(!array){return}var i=array.indexOf(item);if(i!=-1){return array.splice(i,1)}},blockTextSelection:function(){document.body.focus();document.onselectstart=function(){return false}},unblockTextSelection:function(){document.onselectstart=function(){return true}},formatTime:function(seconds,guide){guide=guide||seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);h=(h>0||gh>0)?h+":":"";m=(((h||gm>=10)&&m<10)?"0"+m:m)+":";s=(s<10)?"0"+s:s;return h+m+s},uc:function(string){return string.charAt(0).toUpperCase()+string.slice(1)},getRelativePosition:function(x,relativeElement){return Math.max(0,Math.min(1,(x-_V_.findPosX(relativeElement))/relativeElement.offsetWidth))},getComputedStyleValue:function(element,style){return window.getComputedStyle(element,null).getPropertyValue(style)},trim:function(string){return string.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(num,dec){if(!dec){dec=0}return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec)},isEmpty:function(object){for(var prop in object){return false}return true},createTimeRange:function(start,end){return{length:1,start:function(){return start},end:function(){return end}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(elem){var id=elem[_V_.expando];if(!id){id=elem[_V_.expando]=_V_.guid++;_V_.cache[id]={}}return _V_.cache[id]},removeData:function(elem){var id=elem[_V_.expando];if(!id){return}delete _V_.cache[id];try{delete elem[_V_.expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(_V_.expando)}else{elem[_V_.expando]=null}}},proxy:function(context,fn,uid){if(!fn.guid){fn.guid=_V_.guid++}var ret=function(){return fn.apply(context,arguments)};ret.guid=(uid)?uid+"_"+fn.guid:fn.guid;return ret},get:function(url,onSuccess,onError){var local=(url.indexOf("file:")==0||(window.location.href.indexOf("file:")==0&&url.indexOf("http:")==-1));if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(g){}throw new Error("This browser does not support XMLHttpRequest.")}}var request=new XMLHttpRequest();try{request.open("GET",url)}catch(e){_V_.log("VideoJS XMLHttpRequest (open)",e);return false}request.onreadystatechange=_V_.proxy(this,function(){if(request.readyState==4){if(request.status==200||local&&request.status==0){onSuccess(request.responseText)}else{if(onError){onError()}}}});try{request.send()}catch(e){_V_.log("VideoJS XMLHttpRequest (send)",e);if(onError){onError(e)}}},setLocalStorage:function(key,value){var localStorage=window.localStorage||false;if(!localStorage){return}try{localStorage[key]=value}catch(e){if(e.code==22||e.code==1014){_V_.log("LocalStorage Full (VideoJS)",e)}else{_V_.log("LocalStorage Error (VideoJS)",e)}}},getAbsoluteURL:function(url){if(!url.match(/^https?:\/\//)){url=_V_.createElement("div",{innerHTML:'<a href="'+url+'">x</a>'}).firstChild.href}return url}});_V_.log=function(){_V_.log.history=_V_.log.history||[];_V_.log.history.push(arguments);if(window.console){arguments.callee=arguments.callee.caller;var newarr=[].slice.call(arguments);(typeof console.log==="object"?_V_.log.apply.call(console.log,console,newarr):console.log.apply(console,newarr))}};(function(b){function c(){}for(var d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),a;a=d.pop();){b[a]=b[a]||c}})((function(){try{console.log();return window.console}catch(err){return window.console={}}})());if("getBoundingClientRect" in document.documentElement){_V_.findPosX=function(el){var box;try{box=el.getBoundingClientRect()}catch(e){}if(!box){return 0}var docEl=document.documentElement,body=document.body,clientLeft=docEl.clientLeft||body.clientLeft||0,scrollLeft=window.pageXOffset||body.scrollLeft,left=box.left+scrollLeft-clientLeft;return left}}else{_V_.findPosX=function(el){var curleft=el.offsetLeft;while(el=obj.offsetParent){if(el.className.indexOf("video-js")==-1){}else{}curleft+=el.offsetLeft}return curleft}}(function(){var initializing=false,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;_V_.Class=function(){};_V_.Class.extend=function(prop){var _super=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){prototype[name]=typeof prop[name]=="function"&&typeof _super[name]=="function"&&fnTest.test(prop[name])?(function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);this._super=tmp;return ret}})(name,prop[name]):prop[name]}function Class(){if(!initializing&&this.init){return this.init.apply(this,arguments)}else{if(!initializing){return arguments.callee.prototype.init()}}}Class.prototype=prototype;Class.constructor=Class;Class.extend=arguments.callee;return Class}})();_V_.Component=_V_.Class.extend({init:function(player,options){this.player=player;options=this.options=_V_.merge(this.options||{},options);if(options.el){this.el=options.el}else{this.el=this.createElement()}this.initComponents()},destroy:function(){},createElement:function(type,attrs){return _V_.createElement(type||"div",attrs)},buildCSSClass:function(){return""},initComponents:function(){var options=this.options;if(options&&options.components){this.eachProp(options.components,function(name,opts){var tempAdd=this.proxy(function(){this[name]=this.addComponent(name,opts)});if(opts.loadEvent){this.one(opts.loadEvent,tempAdd)}else{tempAdd()}})}},addComponent:function(name,options){var component,componentClass;if(typeof name=="string"){options=options||{};componentClass=options.componentClass||_V_.uc(name);component=new _V_[componentClass](this.player||this,options)}else{component=name}this.el.appendChild(component.el);return component},removeComponent:function(component){this.el.removeChild(component.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out")},lockShowing:function(){var style=this.el.style;style.display="block";style.opacity=1;style.visiblity="visible"},unlockShowing:function(){var style=this.el.style;style.display="";style.opacity="";style.visiblity=""},addClass:function(classToAdd){_V_.addClass(this.el,classToAdd)},removeClass:function(classToRemove){_V_.removeClass(this.el,classToRemove)},addEvent:function(type,fn,uid){return _V_.addEvent(this.el,type,_V_.proxy(this,fn))},removeEvent:function(type,fn){return _V_.removeEvent(this.el,type,fn)},triggerEvent:function(type,e){return _V_.triggerEvent(this.el,type,e)},one:function(type,fn){_V_.one(this.el,type,_V_.proxy(this,fn))},ready:function(fn){if(!fn){return this}if(this.isReady){fn.call(this)}else{if(this.readyQueue===undefined){this.readyQueue=[]}this.readyQueue.push(fn)}return this},triggerReady:function(){this.isReady=true;if(this.readyQueue&&this.readyQueue.length>0){this.each(this.readyQueue,function(fn){fn.call(this)});this.readyQueue=[];this.triggerEvent("ready")}},each:function(arr,fn){_V_.each.call(this,arr,fn)},eachProp:function(obj,fn){_V_.eachProp.call(this,obj,fn)},extend:function(obj){_V_.merge(this,obj)},proxy:function(fn,uid){return _V_.proxy(this,fn,uid)}});_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}});_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(player,options){this._super(player,options);player.addEvent("play",this.proxy(function(){this.fadeIn();this.player.addEvent("mouseover",this.proxy(this.fadeIn));this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super();this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super();this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}});_V_.Button=_V_.Control.extend({init:function(player,options){this._super(player,options);this.addEvent("click",this.onClick);this.addEvent("focus",this.onFocus);this.addEvent("blur",this.onBlur)},createElement:function(type,attrs){attrs=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},attrs);return this._super(type,attrs)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(event){if(event.which==32||event.which==13){event.preventDefault();this.onClick()}},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}});_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}});_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(player,options){this._super(player,options);player.addEvent("play",_V_.proxy(this,this.onPlay));player.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){if(this.player.paused()){this.player.play()}else{this.player.pause()}},onPlay:function(){_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")}});_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){if(!this.player.isFullScreen){this.player.requestFullScreen()}else{this.player.cancelFullScreen()}}});_V_.BigPlayButton=_V_.Button.extend({init:function(player,options){this._super(player,options);player.addEvent("play",_V_.proxy(this,this.hide));player.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){if(this.player.currentTime()){this.player.currentTime(0)}this.player.play()}});_V_.LoadingSpinner=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("canplay",_V_.proxy(this,this.hide));player.addEvent("canplaythrough",_V_.proxy(this,this.hide));player.addEvent("playing",_V_.proxy(this,this.hide));player.addEvent("seeking",_V_.proxy(this,this.show));player.addEvent("error",_V_.proxy(this,this.show));player.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var classNameSpinner,innerHtmlSpinner;if(typeof this.player.el.style.WebkitBorderRadius=="string"||typeof this.player.el.style.MozBorderRadius=="string"||typeof this.player.el.style.KhtmlBorderRadius=="string"||typeof this.player.el.style.borderRadius=="string"){classNameSpinner="vjs-loading-spinner";innerHtmlSpinner="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"}else{classNameSpinner="vjs-loading-spinner-fallback";innerHtmlSpinner=""}return this._super("div",{className:classNameSpinner,innerHTML:innerHtmlSpinner})}});_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var el=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent:function(){var time=(this.player.scrubbing)?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(time,this.player.duration())}});_V_.DurationDisplay=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var el=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent:function(){if(this.player.duration()){this.content.innerHTML=_V_.formatTime(this.player.duration())}}});_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}});_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var el=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent:function(){if(this.player.duration()){this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime())}}});_V_.Slider=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent(this.playerEvent,_V_.proxy(this,this.update));this.addEvent("mousedown",this.onMouseDown);this.addEvent("focus",this.onFocus);this.addEvent("blur",this.onBlur);this.player.addEvent("controlsvisible",this.proxy(this.update));this.update()},createElement:function(type,attrs){attrs=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attrs);return this._super(type,attrs)},onMouseDown:function(event){event.preventDefault();_V_.blockTextSelection();_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove));_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp));this.onMouseMove(event)},onMouseUp:function(event){_V_.unblockTextSelection();_V_.removeEvent(document,"mousemove",this.onMouseMove,false);_V_.removeEvent(document,"mouseup",this.onMouseUp,false);this.update()},update:function(){var barProgress,progress=this.getPercent();handle=this.handle,bar=this.bar;if(isNaN(progress)){progress=0}barProgress=progress;if(handle){var box=this.el,boxWidth=box.offsetWidth,handleWidth=handle.el.offsetWidth,handlePercent=(handleWidth)?handleWidth/boxWidth:0,boxAdjustedPercent=1-handlePercent;adjustedProgress=progress*boxAdjustedPercent,barProgress=adjustedProgress+(handlePercent/2);handle.el.style.left=_V_.round(adjustedProgress*100,2)+"%"}bar.el.style.width=_V_.round(barProgress*100,2)+"%"},calculateDistance:function(event){var box=this.el,boxX=_V_.findPosX(box),boxW=box.offsetWidth,handle=this.handle;if(handle){var handleW=handle.el.offsetWidth;boxX=boxX+(handleW/2);boxW=boxW-handleW}return Math.max(0,Math.min(1,(event.pageX-boxX)/boxW))},onFocus:function(event){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(event){if(event.which==37){event.preventDefault();this.stepBack()}else{if(event.which==39){event.preventDefault();this.stepForward()}}},onBlur:function(event){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}});_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(player,options){this._super(player,options)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(event){this._super(event);this.player.scrubbing=true;this.videoWasPlaying=!this.player.paused();this.player.pause()},onMouseMove:function(event){var newTime=this.calculateDistance(event)*this.player.duration();if(newTime==this.player.duration()){newTime=newTime-0.1}this.player.currentTime(newTime)},onMouseUp:function(event){this._super(event);this.player.scrubbing=false;if(this.videoWasPlaying){this.player.play()}},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}});_V_.LoadProgressBar=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){if(this.el.style){this.el.style.width=_V_.round(this.player.bufferedPercent()*100,2)+"%"}}});_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}});_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}});_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}});_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(event){this.player.volume(this.calculateDistance(event))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+0.1)},stepBack:function(){this.player.volume(this.player.volume()-0.1)}});_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.MuteToggle=_V_.Button.extend({init:function(player,options){this._super(player,options);player.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(event){this.player.muted(this.player.muted()?false:true)},update:function(event){var vol=this.player.volume(),level=3;if(vol==0||this.player.muted()){level=0}else{if(vol<0.33){level=1}else{if(vol<0.67){level=2}}}_V_.each.call(this,[0,1,2,3],function(i){_V_.removeClass(this.el,"vjs-vol-"+i)});_V_.addClass(this.el,"vjs-vol-"+level)}});_V_.PosterImage=_V_.Button.extend({init:function(player,options){this._super(player,options);if(!this.player.options.poster){this.hide()}player.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}});_V_.Menu=_V_.Component.extend({init:function(player,options){this._super(player,options)},addItem:function(component){this.addComponent(component);component.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}});_V_.MenuItem=_V_.Button.extend({init:function(player,options){this._super(player,options);if(options.selected){this.addClass("vjs-selected")}},createElement:function(type,attrs){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},attrs))},onClick:function(){this.selected(true)},selected:function(selected){if(selected){this.addClass("vjs-selected")}else{this.removeClass("vjs-selected")}}});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;if(len===0){return -1}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!==n){n=0}else{if(n!==0&&n!==(1/0)&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n))}}}if(n>=len){return -1}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k}}return -1}}_V_.extend({addEvent:function(elem,type,fn){var data=_V_.getData(elem),handlers;if(data&&!data.handler){data.handler=function(event){event=_V_.fixEvent(event);var handlers=_V_.getData(elem).events[event.type];if(handlers){var handlersCopy=[];_V_.each(handlers,function(handler,i){handlersCopy[i]=handler});for(var i=0,l=handlersCopy.length;i<l;i++){handlersCopy[i].call(elem,event)}}}}if(!data.events){data.events={}}handlers=data.events[type];if(!handlers){handlers=data.events[type]=[];if(document.addEventListener){elem.addEventListener(type,data.handler,false)}else{if(document.attachEvent){elem.attachEvent("on"+type,data.handler)}}}if(!fn.guid){fn.guid=_V_.guid++}handlers.push(fn)},removeEvent:function(elem,type,fn){var data=_V_.getData(elem),handlers;if(!data.events){return}if(!type){for(type in data.events){_V_.cleanUpEvents(elem,type)}return}handlers=data.events[type];if(!handlers){return}if(fn&&fn.guid){for(var i=0;i<handlers.length;i++){if(handlers[i].guid===fn.guid){handlers.splice(i--,1)}}}_V_.cleanUpEvents(elem,type)},cleanUpEvents:function(elem,type){var data=_V_.getData(elem);if(data.events[type].length===0){delete data.events[type];if(document.removeEventListener){elem.removeEventListener(type,data.handler,false)}else{if(document.detachEvent){elem.detachEvent("on"+type,data.handler)}}}if(_V_.isEmpty(data.events)){delete data.events;delete data.handler}if(_V_.isEmpty(data)){_V_.removeData(elem)}},fixEvent:function(event){if(event[_V_.expando]){return event}var originalEvent=event;event=new _V_.Event(originalEvent);for(var i=_V_.Event.props.length,prop;i;){prop=_V_.Event.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var eventDocument=event.target.ownerDocument||document,doc=eventDocument.documentElement,body=eventDocument.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(event.which==null&&(event.charCode!=null||event.keyCode!=null)){event.which=event.charCode!=null?event.charCode:event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},triggerEvent:function(elem,event){var data=_V_.getData(elem),parent=elem.parentNode||elem.ownerDocument,type=event.type||event,handler;if(data){handler=data.handler}event=typeof event==="object"?event[_V_.expando]?event:new _V_.Event(type,event):new _V_.Event(type);event.type=type;if(handler){handler.call(elem,event)}event.result=undefined;event.target=elem},one:function(elem,type,fn){_V_.addEvent(elem,type,function(){_V_.removeEvent(elem,type,arguments.callee);fn.apply(this,arguments)})}});_V_.Event=function(src,props){if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){_V_.merge(this,props)}this.timeStamp=(new Date).getTime();this[_V_.expando]=true};_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");function returnTrue(){return true}function returnFalse(){return false}var JSON;if(!JSON){JSON={}}(function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());_V_.Player=_V_.Component.extend({init:function(tag,addOptions,ready){this.tag=tag;var el=this.el=_V_.createElement("div"),options=this.options={},width=options.width=tag.getAttribute("width"),height=options.height=tag.getAttribute("height"),initWidth=width||300,initHeight=height||150;tag.player=el.player=this;this.ready(ready);tag.parentNode.insertBefore(el,tag);el.appendChild(tag);el.id=this.id=tag.id;el.className=tag.className;tag.id+="_html5_api";tag.className="vjs-tech";_V_.players[el.id]=this;el.setAttribute("width",initWidth);el.setAttribute("height",initHeight);el.style.width=initWidth+"px";el.style.height=initHeight+"px";tag.removeAttribute("width");tag.removeAttribute("height");_V_.merge(options,_V_.options);_V_.merge(options,this.getVideoTagSettings());_V_.merge(options,addOptions);tag.removeAttribute("controls");tag.removeAttribute("poster");if(tag.hasChildNodes()){for(var i=0,j=tag.childNodes;i<j.length;i++){if(j[i].nodeName=="SOURCE"||j[i].nodeName=="TRACK"){tag.removeChild(j[i])}}}this.values={};this.addClass("vjs-paused");this.addEvent("ended",this.onEnded);this.addEvent("play",this.onPlay);this.addEvent("pause",this.onPause);this.addEvent("progress",this.onProgress);this.addEvent("error",this.onError);if(options.controls){this.ready(function(){this.initComponents()})}this.textTracks=[];if(options.tracks&&options.tracks.length>0){this.addTextTracks(options.tracks)}if(!options.sources||options.sources.length==0){for(var i=0,j=options.techOrder;i<j.length;i++){var techName=j[i],tech=_V_[techName];if(tech.isSupported()){this.loadTech(techName);break}}}else{this.src(options.sources)}},values:{},destroy:function(){this.stopTrackingProgress();this.stopTrackingCurrentTime();_V_.players[this.id]=null;delete _V_.players[this.id];this.tech.destroy();this.el.parentNode.removeChild(this.el)},createElement:function(type,options){},getVideoTagSettings:function(){var options={sources:[],tracks:[]};options.src=this.tag.getAttribute("src");options.controls=this.tag.getAttribute("controls")!==null;options.poster=this.tag.getAttribute("poster");options.preload=this.tag.getAttribute("preload");options.autoplay=this.tag.getAttribute("autoplay")!==null;options.loop=this.tag.getAttribute("loop")!==null;options.muted=this.tag.getAttribute("muted")!==null;if(this.tag.hasChildNodes()){for(var c,i=0,j=this.tag.childNodes;i<j.length;i++){c=j[i];if(c.nodeName=="SOURCE"){options.sources.push({src:c.getAttribute("src"),type:c.getAttribute("type"),media:c.getAttribute("media"),title:c.getAttribute("title")})}if(c.nodeName=="TRACK"){options.tracks.push({src:c.getAttribute("src"),kind:c.getAttribute("kind"),srclang:c.getAttribute("srclang"),label:c.getAttribute("label"),"default":c.getAttribute("default")!==null,title:c.getAttribute("title")})}}}return options},loadTech:function(techName,source){if(this.tech){this.unloadTech()}else{if(techName!="html5"&&this.tag){this.el.removeChild(this.tag);this.tag=false}}this.techName=techName;this.isReady=false;var techReady=function(){this.player.triggerReady();if(!this.support.progressEvent){this.player.manualProgressOn()}if(!this.support.timeupdateEvent){this.player.manualTimeUpdatesOn()}};var techOptions=_V_.merge({source:source,parentEl:this.el},this.options[techName]);if(source){if(source.src==this.values.src&&this.values.currentTime>0){techOptions.startTime=this.values.currentTime}this.values.src=source.src}this.tech=new _V_[techName](this,techOptions);this.tech.ready(techReady)},unloadTech:function(){this.tech.destroy();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false},manualProgressOn:function(){this.manualProgress=true;this.trackProgress();this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee);this.support.progressEvent=true;this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=false;this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){if(this.values.bufferEnd<this.buffered().end(0)){this.triggerEvent("progress")}else{if(this.bufferedPercent()==1){this.stopTrackingProgress();this.triggerEvent("progress")}}}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=true;this.addEvent("play",this.trackCurrentTime);this.addEvent("pause",this.stopTrackingCurrentTime);this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee);this.support.timeupdateEvent=true;this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.removeEvent("play",this.trackCurrentTime);this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){if(this.options.loop){this.currentTime(0);this.play()}else{this.pause();this.currentTime(0);this.pause()}},onPlay:function(){_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")},onProgress:function(){if(this.bufferedPercent()==1){this.triggerEvent("loadedalldata")}},onError:function(e){_V_.log("Video Error",e)},techCall:function(method,arg){if(!this.tech.isReady){this.tech.ready(function(){this[method](arg)})}else{try{this.tech[method](arg)}catch(e){_V_.log(e)}}},techGet:function(method){if(this.tech.isReady){try{return this.tech[method]()}catch(e){if(this.tech[method]===undefined){_V_.log("Video.js: "+method+" method not defined for "+this.techName+" playback technology.",e)}else{if(e.name=="TypeError"){_V_.log("Video.js: "+method+" unavailable on "+this.techName+" playback technology element.",e);this.tech.isReady=false}else{_V_.log(e)}}}}return},play:function(){this.techCall("play");return this},pause:function(){this.techCall("pause");return this},paused:function(){return(this.techGet("paused")===false)?false:true},currentTime:function(seconds){if(seconds!==undefined){this.values.lastSetCurrentTime=seconds;this.techCall("setCurrentTime",seconds);if(this.manualTimeUpdates){this.triggerEvent("timeupdate")}return this}return this.values.currentTime=(this.techGet("currentTime")||0)},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var buffered=this.techGet("buffered"),start=0,end=this.values.bufferEnd=this.values.bufferEnd||0,timeRange;if(buffered&&buffered.length>0&&buffered.end(0)!==end){end=buffered.end(0);this.values.bufferEnd=end}return _V_.createTimeRange(start,end)},bufferedPercent:function(){return(this.duration())?this.buffered().end(0)/this.duration():0},volume:function(percentAsDecimal){var vol;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.values.volume=vol;this.techCall("setVolume",vol);_V_.setLocalStorage("volume",vol);return this}vol=parseFloat(this.techGet("volume"));return(isNaN(vol))?1:vol},muted:function(muted){if(muted!==undefined){this.techCall("setMuted",muted);return this}return this.techGet("muted")||false},width:function(width,skipListeners){if(width!==undefined){this.el.width=width;this.el.style.width=width+"px";if(!skipListeners){this.triggerEvent("resize")}return this}return parseInt(this.el.getAttribute("width"))},height:function(height){if(height!==undefined){this.el.height=height;this.el.style.height=height+"px";this.triggerEvent("resize");return this}return parseInt(this.el.getAttribute("height"))},size:function(width,height){return this.width(width,true).height(height)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||false},requestFullScreen:function(){var requestFullScreen=_V_.support.requestFullScreen;this.isFullScreen=true;if(requestFullScreen){_V_.addEvent(document,requestFullScreen.eventName,this.proxy(function(){this.isFullScreen=document[requestFullScreen.isFullScreen];if(this.isFullScreen==false){_V_.removeEvent(document,requestFullScreen.eventName,arguments.callee)}this.triggerEvent("fullscreenchange")}));if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.addEvent(document,requestFullScreen.eventName,this.proxy(function(){_V_.removeEvent(document,requestFullScreen.eventName,arguments.callee);this.loadTech(this.techName,{src:this.values.src})}));this.el[requestFullScreen.requestFn]()}else{this.el[requestFullScreen.requestFn]()}}else{if(this.tech.supportsFullScreen()){this.triggerEvent("fullscreenchange");this.techCall("enterFullScreen")}else{this.triggerEvent("fullscreenchange");this.enterFullWindow()}}return this},cancelFullScreen:function(){var requestFullScreen=_V_.support.requestFullScreen;this.isFullScreen=false;if(requestFullScreen){if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.addEvent(document,requestFullScreen.eventName,this.proxy(function(){_V_.removeEvent(document,requestFullScreen.eventName,arguments.callee);this.loadTech(this.techName,{src:this.values.src})}));document[requestFullScreen.cancelFn]()}else{document[requestFullScreen.cancelFn]()}}else{if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen");this.triggerEvent("fullscreenchange")}else{this.exitFullWindow();this.triggerEvent("fullscreenchange")}}return this},enterFullWindow:function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";_V_.addClass(document.body,"vjs-full-window");_V_.addClass(this.el,"vjs-fullscreen");this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(event){if(event.keyCode==27){if(this.isFullScreen==true){this.cancelFullScreen()}else{this.exitFullWindow()}}},exitFullWindow:function(){this.isFullWindow=false;_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;_V_.removeClass(document.body,"vjs-full-window");_V_.removeClass(this.el,"vjs-fullscreen");this.triggerEvent("exitFullWindow")},selectSource:function(sources){for(var i=0,j=this.options.techOrder;i<j.length;i++){var techName=j[i],tech=_V_[techName];if(tech.isSupported()){for(var a=0,b=sources;a<b.length;a++){var source=b[a];if(tech.canPlaySource.call(this,source)){return{source:source,tech:techName}}}}}return false},src:function(source){if(source instanceof Array){var sourceTech=this.selectSource(source),source,techName;if(sourceTech){source=sourceTech.source;techName=sourceTech.tech;if(techName==this.techName){this.src(source)}else{this.loadTech(techName,source)}}else{_V_.log("No compatible source and playback technology were found.")}}else{if(source instanceof Object){if(_V_[this.techName].canPlaySource(source)){this.src(source.src)}else{this.src([source])}}else{this.values.src=source;if(!this.isReady){this.ready(function(){this.src(source)})}else{this.techCall("src",source);if(this.options.preload=="auto"){this.load()}if(this.options.autoplay){this.play()}}}}return this},load:function(){this.techCall("load");return this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(value){if(value!==undefined){this.techCall("setPreload",value);this.options.preload=value;return this}return this.techGet("preload")},autoplay:function(value){if(value!==undefined){this.techCall("setAutoplay",value);this.options.autoplay=value;return this}return this.techGet("autoplay",value)},loop:function(value){if(value!==undefined){this.techCall("setLoop",value);this.options.loop=value;return this}return this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}});(function(){var requestFn,cancelFn,eventName,isFullScreen,playerProto=_V_.Player.prototype;if(document.cancelFullscreen!==undefined){requestFn="requestFullscreen";cancelFn="exitFullscreen";eventName="fullscreenchange";isFullScreen="fullScreen"}else{_V_.each(["moz","webkit"],function(prefix){if((prefix!="moz"||document.mozFullScreenEnabled)&&document[prefix+"CancelFullScreen"]!==undefined){requestFn=prefix+"RequestFullScreen";cancelFn=prefix+"CancelFullScreen";eventName=prefix+"fullscreenchange";if(prefix=="webkit"){isFullScreen=prefix+"IsFullScreen"}else{isFullScreen=prefix+"FullScreen"}}})}if(requestFn){_V_.support.requestFullScreen={requestFn:requestFn,cancelFn:cancelFn,eventName:eventName,isFullScreen:isFullScreen}}})();_V_.PlaybackTech=_V_.Component.extend({init:function(player,options){},onClick:function(){if(this.player.options.controls){_V_.PlayToggle.prototype.onClick.call(this)}}});_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");_V_.each(_V_.apiMethods,function(methodName){_V_.PlaybackTech.prototype[methodName]=function(){throw new Error("The '"+methodName+"' method is not available on the playback technology's API")}});_V_.html5=_V_.PlaybackTech.extend({init:function(player,options,ready){this.player=player;this.el=this.createElement();this.ready(ready);this.addEvent("click",this.proxy(this.onClick));var source=options.source;if(source&&this.el.currentSrc==source.src){player.triggerEvent("loadstart")}else{if(source){this.el.src=source.src}}player.ready(function(){if(this.options.autoplay&&this.paused()){this.tag.poster=null;this.play()}});this.setupTriggers();this.triggerReady()},destroy:function(){this.player.tag=false;this.removeTriggers();this.el.parentNode.removeChild(this.el)},createElement:function(){var html5=_V_.html5,player=this.player,el=player.tag,newEl;if(!el||this.support.movingElementInDOM===false){if(el){player.el.removeChild(el)}newEl=_V_.createElement("video",{id:el.id||player.el.id+"_html5_api",className:el.className||"vjs-tech"});el=newEl;_V_.insertFirst(el,player.el)}_V_.each(["autoplay","preload","loop","muted"],function(attr){if(player.options[attr]!==null){el[attr]=player.options[attr]}},this);return el},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(type){_V_.addEvent(this.el,type,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(type){_V_.removeEvent(this.el,type,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(e){e.stopPropagation();this.triggerEvent(e)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(seconds){try{this.el.currentTime=seconds}catch(e){_V_.log(e,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(percentAsDecimal){this.el.volume=percentAsDecimal},muted:function(){return this.el.muted},setMuted:function(muted){this.el.muted=muted},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){if(typeof this.el.webkitEnterFullScreen=="function"){if(!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")){return true}}return false},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(e){if(e.code==11){_V_.log("VideoJS: Video not ready.")}}},src:function(src){this.el.src=src},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(val){this.el.preload=val},autoplay:function(){return this.el.autoplay},setAutoplay:function(val){this.el.autoplay=val},loop:function(){return this.el.loop},setLoop:function(val){this.el.loop=val},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}});_V_.html5.isSupported=function(){return !!document.createElement("video").canPlayType};_V_.html5.canPlaySource=function(srcObj){return !!document.createElement("video").canPlayType(srcObj.type)};_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");_V_.html5.prototype.support={fullscreen:(typeof _V_.testVid.webkitEnterFullScreen!==undefined)?(!_V_.ua.match("Chrome")&&!_V_.ua.match("Mac OS X 10.5")?true:false):false,movingElementInDOM:!_V_.isIOS()};if(_V_.isAndroid()){if(_V_.androidVersion()<3){document.createElement("video").constructor.prototype.canPlayType=function(type){return(type&&type.toLowerCase().indexOf("video/mp4")!=-1)?"maybe":""}}}_V_.flash=_V_.PlaybackTech.extend({init:function(player,options){this.player=player;var source=options.source,parentEl=options.parentEl,placeHolder=this.el=_V_.createElement("div",{id:parentEl.id+"_temp_flash"}),objId=player.el.id+"_flash_api",playerOptions=player.options,flashVars=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:playerOptions.autoplay,preload:playerOptions.preload,loop:playerOptions.loop,muted:playerOptions.muted},options.flashVars),params=_V_.merge({wmode:"opaque",bgcolor:"#000000"},options.params),attributes=_V_.merge({id:objId,name:objId,"class":"vjs-tech"},options.attributes);if(source){flashVars.src=encodeURIComponent(_V_.getAbsoluteURL(source.src))}_V_.insertFirst(placeHolder,parentEl);if(options.startTime){this.ready(function(){this.load();this.play();this.currentTime(options.startTime)})}if(options.iFrameMode==true&&!_V_.isFF){var iFrm=_V_.createElement("iframe",{id:objId+"_iframe",name:objId+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});flashVars.readyFunction="ready";flashVars.eventProxyFunction="events";flashVars.errorEventProxyFunction="errors";_V_.addEvent(iFrm,"load",_V_.proxy(this,function(){var iDoc,objTag,swfLoc,iWin=iFrm.contentWindow,varString="";iDoc=iFrm.contentDocument?iFrm.contentDocument:iFrm.contentWindow.document;iDoc.write(_V_.flash.getEmbedCode(options.swf,flashVars,params,attributes));iWin.player=this.player;iWin.ready=_V_.proxy(this.player,function(currSwf){var el=iDoc.getElementById(currSwf),player=this,tech=player.tech;tech.el=el;_V_.addEvent(el,"click",tech.proxy(tech.onClick));_V_.flash.checkReady(tech)});iWin.events=_V_.proxy(this.player,function(swfID,eventName,other){var player=this;if(player&&player.techName=="flash"){player.triggerEvent(eventName)}});iWin.errors=_V_.proxy(this.player,function(swfID,eventName){_V_.log("Flash Error",eventName)})}));placeHolder.parentNode.replaceChild(iFrm,placeHolder)}else{_V_.flash.embed(options.swf,placeHolder,flashVars,params,attributes)}},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(src){src=_V_.getAbsoluteURL(src);this.el.vjs_src(src);if(this.player.autoplay()){var tech=this;setTimeout(function(){tech.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return false},enterFullScreen:function(){return false}});(function(){var api=_V_.flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),callOnly="load,play,pause".split(",");createSetter=function(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);api["set"+attrUpper]=function(val){return this.el.vjs_setProperty(attr,val)}},createGetter=function(attr){api[attr]=function(){return this.el.vjs_getProperty(attr)}};_V_.each(readWrite,function(attr){createGetter(attr);createSetter(attr)});_V_.each(readOnly,function(attr){createGetter(attr)})})();_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10};_V_.flash.canPlaySource=function(srcObj){if(srcObj.type in _V_.flash.prototype.support.formats){return"maybe"}};_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:false,timeupdateEvent:false,fullscreenResize:false,parentResize:!(_V_.ua.match("Firefox"))};_V_.flash.onReady=function(currSwf){var el=_V_.el(currSwf);var player=el.player||el.parentNode.player,tech=player.tech;el.player=player;tech.el=el;tech.addEvent("click",tech.onClick);_V_.flash.checkReady(tech)};_V_.flash.checkReady=function(tech){if(tech.el.vjs_getProperty){tech.triggerReady()}else{setTimeout(function(){_V_.flash.checkReady(tech)},50)}};_V_.flash.onEvent=function(swfID,eventName){var player=_V_.el(swfID).player;player.triggerEvent(eventName)};_V_.flash.onError=function(swfID,err){var player=_V_.el(swfID).player;player.triggerEvent("error");_V_.log("Flash Error",err,swfID)};_V_.flash.version=function(){var version="0,0,0";try{version=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){version=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(e){}}return version.split(",")};_V_.flash.embed=function(swf,placeHolder,flashVars,params,attributes){var code=_V_.flash.getEmbedCode(swf,flashVars,params,attributes),obj=_V_.createElement("div",{innerHTML:code}).childNodes[0],par=placeHolder.parentNode;placeHolder.parentNode.replaceChild(obj,placeHolder);if(_V_.isIE()){var newObj=par.childNodes[0];setTimeout(function(){newObj.style.display="block"},1000)}return obj};_V_.flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type="application/x-shockwave-flash"',flashVarsString="",paramsString="";attrsString="";if(flashVars){_V_.eachProp(flashVars,function(key,val){flashVarsString+=(key+"="+val+"&amp;")})}params=_V_.merge({movie:swf,flashvars:flashVarsString,allowScriptAccess:"always",allowNetworking:"all"},params);_V_.eachProp(params,function(key,val){paramsString+='<param name="'+key+'" value="'+val+'" />'});attributes=_V_.merge({data:swf,width:"100%",height:"100%"},attributes);_V_.eachProp(attributes,function(key,val){attrsString+=(key+'="'+val+'" ')});return objTag+attrsString+">"+paramsString+"</object>"};_V_.merge(_V_.Player.prototype,{addTextTracks:function(trackObjects){var tracks=this.textTracks=(this.textTracks)?this.textTracks:[],i=0,j=trackObjects.length,track,Kind;for(;i<j;i++){Kind=_V_.uc(trackObjects[i].kind||"subtitles");track=new _V_[Kind+"Track"](this,trackObjects[i]);tracks.push(track);if(track["default"]){this.ready(_V_.proxy(track,track.show))}}return this},showTextTrack:function(id,disableSameKind){var tracks=this.textTracks,i=0,j=tracks.length,track,showTrack,kind;for(;i<j;i++){track=tracks[i];if(track.id===id){track.show();showTrack=track}else{if(disableSameKind&&track.kind==disableSameKind&&track.mode>0){track.disable()}}}kind=(showTrack)?showTrack.kind:((disableSameKind)?disableSameKind:false);if(kind){this.triggerEvent(kind+"trackchange")}return this}});_V_.Track=_V_.Component.extend({init:function(player,options){this._super(player,options);_V_.merge(this,{id:options.id||("vjs_"+options.kind+"_"+options.language+"_"+_V_.guid++),src:options.src,"default":options["default"],title:options.title,language:options.srclang,label:options.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate();this.mode=2;this._super()},hide:function(){this.activate();this.mode=1;this._super()},disable:function(){if(this.mode==2){this.hide()}this.deactivate();this.mode=0},activate:function(){if(this.readyState==0){this.load()}if(this.mode==0){this.player.addEvent("timeupdate",this.proxy(this.update,this.id));this.player.addEvent("ended",this.proxy(this.reset,this.id));if(this.kind=="captions"||this.kind=="subtitles"){this.player.textTrackDisplay.addComponent(this)}}},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id));this.player.removeEvent("ended",this.proxy(this.reset,this.id));this.reset();this.player.textTrackDisplay.removeComponent(this)},load:function(){if(this.readyState==0){this.readyState=1;_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError))}},onError:function(err){this.error=err;this.readyState=3;this.triggerEvent("error")},parseCues:function(srcContent){var cue,time,text,lines=srcContent.split("\n"),line="",id;for(var i=1,j=lines.length;i<j;i++){line=_V_.trim(lines[i]);if(line){if(line.indexOf("-->")==-1){id=line;line=_V_.trim(lines[++i])}else{id=this.cues.length}cue={id:id,index:this.cues.length};time=line.split(" --> ");cue.startTime=this.parseCueTime(time[0]);cue.endTime=this.parseCueTime(time[1]);text=[];while(lines[++i]&&(line=_V_.trim(lines[i]))){text.push(line)}cue.text=text.join("<br/>");this.cues.push(cue)}}this.readyState=2;this.triggerEvent("loaded")},parseCueTime:function(timeText){var parts=timeText.split(":"),time=0,hours,minutes,other,seconds,ms,flags;if(parts.length==3){hours=parts[0];minutes=parts[1];other=parts[2]}else{hours=0;minutes=parts[0];other=parts[1]}other=other.split(/\s+/);seconds=other.splice(0,1)[0];seconds=seconds.split(/\.|,/);ms=parseFloat(seconds[1]);seconds=seconds[0];time+=parseFloat(hours)*3600;time+=parseFloat(minutes)*60;time+=parseFloat(seconds);if(ms){time+=ms/1000}return time},update:function(){if(this.cues.length>0){var time=this.player.currentTime();if(this.prevChange===undefined||time<this.prevChange||this.nextChange<=time){var cues=this.cues,newNextChange=this.player.duration(),newPrevChange=0,reverse=false,newCues=[],firstActiveIndex,lastActiveIndex,html="",cue,i,j;if(time>=this.nextChange||this.nextChange===undefined){i=(this.firstActiveIndex!==undefined)?this.firstActiveIndex:0}else{reverse=true;i=(this.lastActiveIndex!==undefined)?this.lastActiveIndex:cues.length-1}while(true){cue=cues[i];if(cue.endTime<=time){newPrevChange=Math.max(newPrevChange,cue.endTime);if(cue.active){cue.active=false}}else{if(time<cue.startTime){newNextChange=Math.min(newNextChange,cue.startTime);if(cue.active){cue.active=false}if(!reverse){break}}else{if(reverse){newCues.splice(0,0,cue);if(lastActiveIndex===undefined){lastActiveIndex=i}firstActiveIndex=i}else{newCues.push(cue);if(firstActiveIndex===undefined){firstActiveIndex=i}lastActiveIndex=i}newNextChange=Math.min(newNextChange,cue.endTime);newPrevChange=Math.max(newPrevChange,cue.startTime);cue.active=true}}if(reverse){if(i===0){break}else{i--}}else{if(i===cues.length-1){break}else{i++}}}this.activeCues=newCues;this.nextChange=newNextChange;this.prevChange=newPrevChange;this.firstActiveIndex=firstActiveIndex;this.lastActiveIndex=lastActiveIndex;this.updateDisplay();this.triggerEvent("cuechange")}}},updateDisplay:function(){var cues=this.activeCues,html="",i=0,j=cues.length;for(;i<j;i++){html+="<span class='vjs-tt-cue'>"+cues[i].text+"</span>"}this.el.innerHTML=html},reset:function(){this.nextChange=0;this.prevChange=this.player.duration();this.firstActiveIndex=0;this.lastActiveIndex=0}});_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"});_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"});_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"});_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}});_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(player,options){var track=this.track=options.track;options.label=track.label;options.selected=track["default"];this._super(player,options);this.player.addEvent(track.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){if(this.track.mode==2){this.selected(true)}else{this.selected(false)}}});_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(player,options){options.track={kind:options.kind,player:player,label:"Off"};this._super(player,options)},onClick:function(){this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){var tracks=this.player.textTracks,i=0,j=tracks.length,track,off=true;for(;i<j;i++){track=tracks[i];if(track.kind==this.track.kind&&track.mode==2){off=false}}if(off){this.selected(true)}else{this.selected(false)}}});_V_.TextTrackButton=_V_.Button.extend({init:function(player,options){this._super(player,options);this.menu=this.createMenu();if(this.items.length===0){this.hide()}},createMenu:function(){var menu=new _V_.Menu(this.player);menu.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));menu.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind}));this.items=this.createItems();this.each(this.items,function(item){menu.addItem(item)});this.addComponent(menu);return menu},createItems:function(){var items=[];this.each(this.player.textTracks,function(track){if(track.kind===this.kind){items.push(new _V_.TextTrackMenuItem(this.player,{track:track}))}});return items},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing();_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing();this.el.blur()}))}});_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"});_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"});_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(chaptersTrack){var items=[];this.each(this.player.textTracks,function(track){if(track.kind===this.kind){items.push(new _V_.TextTrackMenuItem(this.player,{track:track}))}});return items},createMenu:function(){var tracks=this.player.textTracks,i=0,j=tracks.length,track,chaptersTrack,items=this.items=[];for(;i<j;i++){track=tracks[i];if(track.kind==this.kind&&track["default"]){if(track.readyState<2){this.chaptersTrack=track;track.addEvent("loaded",this.proxy(this.createMenu));return}else{chaptersTrack=track;break}}}var menu=this.menu=new _V_.Menu(this.player);menu.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));if(chaptersTrack){var cues=chaptersTrack.cues,i=0,j=cues.length,cue,mi;for(;i<j;i++){cue=cues[i];mi=new _V_.ChaptersTrackMenuItem(this.player,{track:chaptersTrack,cue:cue});items.push(mi);menu.addComponent(mi)}}this.addComponent(menu);if(this.items.length>0){this.show()}return menu}});_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(player,options){var track=this.track=options.track,cue=this.cue=options.cue,currentTime=player.currentTime();options.label=cue.text;options.selected=(cue.startTime<=currentTime&&currentTime<cue.endTime);this._super(player,options);track.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super();this.player.currentTime(this.cue.startTime);this.update(this.cue.startTime)},update:function(time){var cue=this.cue,currentTime=this.player.currentTime();if(cue.startTime<=currentTime&&currentTime<cue.endTime){this.selected(true)}else{this.selected(false)}}});_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});_V_.autoSetup=function(){var options,vid,player,vids=document.getElementsByTagName("video");if(vids&&vids.length>0){for(var i=0,j=vids.length;i<j;i++){vid=vids[i];if(vid&&vid.getAttribute){if(vid.player===undefined){options=vid.getAttribute("data-setup");if(options!==null){options=JSON.parse(options||"{}");player=_V_(vid,options)}}}else{_V_.autoSetupTimeout(1);break}}}else{if(!_V_.windowLoaded){_V_.autoSetupTimeout(1)}}};_V_.autoSetupTimeout=function(wait){setTimeout(_V_.autoSetup,wait)};_V_.addEvent(window,"load",function(){_V_.windowLoaded=true});_V_.autoSetup();window.VideoJS=window._V_=VideoJS})(window);

// Video Controller
(function(e){function t(t,n){function r(){if(E)s();else{var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t);window.onYouTubePlayerAPIReady=function(){s()}}}function s(){w=new YT.Player(g[0],{events:{onReady:function(){x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}},onStateChange:function(e){switch(e.data){case YT.PlayerState.BUFFERING:if(!N){N=true;m("start")}break;case YT.PlayerState.PLAYING:if(!N){N=true;m("start")}if(!C){C=true;m("play")}break;case YT.PlayerState.PAUSED:if(C){C=false;m("pause")}break;case YT.PlayerState.ENDED:C=false;m("end")}}}})}function o(){w=Froogaloop(g[0]);w.addEvent("ready",function(){x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.addEvent("loadProgress",function(){if(!N){N=true;m("start")}});w.addEvent("play",function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.addEvent("pause",function(){if(C){C=false;m("pause")}});w.addEvent("finish",function(){C=false;m("end")})})}function u(){VideoJS(g.attr("id")).ready(function(){w=this;x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.addEvent("play",function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.addEvent("pause",function(){if(C){C=false;m("pause")}});w.addEvent("ended",function(){C=false;m("end")});w.addEvent("enterFullWindow",function(){m("fullscreenchange")});w.addEvent("exitFullWindow",function(){m("fullscreenchange")})})}function a(){if(S)f();else var e=setInterval(function(){if(sublimevideo.prepare){clearInterval(e);f()}},100)}function f(){if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}sublimevideo.onStart(function(){m("start");m("play")});sublimevideo.onEnd(function(){m("end")})}function l(){w=g[0];x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.addEventListener("play",function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.addEventListener("pause",function(){if(C){C=false;m("pause")}});w.addEventListener("ended",function(){C=false;m("end")})}function c(){var e=g.find("object").length?g.find("object").attr("id"):g.attr("id");w=jwplayer(e);x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.onPlay(function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.onBuffer(function(){if(!N){N=true;m("start")}});w.onPause(function(){if(C){C=false;m("pause")}});w.onComplete(function(){C=false;m("end")})}function h(){if(b=="youtube-video")w.playVideo();else if(b=="vimeo-video")w.api("play");else if(b=="html5-video-js")w.play();else if(b=="html5-sublime-video")sublimevideo.play();else if(b=="html5-video")w.play();else b=="jw-player-video"&&w.play(true)}function p(){if(b=="youtube-video"){w.seekTo(1);w.stopVideo()}else if(b=="vimeo-video"){w.api("pause");w.api("unload")}else if(b=="html5-video-js"){w.currentTime(0);w.pause()}else if(b=="html5-sublime-video")sublimevideo.stop();else if(b=="html5-video"){w.currentTime=0;w.pause()}else if(b=="jw-player-video"){w.seek(0);w.pause(true)}}function d(){if(b=="youtube-video")w.pauseVideo();else if(b=="vimeo-video")w.api("pause");else if(b=="html5-video-js")w.pause();else if(b=="html5-sublime-video")sublimevideo.stop();else if(b=="html5-video")w.pause();else b=="jw-player-video"&&w.pause(true)}function v(){if(b=="youtube-video")w.stopVideo();else if(b=="vimeo-video")w.api("pause");else if(b=="html5-video-js")w.pause();else if(b=="html5-sublime-video")sublimevideo.stop();else if(b=="html5-video")w.pause();else b=="jw-player-video"&&w.pause(true)}function m(t){var n={type:t};switch(t){case"start":e.isFunction(y.settings.start)&&y.settings.start.call(this,n);break;case"play":e.isFunction(y.settings.play)&&y.settings.play.call(this,n);break;case"pause":e.isFunction(y.settings.pause)&&y.settings.pause.call(this,n);break;case"end":e.isFunction(y.settings.end)&&y.settings.end.call(this,n);break;case"fullscreenchange":e.isFunction(y.settings.fullscreenchange)&&y.settings.fullscreenchange.call(this,n)}}this.settings=e.extend({},e.fn.videoController.defaults,n);var g=e(t),y=this,b,w,E=window.YT&&window.YT.Player,S=window.sublimevideo&&window.sublimevideo.prepare,x=false,T=false,N=false,C=false;b=y.settings.videoType;switch(b){case"youtube-video":r();break;case"vimeo-video":o();break;case"html5-video-js":u();break;case"html5-sublime-video":a();break;case"html5-video":l();break;case"jw-player-video":c()}this.reachVideo=function(){if(y.settings.reachVideoAction=="playVideo"&&x&&!T){T=true;h()}};this.leaveVideo=function(){T=false;if(N&&w||b=="html5-sublime-video")if(y.settings.leaveVideoAction=="stopVideo"||y.settings.leaveVideoAction=="removeVideo")p();else if(y.settings.leaveVideoAction=="pauseVideoAndBuffering")v();else y.settings.leaveVideoAction=="pauseVideo"&&d()};this.stopVideo=p;this.pauseVideo=d;this.replayVideo=function(){if(b=="youtube-video"){w.seekTo(1);w.playVideo()}else if(b=="vimeo-video")w.api("play");else if(b=="html5-video-js"){w.currentTime(0);w.play()}else if(b=="html5-sublime-video")sublimevideo.play();else if(b=="html5-video"){w.currentTime=0;w.play()}else if(b=="jw-player-video"){w.seek(0);w.play(true)}};this.pauseVideoAndBuffering=v}e.fn.videoController=function(e){for(var n=[],r=0;r<this.length;r++){if(!this[r].videoControllerInstance)this[r].videoControllerInstance=new t(this[r],e);n.push(this[r].videoControllerInstance)}return n.length>1?n:n[0]};e.fn.videoController.defaults={start:null,play:null,pause:null,end:null,videoType:null,fullscreenchange:null,reachVideoAction:"none",leaveVideoAction:"pauseVideo"}})(jQuery);

// Easing
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(t==0)return n;if((t/=i)==1)return n+r;s||(s=i*.3);if(o<Math.abs(r)){o=r;e=s/4}else e=s/(2*Math.PI)*Math.asin(r/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s))+n},easeOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(t==0)return n;if((t/=i)==1)return n+r;s||(s=i*.3);if(o<Math.abs(r)){o=r;e=s/4}else e=s/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*i-e)*2*Math.PI/s)+r+n},easeInOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(t==0)return n;if((t/=i/2)==2)return n+r;s||(s=i*.3*1.5);if(o<Math.abs(r)){o=r;e=s/4}else e=s/(2*Math.PI)*Math.asin(r/o);if(t<1)return-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)+n;return o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});

// Advanced Slider
(function(e){function t(t,n){function r(){xn=dt.find(".slides");if(vt.settings.shuffle){var t=xn.children();xn.find(".slide").each(function(t){e(this).attr("data-index",t)});t=t.sort(function(){return.5-Math.random()});xn.empty().append(t)}dt.find("a[data-rel^='slider-lightbox']").length&&dt.find("a[data-rel^='slider-lightbox']").each(function(){e(this).attr("rel",e(this).attr("data-rel"))});xn.children(".slide").each(function(t,n){var r={},i=vt.settings.shuffle?parseInt(e(n).data("index"),10):t;r.properties={};wt.push(e(this));e(this).data("image")&&(r.lazyImage=e(this).data("image"),r.lazyImageLoaded=!1);for(var s=0;s<e(this).children().length;s++){var o=e(this).children()[s];e(o).hasClass("thumbnail")||e(o).is("a")&&e(o).children(".thumbnail").length?r.thumbnail=e(o).clone():e(o).hasClass("layer")?(r.layer||(r.layer=[]),r.layer.push(e(o))):r[e(o).attr("class")]=e(o)}!r.caption&&e(this).find(".caption").length&&(r.caption=e(this).find(".caption"));!r.html&&e(this).find(".html").length&&(r.html=e(this).find(".html"));if(vt.settings.xmlSource)r.properties=bt[i].properties,bt[t]=r;else{for(s=0;s<Fn.length;s++){var o=Fn[s],u;vt.settings.slideProperties&&vt.settings.slideProperties[i]&&(u=vt.settings.slideProperties[i][o]);r.properties[o]||(r.properties[o]=void 0===u?vt.settings[o]:u)}bt.push(r)}});Hn?(xn.find(".slide .thumbnail").parent("a").css("display","none"),xn.find(".slide .thumbnail").css("display","none"),e(window).load(function(){xn.find(".slide .thumbnail").parent("a").remove();xn.find(".slide .thumbnail").remove()})):(xn.find(".slide .thumbnail").parent("a").remove(),xn.find(".slide .thumbnail").remove());Et=bt.length;i();t={type:"sliderInit"};e.isFunction(vt.settings.sliderInit)&&vt.settings.sliderInit.call(this,t)}function i(){dt.addClass(vt.settings.skin).css({width:vt.settings.width,height:vt.settings.height}).focus(function(){Bn=!0;dt.addClass("focus")}).blur(function(){Bn=!1;dt.hasClass("focus")&&dt.removeClass("focus")});En=e('<div class="slider-main"></div>').appendTo(dt);"chrome"===Dn||"safari"===Dn?dt.addClass("webkit"):dt.addClass(Dn);"msie"===Dn&&(6===parseInt(Pn,10)?dt.addClass("ie6"):7===parseInt(Pn,10)?dt.addClass("ie7"):8===parseInt(Pn,10)?dt.addClass("ie8"):9===parseInt(Pn,10)&&dt.addClass("ie9"));Sn=e('<div class="slide-wrapper"></div>').append(xn).appendTo(En).hover(function(){Ct=!0;if(vt.settings.timerAnimation&&vt.settings.timerToggle&&"stopped"!==Ht&&!Tt){var e=dt.find(".timer-animation");Hn?e.show():e.stop().animate({opacity:1},vt.settings.timerFadeDuration)}kt&&vt.settings.lightboxIconToggle&&(e=Sn.find(".lightbox-icon"),Hn?e.css("filter",""):e.stop().animate({opacity:1},vt.settings.lightboxIconFadeDuration));vt.settings.pauseSlideshowOnHover&&!_t&&I();Ot&&vt.settings.captionToggle&&D();vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().show():dt.find(".slide-arrows a").stop().animate({opacity:1},vt.settings.slideArrowsShowDuration));vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().show():dt.find(".slideshow-controls").stop().animate({opacity:1},vt.settings.slideshowControlsShowDuration));vt.settings.autoToggle&&Q()},function(){Ct=!1;vt.settings.autoToggle&&G();if(vt.settings.timerAnimation&&vt.settings.timerToggle&&"stopped"!==Ht&&!Tt){var e=dt.find(".timer-animation");Hn?e.hide():e.stop().animate({opacity:0},vt.settings.timerFadeDuration)}kt&&vt.settings.lightboxIconToggle&&(e=Sn.find(".lightbox-icon"),Hn?e.css("opacity",0):e.stop().animate({opacity:0},vt.settings.lightboxIconFadeDuration));!vt.settings.pauseSlideshowOnHover||Lt||Mt||_t||q();Ot&&vt.settings.captionToggle&&P();vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().hide():dt.find(".slide-arrows a").stop().animate({opacity:0},vt.settings.slideArrowsHideDuration));vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().hide():dt.find(".slideshow-controls").stop().animate({opacity:0},vt.settings.slideshowControlsHideDuration))});vt.settings.border||Sn.css("border","none");vt.settings.glow||Sn.css({"box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"});"swipe"===vt.settings.effectType&&e('<div class="swipeable-container"></div>').appendTo(Sn).append(xn);xn.find(".slide").each(function(t){var n=e(this),r=n.find("img.image"),n=n.find(".caption"),i=bt[t],s=i.properties;r.length&&(r.data("index",t),i.imagePath=r.attr("src"));n.length&&(t=parseFloat(s.captionBackgroundOpacity),r=s.captionBackgroundColor,s=e('<div class="caption-container"></div>').appendTo(n.parent()),s=e('<div class="wrapper"></div>').appendTo(s),e('<div class="background"></div>').css({opacity:t,"background-color":r}).appendTo(s),n.appendTo(s))});xn.find(".layer.static").each(function(){var t=e(this),n=t.data();"undefined"!==typeof n.width&&t.css("width",n.width);"undefined"!==typeof n.height&&t.css("height",n.height);"undefined"!==typeof n.depth&&t.css("z-index",n.depth);var r=n.position?n.position.toLowerCase():"topleft",i=-1!==r.indexOf("right")?"right":"left",r=-1!==r.indexOf("bottom")?"bottom":"top";"undefined"!==typeof n.horizontal?"left"===n.horizontal&&"left"===i||"right"===n.horizontal&&"right"===i?t.css(i,0):"right"===n.horizontal&&"left"===i||"left"===n.horizontal&&"right"===i?(t.css("margin-"+i,-t.outerWidth(!1)),t.css(i,"100%")):"center"===n.horizontal?(t.css("margin-"+i,.5*-t.outerWidth(!1)),t.css(i,"50%")):t.css(i,n.horizontal):t.css(i,0);"undefined"!==typeof n.vertical?"top"===n.vertical&&"top"===r||"bottom"===n.vertical&&"bottom"===r?t.css(r,0):"bottom"===n.vertical&&"top"===r||"top"===n.vertical&&"bottom"===r?(t.css("margin-"+r,-t.outerHeight(!1)),t.css(r,"100%")):"center"===n.vertical?(t.css("margin-"+r,.5*-t.outerHeight(!1)),t.css(r,"50%")):t.css(r,n.vertical):t.css(r,0);t.css("visibility","inherit").addClass("init")});xn.find("video").each(function(){var t=e(this),n=t.parent();if(On){var r=t[0].outerHTML;t.remove();n.html(r);t=n.find("video");t[0].load()}t.hasClass("video-js")&&VideoJS(t.attr("id"),t.data("video"))});xn.find(".jw-player").length&&xn.find(".jw-player").each(function(t){video=e(this);jwPlayerArgs={};jwPlayerModes=[];flashModeSources=[];html5ModeSources=[];sources=[];video.find(".source").each(function(){var t=e(this);t.data("quality")?jwPlayerArgs.plugins={"hd-2":{file:t.data("file")}}:sources.push(e(this).data())});sources.length&&(1===sources.length?jwPlayerArgs.file=sources[0].file:jwPlayerArgs.levels=sources,video.data("provider")&&(jwPlayerArgs.provider=video.data("provider")),video.data("streamer")&&(jwPlayerArgs.streamer=video.data("streamer")));video.data("width")&&(jwPlayerArgs.width=video.data("width"));video.data("height")&&(jwPlayerArgs.height=video.data("height"));video.data("image")&&(jwPlayerArgs.image=video.data("image"));video.data("poster")&&(jwPlayerArgs.image=video.data("poster"));video.attr("data-dock")&&(jwPlayerArgs.dock="true"===video.attr("data-dock")?!0:!1);vt.settings.jwPlayerSkin&&(jwPlayerArgs.skin=vt.settings.jwPlayerSkin);vt.settings.jwPlayerPlugins&&(jwPlayerArgs.plugins=vt.settings.jwPlayerPlugins[t]||vt.settings.jwPlayerPlugins);video.data("sharing")&&(jwPlayerArgs.plugins||(jwPlayerArgs.plugins={}),jwPlayerArgs.plugins["sharing-2"]={link:video.data("sharing")});jwplayer(video.attr("id")).setup(jwPlayerArgs)});xn.find("video.sublime-video").length&&window.sublimevideo&&sublimevideo.ready(function(){xn.find("video.sublime-video").each(function(){sublimevideo.prepare(e(this).attr("id"))})});xn.find("a.video").length&&xn.find("a.video").each(function(){var t=e(this),n=t.children("img").attr("width"),r=t.children("img").attr("height");e(this).parent();var i=e("<a></a>").addClass("video-play-button").appendTo(t).click(function(e){e.preventDefault()});t.click(function(s){s.preventDefault();i.fadeOut(300);s=t.attr("href");var o;if(-1!==s.indexOf("youtube")||-1!==s.indexOf("youtu.be")){o=/(\?|&)v\=([^&]*)(&|$)/;o=s.match(o);var u=o[2],a="http://www.youtube.com/embed/"+u+"?enablejsapi=1&wmode=opaque&autoplay=1";s=s.split("?")[1].split("&");e.each(s,function(e,t){-1===t.indexOf(u)&&(a+="&"+t)});o=e("<iframe allowfullscreen></iframe>").attr("src",a).attr("width",n).attr("height",r).attr("class",t.attr("class")).attr("frameborder",0).insertBefore(t)}else if(-1!==s.indexOf("vimeo")){o=/http:\/\/(www\.)?vimeo.com\/(\d+)/;o=s.match(o);u=o[2];a="http://player.vimeo.com/video/"+u+"?api=1&autoplay=1";if(s=s.split("?")[1])s=s.split("&"),e.each(s,function(e,t){-1===t.indexOf(u)&&(a+="&"+t)});o=e("<iframe></iframe>").attr("src",a).attr("width",n).attr("height",r).attr("class",t.attr("class")).attr("frameborder",0).insertBefore(t)}t.addClass("video-hidden-image");"stopSlideshow"!==vt.settings.videoPlayAction||_t?"pauseSlideshow"!==vt.settings.videoPlayAction||_t||I():F();"removeVideo"===vt.settings.leaveVideoAction||On||"msie"===Dn&&7>=parseInt(Pn,10)?wn=o:C()})});St=vt.settings.slideStart;var t=window.location.hash;if(t){var t=t.substring(1),n=t.split("-"),n=parseInt(n.pop(),10),t=t.slice(0,-n.toString().length-1);dt.attr("id")===t&&0<=n&&n<=Et-1&&(St=n)}vt.settings.slideArrows&&a();vt.settings.slideButtons&&l();vt.settings.shadow&&v();"scroller"!==vt.settings.thumbnailType&&"tooltipAndScroller"!==vt.settings.thumbnailType||z();vt.settings.slideshowControls&&f();vt.settings.keyboardNavigation&&c();vt.settings.fullscreenControls&&!On&&"msie"!==Dn&&h();dt.find("a[rel^='slider-lightbox']").length&&(At=dt.find("a[rel^='slider-lightbox']").prettyPhoto({social_tools:"",deeplinking:!1,overlay_gallery:!1,theme:vt.settings.lightboxTheme,opacity:vt.settings.lightboxOpacity,autoplay_slideshow:vt.settings.lightboxAutoplay,slideshow:vt.settings.lightboxAutoplayDelay,autoplay:vt.settings.lightboxVideoAutoplay,allow_resize:vt.settings.ligthboxAllowResize,openLightbox:function(){Lt||(Lt=!0,dt.blur(),_t||I())},callback:function(){Lt&&(Lt=!1,dt.focus(),_t||q())}}));(("scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType)&&(vt.settings.thumbnailMouseScroll||vt.settings.thumbnailTooltip||vt.settings.thumbnailScrollbar)||vt.settings.autoToggle)&&e(document).bind("mousemove",function(e){fn=e.pageX;ln=e.pageY;hn=fn+ln});if(vt.settings.disableRightClick)dt.on("contextmenu","img, .thumbnail-scroller .thumbnail",function(e){return!1});yn="none";s();y(St);e(window).resize(s)}function s(){var t=0,n=0;vt.settings.responsive&&(dt.css({width:"100%",maxWidth:vt.settings.width,maxHeight:vt.settings.height}),-1===vt.settings.aspectRatio&&(vt.settings.aspectRatio=vt.settings.width/vt.settings.height));-1!==vt.settings.aspectRatio&&dt.css("height",dt.width()/vt.settings.aspectRatio);if("scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType)vt.settings.fullscreenThumbnailScrollerOverlay&&"on"===jn?"horizontal"===vt.settings.thumbnailOrientation?En.css("height",dt.height()):"vertical"===vt.settings.thumbnailOrientation&&En.css("width",dt.width()):vt.settings.thumbnailScrollerOverlay||("horizontal"===vt.settings.thumbnailOrientation?En.css("height",dt.height()-Ut.outerHeight(!0)):"vertical"===vt.settings.thumbnailOrientation&&En.css("width",dt.width()-Ut.outerWidth(!0)));if(vt.settings.shadow){var r=En.find(".shadow");if("on"===jn&&!vt.settings.fullscreenShadow||400>En.width())r.css("display","none");else{r.css("display","block");var i=r.find(".shadow-middle"),s=r.find(".shadow-left").width()+r.find(".shadow-right").width(),u=parseInt(r.css("height"),10)+parseInt(r.css("margin-top"),10);r.css("width",En.width());i.css("width",r.width()-s);t=u>t?u:t}}vt.settings.slideButtons&&(r=En.find(".slide-buttons"),u=r.find("buttons-middle"),i=u.find("buttons-inner"),s=parseInt(r.css("height"),10)+parseInt(r.css("margin-top"),10),r.css("left",0),vt.settings.slideButtonsCenter&&(u=(u.width()-i.width())/2,i.css("left",u)),vt.settings.slideButtonsContainerCenter&&(u=(En.width()-r.width())/2,r.css("left",u)),"on"!==jn||vt.settings.fullscreenSlideButtons?(r.css("display","block"),t=s>t?s:t):r.css("display","none"));Cn=t;t+=parseInt(Sn.css("border-top-width"),10)+parseInt(Sn.css("border-bottom-width"),10);n+=parseInt(Sn.css("border-left-width"),10)+parseInt(Sn.css("border-right-width"),10);Sn.css({height:En.height()-t,width:En.width()-n});Tn=Sn.width();Nn=Sn.height();xn.find(".slide").each(function(t){var n=e(this),r=n.find("img.image"),i=bt[t].properties.alignType;r.length&&(r.data("loaded")?o(r,i):(r.css("visibility","hidden"),r.sliderImagesLoaded(function(e,t,n){t.length&&(r.css("visibility",""),o(r,i))})));if("swipe"===vt.settings.effectType){var s=-1!==mt?mt:St;"horizontal"===vt.settings.swipeOrientation?(xn.css("left",-s*(xn.width()+vt.settings.swipeSlideDistance)),n.css("left",t*(xn.width()+vt.settings.swipeSlideDistance))):"vertical"===vt.settings.swipeOrientation&&(xn.css("top",-s*(xn.height()+vt.settings.swipeSlideDistance)),n.css("top",t*(xn.height()+vt.settings.swipeSlideDistance)))}});"tooltipAndScroller"!==vt.settings.thumbnailType&&"scroller"!==vt.settings.thumbnailType||"proportionalFit"===vt.settings.scaleType||(W(),nt(),vt.settings.thumbnailMouseScroll&&Y());t={type:"doSliderLayout"};e.isFunction(vt.settings.doSliderLayout)&&vt.settings.doSliderLayout.call(this,t)}function o(e,t){e.data("loaded")||(e.data("loaded",!0),e.data("width",e.width()),e.data("height",e.height()));vt.settings.allowScaleUp||e.css({maxWidth:e.data("width"),maxHeight:e.data("height")});switch(vt.settings.scaleType){case"exactFit":e.css({width:"100%",height:"100%"});break;case"insideFit":e.width()/e.height()>=Sn.width()/Sn.height()?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"});break;case"outsideFit":e.width()/e.height()<=Sn.width()/Sn.height()?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"});break;case"proportionalFit":if(e.data("index")===mt&&e.data("loaded")&&(Sn.css("width",Tn),Sn.css("height",Nn),e.css({width:"100%",height:"auto"}),Sn.css("height",e.height()),En.css("height",Sn.outerHeight(!0)+Cn),"scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType?("horizontal"!==vt.settings.thumbnailOrientation||vt.settings.thumbnailScrollerOverlay?dt.css("height",En.height()):dt.css("height",En.height()+Ut.outerHeight(!0)),W(),nt(),vt.settings.thumbnailMouseScroll&&Y()):dt.css("height",En.height()),-1!==gt)){var n=wt[gt].find("img.image"),r=bt[gt].properties.alignType;n.length&&u(n,r)}}u(e,t)}function u(e,t){var n=e.width(),r=e.height();switch(t){case"leftTop":e.css({left:0,top:0});break;case"leftCenter":e.css({left:0,top:"50%","margin-top":.5*-r});break;case"leftBottom":e.css({left:0,bottom:0});break;case"centerTop":e.css({left:"50%",top:0,"margin-left":.5*-n});break;case"centerCenter":e.css({left:"50%",top:"50%","margin-left":.5*-n,"margin-top":.5*-r});break;case"centerBottom":e.css({left:"50%",bottom:0,"margin-left":.5*-n});break;case"rightTop":e.css({right:0,top:0});break;case"rightCenter":e.css({right:0,top:"50%","margin-top":.5*-r});break;case"rightBottom":e.css({right:0,bottom:0});break;case"default":e.css({left:"50%",top:"50%","margin-left":.5*-n,"margin-top":.5*-r})}}function a(){var t=e('<div class="slide-arrows"></div>').appendTo(Sn),n=e('<a class="previous"></a>').appendTo(t).click(function(){yn="previousButton";w()}),t=e('<a class="next"></a>').appendTo(t).click(function(){yn="nextButton";b()});vt.settings.slideArrowsToggle&&(Hn?(n.hide(),t.hide()):(n.css("opacity",0),t.css("opacity",0)))}function f(){var t=e('<div class="slideshow-controls"></div>').appendTo(Sn),n=vt.settings.slideshow?"pause":"play";Ht=vt.settings.slideshow?"playing":"stopped";t.addClass(n).click(function(){"playing"===Ht||"paused"===Ht?j():"stopped"===Ht&&B()});vt.settings.slideshowControlsToggle&&(Hn?t.hide():t.css("opacity",0))}function l(){var t=Et,n=e('<div class="slide-buttons"></div>').appendTo(En);e('<div class="left"></div>').appendTo(n);var r=e('<div class="middle"></div>').appendTo(n);e('<div class="right"></div>').appendTo(n);for(var r=e('<div class="buttons-inner"></div>').appendTo(r),i=0;i<t;i++){var s=e('<a rel="'+i+'"></a>').appendTo(r);vt.settings.slideButtonsNumber&&e('<div class="number">'+(i+1)+"</div>").appendTo(s);s.hover(function(){var t=parseInt(e(this).attr("rel"),10);e(this).hasClass("select")||e(this).addClass("over");"tooltip"!==bt[t].properties.thumbnailType&&"tooltipAndScroller"!==bt[t].properties.thumbnailType||m(t)},function(){var t=parseInt(e(this).attr("rel"),10);e(this).hasClass("select")||e(this).removeClass("over");"tooltip"!==bt[t].properties.thumbnailType&&"tooltipAndScroller"!==bt[t].properties.thumbnailType||g()});s.click(function(){yn="button";y(parseInt(e(this).attr("rel"),10))})}vt.settings.slideButtonsToggle&&(Hn?n.hide():n.css("opacity",0),dt.hover(function(){Hn?n.show():n.stop().animate({opacity:1},vt.settings.slideButtonsShowDuration)},function(){Hn?n.hide():n.stop().animate({opacity:0},vt.settings.slideButtonsHideDuration)}))}function c(){e(document).keydown(function(e){37===e.which&&(vt.settings.keyboardNavigationOnFocusOnly&&Bn||!vt.settings.keyboardNavigationOnFocusOnly)?w():39===e.which&&(vt.settings.keyboardNavigationOnFocusOnly&&Bn||!vt.settings.keyboardNavigationOnFocusOnly)?b():13===e.which&&Bn&&wt[mt].children("a").length&&wt[mt].children("a").not(".thumbnail")[0].click()})}function h(){var n=e('<div class="full-screen-controls"></div>').appendTo(Sn);n.click(function(){"off"===jn?t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen():"on"===jn&&(document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen())});document.addEventListener("fullscreenchange",p);document.addEventListener("mozfullscreenchange",p);document.addEventListener("webkitfullscreenchange",p);vt.settings.fullscreenControlsToggle&&!Ct?n.css("opacity",0):Hn||n.css({opacity:0}).stop().animate({opacity:1},vt.settings.fullscreenIconHideDuration);vt.settings.fullscreenControlsToggle&&Sn.hover(function(){Hn?n.css("filter",""):n.stop().animate({opacity:1},vt.settings.fullscreenIconShowDuration)},function(){Hn?n.css("opacity",0):n.stop().animate({opacity:0},vt.settings.fullscreenIconHideDuration)})}function p(){jn=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen?"on":"off";"on"===jn?(dt.css({width:"100%",height:"100%"}).addClass("fullscreen"),Ut&&vt.settings.fullscreenThumbnailScrollerOverlay&&Ut.addClass("overlay")):(dt.css({width:vt.settings.width,height:vt.settings.height}).removeClass("fullscreen"),Ut&&vt.settings.fullscreenThumbnailScrollerOverlay&&Ut.removeClass("overlay"));s()}function v(){var t=e('<div class="shadow"></div>').appendTo(En);e('<div class="shadow-left"></div>').appendTo(t);e('<div class="shadow-middle"></div>').appendTo(t);e('<div class="shadow-right"></div>').appendTo(t)}function m(t){if(bt[t].thumbnail){var n=bt[t].thumbnail.hasClass("thumbnail")&&!bt[t].thumbnail.is("img"),r=e('<div class="thumbnail-wrapper"></div>').appendTo(dt.find(".buttons-inner")),i;if(n)i=bt[t].thumbnail.clone(),i.addClass("thumbnail-content").css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r);else{var n=bt[t].thumbnail.is("a")?bt[t].thumbnail.find("img"):bt[t].thumbnail,s=n.attr("src"),o=n.attr("alt");i=e('<div class="thumbnail"></div>').css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).appendTo(r);if(o){var n=e('<div class="caption"></div>').appendTo(i),u=e('<div class="background"></div>').appendTo(n),o=e('<div class="content">'+o+"</div>").appendTo(n);u.css("opacity");n.css("height",o.outerHeight(!0));"top"===vt.settings.thumbnailCaptionPosition?n.css("top",0):n.css("bottom",0)}e("<img/>").load(function(){i.css("background-image",'url("'+s+'")')}).attr("src",s)}r.css({width:i.outerWidth(!1),height:i.outerHeight(!1)});n=dt.find(".buttons-inner a").eq(t);t=n.position().left-(r.outerWidth(!0)-n.width())/2;n=n.position().top-r.outerHeight(!0);Hn&&r.find("*").not(".background").css("filter","inherit");r.css({left:t,top:n-vt.settings.thumbnailSlideAmount,opacity:0});Hn?(r.animate({top:n,opacity:1},vt.settings.thumbnailSlideDuration,vt.settings.thumbnailSlideEasing),r.find(".caption .background").animate({opacity:1},vt.settings.thumbnailSlideDuration)):r.animate({top:n,opacity:1},vt.settings.thumbnailSlideDuration,vt.settings.thumbnailSlideEasing)}}function g(){var e=dt.find(".buttons-inner .thumbnail-wrapper");if(e.length){var t=e.find(".background");Hn&&t.animate({opacity:0},vt.settings.thumbnailSlideDuration);e.animate({top:e.position().top-vt.settings.thumbnailSlideAmount,opacity:0},vt.settings.thumbnailSlideDuration,vt.settings.thumbnailSlideEasing,function(){e.remove()})}}function y(t){if(t!==mt){if(Tt||Nt)if(vt.settings.overrideTransition)switch(Ln){case"slide":wt[mt].stop(!1,!0);break;case"fade":wt[mt].stop(!1,!0);-1!==gt&&wt[gt].stop(!1,!0).css("visibility","");break;case"slice":xt.find(".slice").each(function(){clearTimeout(e(this).data("delay"));e(this).stop().remove()}),xt.remove(),-1!==gt&&wt[gt].css("visibility",""),wt[mt].css("visibility","visible"),N()}else if("swipe"!==vt.settings.effectType)return;vt.settings.slideshow&&F();if(kt){kt=!1;var n=Sn.find(".lightbox-icon");Hn?n.remove():n.stop().animate({opacity:0},vt.settings.lightboxIconFadeDuration,function(){n.remove()})}if(wn){Mt=!1;var r=wt[mt].find(".video-hidden-image");("removeVideo"===vt.settings.leaveVideoAction||On||"msie"===Dn&&7>=parseInt(Pn,10))&&r.length?(r=wt[mt].find(".video-hidden-image"),r.removeClass("video-hidden-image"),wn.remove(),r.find(".video-play-button").show()):wn.leaveVideo();wn=null}Tt=!0;gt=mt;mt=t;-1!==gt&&(wt[gt].removeClass("active"),wt[gt].addClass("transition"));wt[mt].addClass("active");"swipe"===vt.settings.effectType?xn.find(".slide").addClass("transition"):wt[mt].addClass("transition");mt!==yt&&Ot&&"swipe"!==vt.settings.effectType&&(Ot=!1,P(),bn&&clearTimeout(bn));var r=bt[t],i=wt[t].find("img.image");if(r.lazyImage&&!r.lazyImageLoaded){var s=e('<img class="image"/>').attr("src",bt[t].lazyImage);i.attr("alt")&&s.attr("alt",i.attr("alt"));i.attr("title")&&s.attr("title",i.attr("title"));s.data("index",t);i.length?(s.prependTo(i.parent()),i.remove()):s.prependTo(wt[t]);i=s;r.imagePath=i.attr("src");r.lazyImageLoaded=!0}if(!i.length||i.data("loaded")&&"proportionalFit"!==vt.settings.scaleType)T();else{Nt=!0;var u=r.properties.alignType;"swipe"===vt.settings.effectType?(i.css("visibility","hidden"),S(wt[i.data("index")]),i.sliderImagesLoaded(function(e,t,n){t.length&&o(i,u);i.css("visibility","");wt[i.data("index")].find(".preloader").stop().remove();mt===i.data("index")&&(Nt=!1)}),T()):(S(Sn),i.sliderImagesLoaded(function(e,t,n){t.length&&o(i,u);mt===i.data("index")&&(Sn.find(".preloader").stop().remove(),T(),Nt=!1)}))}vt.settings.slideButtons&&(s=dt.find(".buttons-inner"),s.find(".select").removeClass("select"),s.find("a").eq(t).attr("class","select"));if("scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType)Ut.find(".thumbnail.select").removeClass("select"),Ut.find(".thumbnail[data-index="+t+"]").removeClass("over").addClass("select"),vt.settings.thumbnailSync&&!tn&&(t=Math.floor(t/(It*en)),t!==Yt&&K(t));t={type:"slideOpen",index:mt,data:r};e.isFunction(vt.settings.slideOpen)&&vt.settings.slideOpen.call(this,t)}}function b(){y(mt===Et-1?0:mt+1)}function w(){y(0===mt?Et-1:mt-1)}function E(t){if(!(1>=Et)){t=t===Et-1?0:t+1;var n=bt[t];if(n.lazyImage&&!n.lazyImageLoaded){var r=wt[t].find("img.image"),i=e('<img class="image"/>').attr("src",n.lazyImage),s=n.properties.alignType;r.attr("alt")&&i.attr("alt",r.attr("alt"));r.attr("title")&&i.attr("title",r.attr("title"));i.data("index",t);r.length?(i.prependTo(r.parent()),r.remove()):i.prependTo(wt[t]);r=i;n.lazyImageLoaded=!0;n.imagePath=r.attr("src");r.sliderImagesLoaded(function(e,t,n){t.length&&o(r,s)})}}}function S(t){if(!t.find(".preloader").length){var n=e('<div class="preloader"></div>').hide().appendTo(t),r=.5*(t.outerWidth(!0)-n.width());t=.5*(t.outerHeight(!0)-n.height());n.fadeIn(300);n.css({left:r,top:t})}}function x(e){e.preventDefault()}function T(){var t=bt[mt].properties.effectType;!vt.settings.initialEffect&&gn&&(t="none",gn=!1);"swipe"===vt.settings.effectType?t="swipe":"random"===t&&(t=lt(["slice","slide","fade"]));Ln=t;var n=bt[mt];wt[mt].hover(function(){var t={type:"slideMouseOver",index:mt,data:n};e.isFunction(vt.settings.slideMouseOver)&&vt.settings.slideMouseOver.call(this,t)},function(){var t={type:"slideMouseOut",index:mt,data:n};e.isFunction(vt.settings.slideMouseOut)&&vt.settings.slideMouseOut.call(this,t)}).click(function(){var t={type:"slideClick",index:mt,data:n};e.isFunction(vt.settings.slideClick)&&vt.settings.slideClick.call(this,t)});var r={type:"transitionStart",index:mt,data:bt[mt]};e.isFunction(vt.settings.transitionStart)&&vt.settings.transitionStart.call(this,r);switch(t){case"none":k();break;case"fade":L();break;case"slide":A();break;case"swipe":O();break;case"slice":M();break;default:L()}}function N(){var t=bt[mt],n=parseInt(t.properties.captionDelay,10);Tt=!1;vt.settings.slideshow&&"stopped"!==Ht&&(vt.settings.slideshowLoop||mt!==Et-1?(H(),(vt.settings.pauseSlideshowOnHover&&Ct||_t)&&I()):j());Sn.find(".transition").removeClass("transition");mt!==yt&&(Ot&&"swipe"===vt.settings.effectType&&(Ot=!1,P(),bn&&clearTimeout(bn)),t.caption?(Ot=!0,bn=setTimeout(function(){(!vt.settings.captionToggle||vt.settings.captionToggle&&Ct)&&D()},n)):yt=-1);vt.settings.preloadNearbyImages&&E(mt);var r=wt[mt].children('a[rel^="slider-lightbox"]');if(r.length&&vt.settings.lightboxIcon){kt=!0;var n=r.attr("href"),i,n=-1!==n.indexOf("iframe=true")||-1!==n.indexOf("ajax=true")||-1!==n.indexOf("custom=true")?"link":-1!==n.indexOf("youtube.com")||-1!==n.indexOf("youtu.be")||-1!==n.indexOf("vimeo.com")||-1!==n.indexOf(".mp4")||-1!==n.indexOf(".ogv")?"video":"image";i=e('<div class="lightbox-icon"></div>').appendTo(Sn);"video"===n?i.addClass("play"):"link"===n?i.addClass("hyperlink"):"image"===n&&i.addClass("magnifying");vt.settings.lightboxIconToggle&&!Ct?i.css("opacity",0):Hn||i.css({opacity:0}).stop().animate({opacity:1},vt.settings.lightboxIconFadeDuration);i.click(function(){"swipe"===vt.settings.effectType&&r.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize);r.trigger("click")})}-1!==gt&&wt[gt].children(".layer").not(".static").each(function(){e(this).css("visibility","").removeClass("init")});wt[mt].children(".layer").not(".static, .init").each(function(){var t=e(this),n=t.data(),r={},i={};"undefined"!==typeof n.width&&t.css("width",n.width);"undefined"!==typeof n.height&&t.css("height",n.height);"undefined"!==typeof n.depth&&t.css("z-index",n.depth);var s=n.position?n.position.toLowerCase():"topleft",o=-1!==s.indexOf("right")?"right":"left",u=-1!==s.indexOf("bottom")?"bottom":"top";"undefined"!==typeof n.horizontal?"left"===n.horizontal&&"left"===o||"right"===n.horizontal&&"right"===o?t.css(o,0):"right"===n.horizontal&&"left"===o||"left"===n.horizontal&&"right"===o?(t.css("margin-"+o,-t.outerWidth(!1)),t.css(o,"100%")):"center"===n.horizontal?(t.css("margin-"+o,.5*-t.outerWidth(!1)),t.css(o,"50%")):t.css(o,n.horizontal):t.css(o,0);"undefined"!==typeof n.vertical?"top"===n.vertical&&"top"===u||"bottom"===n.vertical&&"bottom"===u?t.css(u,0):"bottom"===n.vertical&&"top"===u||"top"===n.vertical&&"bottom"===u?(t.css("margin-"+u,-t.outerHeight(!1)),t.css(u,"100%")):"center"===n.vertical?(t.css("margin-"+u,.5*-t.outerHeight(!1)),t.css(u,"50%")):t.css(u,n.vertical):t.css(u,0);"left"===o&&-1!==t.css("left").indexOf("%")&&t.css("left",t.position().left);"top"===u&&-1!==t.css("top").indexOf("%")&&t.css("top",t.position().top);var s=parseInt(t.css(o),10),a=parseInt(t.css(u),10);r[o]=s;r[u]=a;r.opacity=1;i.opacity=0;if("undefined"!==typeof n.transition){var f="undefined"!==typeof n.offset?n.offset:50;"left"===n.transition?i[o]=s+("left"===o?f:-f):"right"===n.transition?i[o]=s+("left"===o?-f:f):"up"===n.transition?i[u]=a+("top"===u?f:-f):"down"===n.transition&&(i[u]=a+("top"===u?-f:f))}"msie"===Dn&&7>=parseInt(Pn,10)?t.css("visibility","inherit").css(r):t.addClass("init").delay(n.delay).css(i).css("visibility","inherit").animate(r,n.duration,n.easing,function(){n.horizontal&&("left"===n.horizontal&&"left"===o||"right"===n.horizontal&&"right"===o?t.css(o,0):"right"===n.horizontal&&"left"===o||"left"===n.horizontal&&"right"===o?(t.css("margin-"+o,-t.outerWidth(!1)),t.css(o,"100%")):"center"===n.horizontal?(t.css("margin-"+o,.5*-t.outerWidth(!1)),t.css(o,"50%")):t.css(o,n.horizontal));n.vertical&&("top"===n.vertical&&"top"===u||"bottom"===n.vertical&&"bottom"===u?t.css(u,0):"bottom"===n.vertical&&"top"===u||"top"===n.vertical&&"bottom"===u?(t.css("margin-"+u,-t.outerHeight(!1)),t.css(u,"100%")):"center"===n.vertical?(t.css("margin-"+u,.5*-t.outerHeight(!1)),t.css(u,"50%")):t.css(u,n.vertical))})});C();"playVideo"===vt.settings.reachVideoAction&&(n=wt[mt].find("a.video"),n.length&&n.trigger("click"));t={type:"transitionComplete",index:mt,data:t};e.isFunction(vt.settings.transitionComplete)&&vt.settings.transitionComplete.call(this,t)}function C(){if(e.fn.videoController){var t,n;if(wt[mt].find("iframe").length){var r=wt[mt].find("iframe"),i=r.attr("src");-1!==i.indexOf("enablejsapi=1")?(t=r,n="youtube-video"):-1!==i.indexOf("api=1")&&(t=r,n="vimeo-video")}else-1!==wt[mt].html().indexOf("jw-player")||-1!==wt[mt].html().indexOf("jwplayer")?(t=wt[mt].find("[id^=video]").first(),n="jw-player-video"):wt[mt].find(".video-js").length?(t=wt[mt].find(".video-js").first(),n="html5-video-js"):wt[mt].find(".sublime-video").length?(t=wt[mt].find(".sublime-video").first(),n="html5-sublime-video"):wt[mt].find("video").length&&(t=wt[mt].find("video").first(),n="html5-video");t&&(bt[mt].videoInstance?wn=bt[mt].videoInstance:(wn=t.videoController({videoType:n,reachVideoAction:vt.settings.reachVideoAction,leaveVideoAction:vt.settings.leaveVideoAction,start:function(){"stopSlideshow"!==vt.settings.videoPlayAction||_t?"pauseSlideshow"!==vt.settings.videoPlayAction||_t||I():F()},play:function(){Mt=!0;"stopSlideshow"!==vt.settings.videoPlayAction||_t?"pauseSlideshow"!==vt.settings.videoPlayAction||_t||I():F();var t={type:"videoPlay"};e.isFunction(vt.settings.videoPlay)&&vt.settings.videoPlay.call(this,t)},pause:function(){"startSlideshow"!==vt.settings.videoPauseAction||_t?"resumeSlideshow"!==vt.settings.videoPauseAction||_t||q():H();var t={type:"videoPause"};e.isFunction(vt.settings.videoPause)&&vt.settings.videoPause.call(this,t)},end:function(){"resetVideo"===vt.settings.videoEndAction?wn.stopVideo():"replayVideo"===vt.settings.videoEndAction?wn.replayVideo():"startSlideshow"!==vt.settings.videoEndAction||_t?"resumeSlideshow"!==vt.settings.videoEndAction||_t?"nextSlide"===vt.settings.videoEndAction&&b():q():H();var t={type:"videoEnd"};e.isFunction(vt.settings.videoEnd)&&vt.settings.videoEnd.call(this,t)},fullscreenchange:function(){"msie"===Dn&&(e("body").hasClass("vjs-full-window")?(vt.settings.timerAnimation&&dt.find(".timer-animation").css("visibility","hidden"),vt.settings.slideArrows&&Sn.find(".slide-arrows").css("visibility","hidden"),vt.settings.slideButtons&&dt.find(".slide-buttons").css("visibility","hidden"),vt.settings.slideshowControls&&Sn.find(".slideshow-controls").css("visibility","hidden"),vt.settings.lightboxIcon&&Sn.find(".lightbox-icon").css("visibility","hidden"),"scroller"!==vt.settings.thumbnailType&&"tooltipAndScroller"!==vt.settings.thumbnailType||dt.find(".thumbnail-scroller").css("visibility","hidden")):(vt.settings.timerAnimation&&dt.find(".timer-animation").css("visibility","visible"),vt.settings.slideArrows&&Sn.find(".slide-arrows").css("visibility","visible"),vt.settings.slideButtons&&dt.find(".slide-buttons").css("visibility","visible"),vt.settings.slideshowControls&&Sn.find(".slideshow-controls").css("visibility","visible"),vt.settings.lightboxIcon&&Sn.find(".lightbox-icon").css("visibility","visible"),"scroller"!==vt.settings.thumbnailType&&"tooltipAndScroller"!==vt.settings.thumbnailType||dt.find(".thumbnail-scroller").css("visibility","visible")));var t={type:"videoFullscreenChange"};e.isFunction(vt.settings.videoFullscreenChange)&&vt.settings.videoFullscreenChange.call(this,t)}}),bt[mt].videoInstance=wn),wn&&wn.reachVideo())}}function k(){-1!==gt&&wt[gt].css("visibility","");wt[mt].css("visibility","visible");setTimeout(function(){N()},1)}function L(){var t=bt[mt].properties,n=wt[mt],r,i=parseInt(t.fadeInDuration,10),s=t.fadeInEasing,o=parseInt(t.fadeOutDuration,10),t=t.fadeOutEasing;Hn&&n.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","inherit")});n.css({visibility:"visible",opacity:0}).animate({opacity:1},i,s,function(){n.css({opacity:""});N()});-1!==gt&&(r=wt[gt],Hn&&r.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","inherit")}),r.animate({opacity:0},o,t,function(){r.css({visibility:"",opacity:""})}))}function A(){var e=bt[mt].properties,t=wt[mt],n,r=e.slideDirection,i=parseInt(e.slideDuration,10),s=e.slideEasing,e=e.slideLoop;-1!==gt&&(n=wt[gt]);"random"===r&&(r=lt("autoHorizontal autoVertical rightToLeft leftToRight topToBottom bottomToTop".split(" ")));t.css("visibility","inherit");var o={},u,a;switch(r){case"autoHorizontal":u="left";a=0===mt&&gt===Et-1&&e?Sn.width():mt===Et-1&&0===gt&&e?-Sn.width():mt>gt?Sn.width():-Sn.width();break;case"autoVertical":u="top";a=0===mt&&gt===Et-1&&e?Sn.height():mt===Et-1&&0===gt&&e?-Sn.height():mt>gt?Sn.height():-Sn.height();break;case"rightToLeft":u="left";a=Sn.width();break;case"leftToRight":u="left";a=-Sn.width();break;case"topToBottom":u="top";a=-Sn.height();break;case"bottomToTop":u="top";a=Sn.height();break;default:u="left",a=mt>gt?Sn.width():-Sn.width()}t.css(u,a);o[u]=0;t.animate(o,{duration:i,easing:s,complete:function(){t.css({left:"",top:""});-1!==gt&&n.css({visibility:"",left:"",top:""});N()},step:function(e){n&&n.css(u,e-a)}})}function O(){if(-1===gt){xn.css("overflow","visible").bind("dragstart",x).find(".slide").each(function(t){var n=e(this);"horizontal"===vt.settings.swipeOrientation?n.css({top:0,left:t*(xn.width()+vt.settings.swipeSlideDistance),visibility:"visible"}):"vertical"===vt.settings.swipeOrientation&&n.css({top:t*(xn.height()+vt.settings.swipeSlideDistance),left:0,visibility:"visible"})});vt.settings.swipeGrabCursor&&xn.addClass("grab");var t,n,r=!1,i=!1;vt.settings.swipeTouchDrag&&"ontouchstart"in window&&(i=r=!0);!i&&vt.settings.swipeMouseDrag&&(r=!0);"horizontal"===vt.settings.swipeOrientation?(xn.css("left",-St*(xn.width()+vt.settings.swipeSlideDistance)),r&&xn.swipe({threshold:vt.settings.swipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"vertical",swipeStatus:function(r,i,s,o){"start"===i?(t=parseInt(xn.css("left"),10),xn.is(":animated")&&xn.stop(),r=e(r.target).closest("a"),!r.length||"ontouchstart"in window||(r.unbind("click",x).bind("click",x),r.has("rel")&&r.unbind("click.prettyphoto")),vt.settings.swipeGrabCursor&&xn.removeClass("grab").addClass("grabbing")):"move"===i?(n=mt===Et-1&&"left"===s||0===mt&&"right"===s?.2:1,"left"===s?xn.css("left",t-o*n):"right"===s&&xn.css("left",t+o*n)):"cancel"===i&&(xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()}),vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab"))},click:function(t){t=e(t.target).closest("a");!t.length||"ontouchstart"in window?t.length&&(t=t.attr("href"),window.location.href=t):(t.unbind("click",x),t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize))},swipeLeft:function(){mt<Et-1?b():xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")},swipeRight:function(){0<mt?w():xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")}})):"vertical"===vt.settings.swipeOrientation&&(xn.css("top",-St*(xn.height()+vt.settings.swipeSlideDistance)),r&&xn.swipe({threshold:vt.settings.swipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"horizontal",swipeStatus:function(r,i,s,o){"start"===i?(t=parseInt(xn.css("top"),10),xn.is(":animated")&&xn.stop(),r=e(r.target).closest("a"),r.length&&(r.unbind("click",x).bind("click",x),r.has("rel")&&r.unbind("click.prettyphoto")),vt.settings.swipeGrabCursor&&xn.removeClass("grab").addClass("grabbing")):"move"===i?(n=mt===Et-1&&"up"===s||0===mt&&"down"===s?.2:1,"up"===s?xn.css("top",t-o*n):"down"===s&&xn.css("top",t+o*n)):"cancel"===i&&(xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()}),vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab"))},click:function(t){t=e(t.target).closest("a");!t.length||"ontouchstart"in window?t.length&&(t=t.attr("href"),window.location.href=t):(t.unbind("click",x),t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize))},swipeUp:function(){mt<Et-1?b():xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")},swipeDown:function(){0<mt?w():xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")}}));N()}else"horizontal"===vt.settings.swipeOrientation?xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeDuration,vt.settings.swipeEasing,function(){e.support.transition&&!xn.is(":animated")?N():e.support.transition||N()}):"vertical"===vt.settings.swipeOrientation&&xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeDuration,vt.settings.swipeEasing,function(){e.support.transition&&!xn.is(":animated")?N():e.support.transition||N()})}function M(){var t=bt[mt],n=t.properties,r=n.sliceEffectType,i=n.htmlDuringTransition,s=parseInt(n.horizontalSlices,10),o=parseInt(n.verticalSlices,10),u=n.slicePattern,a=n.slicePoint,f=n.sliceStartPosition,l=parseFloat(n.sliceStartRatio,10),c=parseInt(n.sliceDuration,10),h=n.sliceEasing,p=parseInt(n.sliceDelay,10),v=!0===n.sliceFade||"fade"===n.effectType?0:1,m=n.fadePreviousSlide,g=parseInt(n.fadePreviousSlideDuration,10),y=Math.floor(Sn.width()/s),b=Math.floor(Sn.height()/o);wt[mt].find("img.image").clone();var w=wt[mt].clone(),E=[];if(-1!==gt&&!0===m){var S=wt[gt];Hn&&S.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","inherit")});S.animate({opacity:0},g,function(){S.css({visibility:"",opacity:""});Hn&&S.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","")})})}w.css("visibility","visible").find(".caption-container").remove();i||w.find(".html").remove();xt=e('<div class="slice-container"></div>').insertAfter(xn);n.slideMask&&xt.css("overflow","hidden");for(n=0;n<s;n++)for(i=0;i<o;i++){var m=e('<div class="slice"></div>').css({left:n*y,top:i*b,width:y,height:b,opacity:v,display:"none"}).data({hPos:n,vPos:i}).appendTo(xt),x;if(t.html||t.imagePath||t.layer)x=w.clone();x&&(x.css({left:-(n*y),top:-(i*b),width:Sn.width(),height:Sn.height(),overflow:"hidden",position:"absolute"}),m.html(x).css("overflow","hidden"));Hn&&m.find("*").each(function(){e(this).css("filter","inherit")});E.push(m)}"random"===r&&(r=lt(["scale","fade","width","height","slide"]));"random"===u&&(u=lt("randomPattern topToBottom bottomToTop leftToRight rightToLeft topLeftToBottomRight topRightToBottomLeft bottomLeftToTopRight bottomRightToTopLeft horizontalMarginToCenter horizontalCenterToMargin marginToCenter verticalCenterToMargin skipOneTopToBottom skipOneBottomToTop skipOneLeftToRight skipOneRightToLeft skipOneHorizontal skipOneVertical spiralMarginToCenterCW spiralMarginToCenterCCW spiralCenterToMarginCW spiralCenterToMarginCCW".split(" ")));if(1===s&&"skipOneHorizontal"===u||1===o&&"skipOneVertical"===u)u="randomPattern";"random"===a&&(a=lt("leftTop leftCenter leftBottom centerTop centerCenter centerBottom rightTop rightCenter rightBottom".split(" ")));"random"===f&&(f=lt("left right top bottom leftTop rightTop leftBottom rightBottom horizontalAlternate verticalAlternate".split(" ")));t=at(E,u,s,o);kn=t.length;for(n=0;n<kn;n++)_(t[n],n,r,a,f,l,c,h,p)}function _(t,n,r,i,s,o,u,a,f){var l={},c={},h=parseInt(t.css("width"),10),p=parseInt(t.css("height"),10),v=parseInt(t.css("left"),10),m=parseInt(t.css("top"),10),g,y;if("scale"===r||"width"===r||"height"===r)switch(i){case"centerCenter":y=m+.5*p;g=v+.5*h;break;case"rightCenter":y=m+.5*p;g=v+h;break;case"leftCenter":y=m+.5*p;g=v;break;case"centerTop":y=m;g=v+.5*h;break;case"rightTop":y=m;g=v+h;break;case"leftTop":y=m;g=v;break;case"centerBottom":y=m+p;g=v+.5*h;break;case"rightBottom":y=m+p;g=v+h;break;case"leftBottom":y=m+p;g=v;break;default:y=m+.5*p,g=v+.5*h}else if("slide"===r)switch(s){case"left":y=m;g=v-h*o;break;case"right":y=m;g=v+h*o;break;case"top":y=m-p*o;g=v;break;case"bottom":y=m+p*o;g=v;break;case"leftTop":y=m-p*o;g=v-h*o;break;case"rightTop":y=m-p*o;g=v+h*o;break;case"leftBottom":y=m+p*o;g=v-h*o;break;case"rightBottom":y=m+p*o;g=v+h*o;break;case"horizontalAlternate":y=m;g=v+h*o*(0===n%2?1:-1);break;case"verticalAlternate":y=m+p*o*(0===n%2?1:-1);g=v;break;default:y=m,g=v-h*o}switch(r){case"fade":c={opacity:1};break;case"scale":l={width:0,height:0,left:g,top:y};c={width:h,height:p,left:v,top:m,opacity:1};break;case"width":l={width:0,left:g};c={width:h,left:v,opacity:1};break;case"height":l={height:0,top:y};c={height:p,top:m,opacity:1};break;case"slide":l={left:g,top:y};c={left:v,top:m,opacity:1};break;default:c={opacity:1}}var b=setTimeout(function(){t.css(l).css("display","block").data("delay",b).animate(c,u,a,function(){kn--;0===kn&&(xt.find(".slice").each(function(){e(this).remove();Hn&&e(this).find("*").each(function(){e(this).css("filter","inherit")})}),xt.remove(),-1!==gt&&wt[gt].css({visibility:""}),wt[mt].css("visibility","visible"),N())})},n*f)}function D(){yt=mt;var e=bt[yt].properties,t=e.captionPosition,n=e.captionSize,r=e.captionWidth,i=e.captionHeight,s=e.captionLeft,o=e.captionTop,u=e.captionShowEffect,a=parseInt(e.captionShowEffectDuration,10),f=e.captionShowEffectEasing,l=e.captionShowSlideDirection,r="custom"===t?r:"100%",i="custom"===t?i:"100%",s="custom"===t?s:0,o="custom"===t?o:0,c=wt[mt].find(".caption-container"),h=c.find(".wrapper");h.find(".background");h.find(".caption");parseFloat(e.captionBackgroundOpacity);var e=e.captionBackgroundColor,p="fade"===u?0:n;switch(t){case"left":c.css({width:n,height:i,left:s,top:o});"auto"===l&&h.css({width:n,height:i,left:-p,top:0});break;case"right":c.css({width:n,height:i,right:s,top:o});"auto"===l&&h.css({width:n,height:i,left:p,top:0});break;case"top":c.css({width:r,height:n,left:s,top:o});"auto"===l&&h.css({width:r,height:n,left:0,top:-p});break;case"bottom":c.css({width:r,height:n,left:s,bottom:o});"auto"===l&&h.css({width:r,height:n,left:0,top:p});break;case"custom":c.css({width:r,height:i,left:s,top:o});h.css({width:r,height:i,left:0,top:0});break;case"default":c.css({width:r,height:n,left:s,bottom:o}),"auto"===l&&h.css({width:r,height:n,left:0,top:p})}"fade"===u?Hn?c.css("visibility","visible"):h.stop().css({opacity:0}).animate({opacity:1},a,f):(Hn?c.css("visibility","visible"):h.stop().css({opacity:1}),"custom"===t&&c.css({width:r,height:i,left:s,top:o}),"topToBottom"===l?h.css({width:r,height:i,left:0,top:-c.height()}):"bottomToTop"===l?h.css({width:r,height:i,left:0,top:c.height()}):"leftToRight"===l?h.css({width:r,height:i,left:-c.width(),top:0}):"rightToLeft"===l&&h.css({width:r,height:i,left:c.width(),top:0}),"msie"===Dn&&"6.0"===Pn&&h.css("background-color",e),h.stop().animate({top:0,left:0},a,f))}function P(){if(-1!==yt){var e=wt[yt].find(".caption-container"),t=e.find(".wrapper");t.find(".background");t.find(".caption");var n=bt[yt].properties,r=n.captionPosition,i=n.captionHideEffect,s=parseInt(n.captionHideEffectDuration,10),o=n.captionHideEffectEasing,n=n.captionHideSlideDirection;if("fade"===i)Hn?e.css("visibility","hidden"):t.stop().animate({opacity:0},s,o);else if("topToBottom"===n)t.animate({top:t.height()},s);else if("bottomToTop"===n)t.animate({top:-t.height()},s);else if("leftToRight"===n)t.animate({left:t.width()},s);else if("rightToLeft"===n)t.animate({left:-t.width()},s);else if("auto"===n)switch(r){case"left":t.stop().animate({left:-t.width()},s);break;case"right":t.stop().animate({left:t.width()},s);break;case"top":t.stop().animate({top:-t.height()},s);break;case"bottom":t.stop().animate({top:t.height()},s);break;case"custom":t.stop().animate({top:t.height()},s);break;case"default":t.stop().animate({top:t.height()},s)}}}function H(){var e=bt[mt].properties.slideshowDelay;Ht="playing";vt.settings.timerAnimation&&R(e);Bt=0;jt=(new Date).getTime();Dt&&clearTimeout(Dt);Dt=setTimeout(function(){yn="slideshow";"next"===vt.settings.slideshowDirection?b():"previous"===vt.settings.slideshowDirection&&w()},e)}function B(){vt.settings.slideshow||(vt.settings.slideshow=!0);dt.find(".slideshow-controls").removeClass("play").addClass("pause");H()}function j(){dt.find(".slideshow-controls").removeClass("pause").addClass("play");Ht="stopped";F()}function F(){Dt&&clearTimeout(Dt);vt.settings.timerAnimation&&U()}function I(){vt.settings.slideshow&&"playing"===Ht&&!Tt&&(Dt&&clearTimeout(Dt),Ht="paused",Bt+=(new Date).getTime()-jt)}function q(){if(vt.settings.slideshow&&"paused"===Ht&&!Tt){var e=bt[mt].properties.slideshowDelay;Ht="playing";jt=(new Date).getTime();Dt&&clearTimeout(Dt);Dt=setTimeout(function(){"next"===vt.settings.slideshowDirection?b():"previous"===vt.settings.slideshowDirection&&w()},e-Bt)}}function R(t){var n=document.createElement("canvas"),r=Math.max(vt.settings.timerStrokeWidth1,vt.settings.timerStrokeWidth2)+2*vt.settings.timerRadius,i=r/2,s=Math.PI/180,o=0,u,a,f=vt.settings.timerStrokeOpacity1,l=vt.settings.timerStrokeOpacity2,c=ct(vt.settings.timerStrokeColor1).red,h=ct(vt.settings.timerStrokeColor1).green,p=ct(vt.settings.timerStrokeColor1).blue,v=ct(vt.settings.timerStrokeColor2).red,m=ct(vt.settings.timerStrokeColor2).green,g=ct(vt.settings.timerStrokeColor2).blue;n.width=n.height=r;var y=e('<div class="timer-animation"></div>').css({width:r,height:r}).appendTo(Sn);e(n).appendTo(y);vt.settings.timerAnimationControls&&(e('<div class="timer-animation-controls"></div>').appendTo(y),_t?y.addClass("play"):y.addClass("pause"),y.click(function(e){_t?_t&&(_t=!1,y.removeClass("play").addClass("pause"),vt.settings.pauseSlideshowOnHover&&Ct||q()):(_t=!0,y.removeClass("pause").addClass("play"),vt.settings.pauseSlideshowOnHover&&Ct||I())}));vt.settings.timerToggle&&!Ct?Hn?y.hide():y.css("opacity",0):Hn||y.css({opacity:0}).stop().animate({opacity:1},vt.settings.timerFadeDuration);var b;if(n.getContext)b=n.getContext("2d");else if("undefined"!==typeof G_vmlCanvasManager&&Hn)b=G_vmlCanvasManager.initElement(n).getContext("2d");else return;b.beginPath();b.lineWidth=vt.settings.timerStrokeWidth1;b.strokeStyle="rgba("+c+", "+h+", "+p+", "+f+")";b.arc(i,i,vt.settings.timerRadius,0,2*Math.PI,!1);b.stroke();Pt=setInterval(function(){360>=o&&!(vt.settings.pauseSlideshowOnHover&&Ct||Lt||_t||"paused"===Ht)&&(u=(new Date).getTime(),a=u-jt,o=(Bt+a)/t*360+1,360<o&&(o=360),n.width=n.width,b.beginPath(),b.lineWidth=vt.settings.timerStrokeWidth1,b.strokeStyle="rgba("+c+", "+h+", "+p+", "+f+")",b.arc(i,i,vt.settings.timerRadius,0,2*Math.PI,!1),b.stroke(),b.beginPath(),b.lineWidth=vt.settings.timerStrokeWidth2,b.strokeStyle="rgba("+v+", "+m+", "+g+", "+l+")",b.arc(i,i,vt.settings.timerRadius,0,o*s,!1),b.stroke())},20)}function U(){Pt&&clearInterval(Pt);var e=Sn.find(".timer-animation");e&&(Hn?e.remove():e.stop().animate({opacity:0},vt.settings.timerFadeDuration,function(){e.remove()}))}function z(){Ut=e('<div class="thumbnail-scroller"></div>').appendTo(dt);zt=e('<div class="thumbnails-visible-container"></div>').appendTo(Ut);Wt=e('<div class="thumbnails-container"></div>').appendTo(zt);"horizontal"===vt.settings.thumbnailOrientation?Ut.addClass("horizontal"):Ut.addClass("vertical");vt.settings.thumbnailScrollerOverlay&&Ut.addClass("overlay");for(var t=0;t<Et;t++)if(bt[t].thumbnail&&("scroller"===bt[t].properties.thumbnailType||"tooltipAndScroller"===bt[t].properties.thumbnailType)){var n=bt[t].thumbnail.hasClass("thumbnail")&&!bt[t].thumbnail.is("img"),r=e('<div class="thumbnail-wrapper"></li>').appendTo(Wt);if(n)n=bt[t].thumbnail,n.addClass("thumbnail-content").css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r);else{var i=(n=bt[t].thumbnail.is("a"))?bt[t].thumbnail.find("img").removeClass("thumbnail"):bt[t].thumbnail,s=i.attr("src"),o=i.attr("alt");i.attr("title");n?(n=bt[t].thumbnail,n.addClass("thumbnail").css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r),i[0].complete||"complete"===i[0].readyState?(i.css("margin-left",.5*(vt.settings.thumbnailWidth-i.width())),i.css("margin-top",.5*(vt.settings.thumbnailHeight-i.height())),n.css("background-image","none")):i.load(function(){e(this).css("margin-left",.5*(vt.settings.thumbnailWidth-e(this).width()));e(this).css("margin-top",.5*(vt.settings.thumbnailHeight-e(this).height()));e(this).parent().css("background-image","none")})):(n=e('<a class="thumbnail"></a>').css({"background-image":'url("'+s+'")',width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r),bt[t].thumbnail.attr("title")&&n.attr("title",bt[t].thumbnail.attr("title")));o&&vt.settings.thumbnailCaption&&(i=e('<div class="caption"></div>').appendTo(n),s=e('<div class="background"></div>').appendTo(i),o=e('<div class="content">'+o+"</div>").appendTo(i),i.css("height",o.outerHeight(!0)),"top"===vt.settings.thumbnailCaptionPosition?i.css({top:0}):i.css({bottom:0}),vt.settings.thumbnailCaptionToggle&&("slide"===vt.settings.thumbnailCaptionEffect?"top"===vt.settings.thumbnailCaptionPosition?i.css({top:-i.outerHeight(!0)}):i.css({bottom:-i.outerHeight(!0)}):Hn?(s.data("opacity",s.css("opacity")),s.css("opacity",0),o.css("opacity",0)):i.css("opacity",0)));var o=r.children('a[rel^="slider-lightbox"]'),i=wt[t].children('a[rel^="slider-lightbox"]'),s=o.length&&vt.settings.lightboxIcon,u=i.length&&vt.settings.thumbnailLightboxIcon;if(s||u)o=s?o.attr("href"):i.attr("href"),o=-1!==o.indexOf("iframe=true")||-1!==o.indexOf("ajax=true")||-1!==o.indexOf("custom=true")?"link":-1!==o.indexOf("youtube.com")||-1!==o.indexOf("youtu.be")||-1!==o.indexOf("vimeo.com")?"video":"image",i=e('<div class="lightbox-icon"></div>').appendTo(n),"video"===o?i.addClass("play"):"link"===o?i.addClass("hyperlink"):"image"===o&&i.addClass("magnifying"),vt.settings.thumbnailLightboxIconToggle&&i.css("opacity",0)}vt.settings.thumbnailBorder||n.css("border","none");vt.settings.thumbnailGlow||n.css("boxShadow","none");vt.settings.thumbnailBackground||n.css("backgroundColor","transparent");r.css({width:n.outerWidth(!1),height:n.outerHeight(!1)});en=-1===vt.settings.thumbnailLayers||vt.settings.thumbnailLayers*vt.settings.maximumVisibleThumbnails>Et?Math.ceil(Et/vt.settings.maximumVisibleThumbnails):vt.settings.thumbnailLayers;"horizontal"===vt.settings.thumbnailOrientation?(r.css("left",Math.floor(Ft/en)*r.outerWidth(!0)),r.css("top",Ft%en*r.outerHeight(!0))):(r.css("left",Ft%en*r.outerWidth(!0)),r.css("top",Math.floor(Ft/en)*r.outerHeight(!0)));n.hover(function(){e(this).hasClass("select")||e(this).addClass("over");var t=parseInt(e(this).data("index"),10);if(vt.settings.thumbnailCaptionToggle){var n=e(this).children(".caption"),r=n.children(".background"),i=n.children(".content"),s=r.data("opacity");"slide"===vt.settings.thumbnailCaptionEffect?"top"===vt.settings.thumbnailCaptionPosition?n.stop().animate({top:0},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing):n.stop().animate({bottom:0},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing):Hn?(r.stop().animate({opacity:s},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing),i.stop().animate({opacity:1},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing)):n.stop().animate({opacity:1},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing)}vt.settings.thumbnailLightboxIconToggle&&(n=e(this).children(".lightbox-icon"),Hn?n.css("filter",""):n.stop().animate({opacity:1},vt.settings.lightboxIconFadeDuration));vt.settings.thumbnailTooltip&&ot(t);t={type:"thumbnailMouseOver",index:t};e.isFunction(vt.settings.thumbnailMouseOver)&&vt.settings.thumbnailMouseOver.call(this,t)},function(){e(this).hasClass("select")||e(this).removeClass("over");var t=parseInt(e(this).data("index"),10);if(vt.settings.thumbnailCaptionToggle){var n=e(this).children(".caption"),r=n.children(".background"),i=n.children(".content");"slide"===vt.settings.thumbnailCaptionEffect?"top"===vt.settings.thumbnailCaptionPosition?n.stop().animate({top:-n.outerHeight(!0)},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing):n.stop().animate({bottom:-n.outerHeight(!0)},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing):Hn?(r.stop().animate({opacity:0},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing),i.stop().animate({opacity:0},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing)):n.stop().animate({opacity:0},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing)}vt.settings.thumbnailLightboxIconToggle&&(n=e(this).children(".lightbox-icon"),Hn?n.css("opacity",0):n.stop().animate({opacity:0},vt.settings.lightboxIconFadeDuration));vt.settings.thumbnailTooltip&&ut(t);t={type:"thumbnailMouseOut",index:t};e.isFunction(vt.settings.thumbnailMouseOut)&&vt.settings.thumbnailMouseOut.call(this,t)});vt.settings.thumbnailSwipe&&!Hn||n.click(function(){var t=e(this).data("index");yn="thumbnail";var n={type:"thumbnailClick",index:t};e.isFunction(vt.settings.thumbnailClick)&&vt.settings.thumbnailClick.call(this,n);e(this).attr("href")||y(t)});Ft++}Xt=Ut.find(".thumbnail-wrapper").outerWidth(!0);Vt=Ut.find(".thumbnail-wrapper").outerHeight(!0);Zt=Math.ceil(Ft/(vt.settings.maximumVisibleThumbnails*en));"horizontal"===vt.settings.thumbnailOrientation?(Ut.css({height:Vt*en,width:Xt*vt.settings.maximumVisibleThumbnails}),zt.css({height:Vt*en,width:Xt*vt.settings.maximumVisibleThumbnails})):(Ut.css({width:Xt*en,height:Vt*vt.settings.maximumVisibleThumbnails}),zt.css({width:Xt*en,height:Vt*vt.settings.maximumVisibleThumbnails}));vt.settings.thumbnailArrows&&X();vt.settings.thumbnailButtons&&V();vt.settings.thumbnailScrollbar&&et();vt.settings.thumbnailMouseScroll&&Y();vt.settings.thumbnailMouseWheel&&Z();vt.settings.thumbnailTooltip&&e('<div class="advanced-slider-tooltip"><div class="content"></div></div>').hide().appendTo(e("body"));W();vt.settings.thumbnailScrollerToggle&&Ut.css({opacity:0});Ut.hover(function(){tn=!0;vt.settings.thumbnailScrollerToggle&&(Hn?Ut.css("filter",""):Ut.stop().animate({opacity:1},vt.settings.thumbnailScrollerShowDuration))},function(){tn=!1;vt.settings.thumbnailScrollerToggle&&(Hn?Ut.css("opacity",0):Ut.stop().animate({opacity:0},vt.settings.thumbnailScrollerHideDuration))});if(vt.settings.thumbnailSwipe&&!Hn){Ut.bind("dragstart",x);Wt.addClass("swipe");vt.settings.thumbnailSwipeGrabCursor&&zt.addClass("grab");var a,f,r=t=!1;vt.settings.thumbnailSwipeTouchDrag&&"ontouchstart"in window&&(r=t=!0);!r&&vt.settings.thumbnailSwipeMouseDrag&&(t=!0);t&&"horizontal"===vt.settings.thumbnailOrientation?zt.swipe({threshold:vt.settings.thumbnailSwipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"vertical",swipeStatus:function(t,n,r,i){"start"===n?(a=parseInt(Wt.css("left"),10),Wt.is(":animated")&&Wt.stop(),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grab").addClass("grabbing"),t=e(t.target).closest("a"),t.length&&(t.unbind("click",x).bind("click",x),t.has("rel")&&t.unbind("click.prettyphoto")),rt()):"move"===n?(f=Yt===Zt-1&&"left"===r||0===Yt&&"right"===r?.2:1,"left"===r?Wt.css("left",a-i*f):"right"===r&&Wt.css("left",a+i*f),st()):"cancel"===n?(0!==i&&K(Yt,vt.settings.thumbnailSwipeBackDuration),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab"),it()):"end"===n&&vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab")},click:function(t){t=e(t.target).closest(".thumbnail");if(t.length){var n=t.data("index");yn="thumbnail";t.unbind("click",x);t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize);var r={type:"thumbnailClick",index:n};e.isFunction(vt.settings.thumbnailClick)&&vt.settings.thumbnailClick.call(this,r);t.attr("href")||y(n)}},swipeLeft:function(){Yt<Zt-1?$():K(Zt-1,vt.settings.thumbnailSwipeBackDuration)},swipeRight:function(){0<Yt?J():K(0,vt.settings.thumbnailSwipeBackDuration)}}):t&&"vertical"===vt.settings.thumbnailOrientation&&zt.swipe({threshold:vt.settings.thumbnailSwipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"horizontal",swipeStatus:function(t,n,r,i){"start"===n?(a=parseInt(Wt.css("top"),10),Wt.is(":animated")&&Wt.stop(),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grab").addClass("grabbing"),t=e(t.target).closest("a"),t.length&&(t.unbind("click",x).bind("click",x),t.has("rel")&&t.unbind("click.prettyphoto")),rt()):"move"===n?(f=Yt===Zt-1&&"up"===r||0===Yt&&"down"===r?.2:1,"up"===r?Wt.css("top",a-i*f):"down"===r&&Wt.css("top",a+i*f),st()):"cancel"===n?(0!==i&&K(Yt,vt.settings.thumbnailSwipeBackDuration),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab"),it()):"end"===n&&vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab")},click:function(t){t=e(t.target).closest(".thumbnail");if(t.length){var n=t.data("index");yn="thumbnail";t.unbind("click",x);t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize);var r={type:"thumbnailClick",index:n};e.isFunction(vt.settings.thumbnailClick)&&vt.settings.thumbnailClick.call(this,r);t.attr("href")||y(n)}},swipeUp:function(){Yt<Zt-1?$():K(Zt-1,vt.settings.thumbnailSwipeBackDuration)},swipeDown:function(){0<Yt?J():K(0,vt.settings.thumbnailSwipeBackDuration)}})}}function W(){Ut.find(".thumbnail-wrapper").each(function(t){var n=e(this);n.css({width:n.find(".thumbnail").outerWidth(!1),height:n.find(".thumbnail").outerHeight(!1)});Xt=n.outerWidth(!0);Vt=n.outerHeight(!0);"horizontal"===vt.settings.thumbnailOrientation?(n.css("left",Math.floor(t/en)*n.outerWidth(!0)),n.css("top",t%en*n.outerHeight(!0))):(n.css("left",t%en*n.outerWidth(!0)),n.css("top",Math.floor(t/en)*n.outerHeight(!0)))});if("horizontal"===vt.settings.thumbnailOrientation){var t=vt.settings.thumbnailArrows?parseInt(Ut.css("paddingLeft"),10)+parseInt(Ut.css("paddingRight"),10):0;Rt=Math.ceil(Ft/en)*Xt;It=vt.settings.thumbnailScrollerResponsive?Math.max(vt.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Ft/en),vt.settings.maximumVisibleThumbnails,Math.floor((Sn.outerWidth(!1)-t)/Xt))):Math.min(Ft,vt.settings.maximumVisibleThumbnails);Ut.css("width",Xt*It);zt.css("width",Xt*It)}else t=vt.settings.thumbnailArrows?parseInt(Ut.css("paddingTop"),10)+parseInt(Ut.css("paddingBottom"),10):0,Rt=Math.ceil(Ft/en)*Vt,It=vt.settings.thumbnailScrollerResponsive?Math.max(vt.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Ft/en),vt.settings.maximumVisibleThumbnails,Math.floor((Sn.outerHeight(!1)-t)/Vt))):Math.min(Ft,vt.settings.maximumVisibleThumbnails),Ut.css("height",It*Vt),zt.css("height",It*Vt);vt.settings.thumbnailScrollerCenter&&("horizontal"===vt.settings.thumbnailOrientation?Ut.css("left",(En.outerWidth(!1)-Ut.outerWidth(!1))/2):"vertical"===vt.settings.thumbnailOrientation&&Ut.css("top",(Sn.outerHeight(!1)-Ut.outerHeight(!1))/2));qt!==It&&(qt=It,Zt=Math.ceil(Ft/(It*en)),vt.settings.thumbnailButtons&&vt.settings.thumbnailScrollerResponsive&&V(),vt.settings.thumbnailScrollbar&&vt.settings.thumbnailScrollerResponsive&&("horizontal"===vt.settings.thumbnailOrientation?(Kt.css("width",Ut.width()),Gt.css("width",Kt.width()-thumbnailScrollerScrollbarEdgeSize),Kt.css("left",(Ut.outerWidth(!1)-Kt.width())/2)):(Kt.css("height",Ut.height()),Gt.css("height",Kt.height()-thumbnailScrollerScrollbarEdgeSize),Kt.css("top",(Ut.outerHeight(!1)-Kt.height())/2))),K(Yt))}function X(){$t=e('<div class="arrows"></div>').appendTo(Ut);var t=e('<a class="previous"></a>').click(function(){J()}).appendTo($t),n=e('<a class="next"></a>').click(function(){$()}).appendTo($t);"horizontal"===vt.settings.thumbnailOrientation?(t.css({top:Math.round((Vt*en-t.height())/2)}),n.css({top:Math.round((Vt*en-n.height())/2)})):(t.css({left:Math.round((Xt*en-t.width())/2)}),n.css({left:Math.round((Xt*en-n.width())/2)}));vt.settings.thumbnailArrowsToggle&&("msie"===Dn?$t.hide():$t.css("opacity",0),Ut.hover(function(){"msie"===Dn?$t.show():$t.stop().animate({opacity:1},vt.settings.thumbnailArrowsShowDuration)},function(){"msie"===Dn?$t.hide():$t.stop().animate({opacity:0},vt.settings.thumbnailArrowsHideDuration)}))}function V(){Jt||(Jt=e('<div class="buttons"></div>').appendTo(Ut),vt.settings.thumbnailButtonsToggle&&(Hn?Jt.hide():Jt.css("opacity",0),Ut.hover(function(){Hn?Jt.show():Jt.stop().animate({opacity:1},vt.settings.thumbnailButtonsShowDuration)},function(){Hn?Jt.hide():Jt.stop().animate({opacity:0},vt.settings.thumbnailButtonsShowDuration)})));if(1===Zt)Jt.empty();else if(Jt.find(".buttons a").length!==Zt&&1<Zt){Jt.empty();for(var t,n=0;n<Zt;n++){var r=e('<a rel="'+n+'"></a>').appendTo(Jt);"horizontal"===vt.settings.thumbnailOrientation?(t=r.outerWidth(!0),r.css("left",n*t)):(t=r.outerHeight(!0),r.css("top",n*t));r.bind({mouseover:function(){e(this).hasClass("select")||e(this).addClass("over")},mouseout:function(){e(this).hasClass("select")||e(this).removeClass("over")},click:function(){var t=parseInt(e(this).attr("rel"));K(t)}})}"horizontal"===vt.settings.thumbnailOrientation?(Jt.css("top",Vt*en),Jt.css("width",t*Zt),Jt.css("height",t),Ut.css("height",Math.max(Ut.height(),Jt.position().top+Jt.outerHeight(!0)))):(Jt.css("left",Xt*en),Jt.css("height",t*Zt),Jt.css("width",t),Ut.css("width",Math.max(Ut.width(),Jt.position().left+Jt.outerWidth(!0))));Yt>Zt-1&&(Yt=Zt-1);Jt.find("a").eq(Yt).addClass("select")}"horizontal"===vt.settings.thumbnailOrientation?Jt.css("left",(Ut.outerWidth(!1)-Jt.outerWidth(!1))/2):Jt.css("top",(Ut.outerHeight(!1)-Jt.outerHeight(!1))/2)}function $(){Yt<Zt-1?(Yt++,K(Yt)):K(0)}function J(){0<Yt?(Yt--,K(Yt)):K(Zt-1)}function K(e,t){var n="horizontal"===vt.settings.thumbnailOrientation?zt.width():zt.height(),r=e*n;Yt=e;Yt===Zt-1&&(r=Rt-n);rt();Wt.animate("horizontal"===vt.settings.thumbnailOrientation?{left:-r}:{top:-r},{duration:t||vt.settings.thumbnailScrollDuration,easing:vt.settings.thumbnailScrollEasing,step:function(){st()},complete:function(){it()}});vt.settings.thumbnailButtons&&(n=Ut.find(".buttons"),n.find(".select").removeClass("select"),n.find("a").eq(e).removeClass("over").addClass("select"))}function Q(){pn=setInterval(function(){cn!==hn?(cn=hn,vn&&(clearTimeout(dn),vn=!1),mn&&(mn=!1,vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().show():dt.find(".slide-arrows a").stop().animate({opacity:1},vt.settings.slideArrowsShowDuration)),vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().show():dt.find(".slideshow-controls").stop().animate({opacity:1},vt.settings.slideshowControlsShowDuration)),vt.settings.slideButtons&&vt.settings.slideButtonsToggle&&(Hn?dt.find(".slide-buttons").stop().show():dt.find(".slide-buttons").stop().animate({opacity:1},vt.settings.slideButtonsShowDuration)))):vn||(vn=!0,dn=setTimeout(function(){mn=!0;vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().hide():dt.find(".slide-arrows a").stop().animate({opacity:0},vt.settings.slideArrowsHideDuration));vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().hide():dt.find(".slideshow-controls").stop().animate({opacity:0},vt.settings.slideshowControlsHideDuration));vt.settings.slideButtons&&vt.settings.slideButtonsToggle&&(Hn?dt.find(".slide-buttons").stop().hide():dt.find(".slide-buttons").stop().animate({opacity:0},vt.settings.slideButtonsHideDuration))},vt.settings.autoToggleDelay))},500)}function G(){clearInterval(pn);clearTimeout(dn)}function Y(){vt.settings.thumbnailMouseScroll=!0;var e=0,t=!1,n=zt.offset().top,r=zt.offset().left,i=zt.width(),s=zt.height(),o="horizontal"===vt.settings.thumbnailOrientation?i:s,u="horizontal"===vt.settings.thumbnailOrientation?r:n,a="horizontal"===vt.settings.thumbnailOrientation?"left":"top",f=parseInt(Wt.css(a),10);nn=setInterval(function(){t||(t=!0,n=zt.offset().top,r=zt.offset().left,i=zt.width(),s=zt.height());fn>r&&fn<r+i&&ln>n&&ln<n+s?(e=Math.round((-((("horizontal"===vt.settings.thumbnailOrientation?fn:ln)-u)/o*(Rt-o+200))+100-f)*vt.settings.thumbnailMouseScrollSpeed/100),f+=e):.1<Math.abs(e)?(e*=vt.settings.thumbnailMouseScrollEase/100,f+=e):e=0;0<Math.abs(e)&&(0<=f?f=0:f<=o-Rt&&(f=o-Rt),st(),Wt.css(a,f))},30)}function Z(){vt.settings.thumbnailMouseWheel=!0;var e=0,t=vt.settings.thumbnailMouseWheelReverse?-1:1,n,r="horizontal"===vt.settings.thumbnailOrientation?"left":"top",i="horizontal"===vt.settings.thumbnailOrientation?zt.width():zt.height();zt.bind("mousewheel",function(s,o){s.preventDefault();sn||(rt(),sn=!0,e=n=parseInt(Wt.css(r),10),rn=setInterval(function(){.5<Math.abs(e-n)?(n+=vt.settings.thumbnailMouseWheelSpeed/100*(e-n),st(),Wt.css(r,n)):it()},30));e+=t*o*10;0<=e?e=0:e<=i-Rt&&(e=i-Rt)})}function et(){function t(){l=("horizontal"===vt.settings.thumbnailOrientation?fn:ln)-Qt.offset()[m]-c;n()}function n(){0>l?l=0:l>parseInt(Qt.css(v),10)-parseInt(f.css(v),10)&&(l=parseInt(Qt.css(v),10)-parseInt(f.css(v),10));un&&f.css(m,l);h=l/(parseInt(Qt.css(v),10)-parseInt(f.css(v),10));an||(rt(),an=!0,p=parseInt(Wt.css(m),10),on=setInterval(function(){if(.001<Math.abs(tt()+h)){var e=(-h*(Rt-parseInt(zt.css(v),10))-p)*vt.settings.thumbnailScrollbarEase/100;p+=e;st();Wt.css(m,p)}else an&&it()},30))}Kt=e('<div class="scrollbar"></div>').appendTo(Ut);var r=e('<div class="back"></div>').appendTo(Kt),i=e('<div class="track"></div>').appendTo(Kt),s=e('<div class="forward"></div>').appendTo(Kt),o=e('<div class="track-middle"></div>').appendTo(i),u=e('<div class="track-back"></div>').appendTo(i),a=e('<div class="track-forward"></div>').appendTo(i),f=e('<div class="thumb"></div>').appendTo(i);e('<div class="thumb-middle"></div>').appendTo(f);e('<div class="thumb-back"></div>').appendTo(f);e('<div class="thumb-forward"></div>').appendTo(f);var l=0,c,h=0,p=0,v="horizontal"===vt.settings.thumbnailOrientation?"width":"height",m="horizontal"===vt.settings.thumbnailOrientation?"left":"top";Kt.addClass(vt.settings.scrollbarSkin);Qt=i;"horizontal"===vt.settings.thumbnailOrientation?(Kt.addClass("horizontal"),Kt.css({top:Vt*en,left:(Ut.outerWidth(!1)-Kt.width())/2}),Ut.css("height",Math.max(Ut.height(),Kt.position().top+Kt.outerHeight(!0)))):(Kt.addClass("vertical"),Kt.css({left:Xt*en,top:(Ut.outerHeight(!1)-Kt.height())/2}),Ut.css("width",Math.max(Ut.width(),Kt.position().left+Kt.outerWidth(!0))));0===r.width()&&0===s.width()?(Gt=o,thumbnailScrollerScrollbarEdgeSize="horizontal"===vt.settings.thumbnailOrientation?u.width()+a.width():u.height()+a.height()):(Gt=i,thumbnailScrollerScrollbarEdgeSize="horizontal"===vt.settings.thumbnailOrientation?r.width()+s.width():r.height()+s.height());vt.settings.thumbnailScrollbarToggle&&(Hn?Kt.hide():Kt.css("opacity",0),Ut.hover(function(){Hn?Kt.show():Kt.stop().animate({opacity:1},vt.settings.thumbnailScrollbarShowDuration)},function(){Hn?Kt.hide():Kt.stop().animate({opacity:0},vt.settings.thumbnailScrollbarShowDuration)}));f.bind("mousedown",function(n){n.preventDefault();c=("horizontal"===vt.settings.thumbnailOrientation?fn:ln)-f.offset()[m];un=!0;e(document).bind("mousemove",t)});e(document).bind("mouseup",function(){un&&(un=!1,e(document).unbind("mousemove",t))});r.bind("click",function(){l=parseInt(f.css(m),10)-vt.settings.scrollbarArrowScrollAmount;n()});s.bind("click",function(){l=parseInt(f.css(m),10)+vt.settings.scrollbarArrowScrollAmount;n()})}function tt(){var e="horizontal"===vt.settings.thumbnailOrientation?"width":"height";return parseFloat(Wt.css("horizontal"===vt.settings.thumbnailOrientation?"left":"top"),10)/(Rt-parseInt(zt.css(e),10))}function nt(){nn&&clearInterval(nn);rn&&(sn=!1,clearInterval(rn));on&&(an=!1,clearInterval(on))}function rt(){nt();Wt&&Wt.is(":animated")&&Wt.stop()}function it(){nt();vt.settings.thumbnailMouseScroll&&Y()}function st(){if(vt.settings.thumbnailScrollbar&&!un){var e=Qt.find(".thumb"),t="horizontal"===vt.settings.thumbnailOrientation?"left":"top",n="horizontal"===vt.settings.thumbnailOrientation?"width":"height",n=parseInt(Qt.css(n),10)-parseInt(e.css(n),10),r=-tt()*n;0<=r&&r<=n&&e.css(t,r)}}function ot(t){t=Ut.find('.thumbnail[data-index="'+t+'"]');var n=t.attr("title");if(n){var r=e("body").find(".advanced-slider-tooltip");t.removeAttr("title");r.find(".content").html(n);var i=r.outerWidth(!1)/2,s=r.outerHeight(!1)+parseInt(r.css("marginBottom"),10);r.css({left:fn,top:ln});r.stop(!1,!0).fadeIn(vt.settings.tooltipShowDuration);e(document).bind("mousemove.tooltip",function(){r.css({left:fn-i,top:ln-s})})}}function ut(t){var n=e("body").find(".advanced-slider-tooltip"),r=n.find(".content").html();t=Ut.find('.thumbnail[data-index="'+t+'"]');r&&(t.attr("title",r),n&&n.stop(!1,!0).fadeOut(vt.settings.tooltipHideDuration,function(){e(document).unbind("mousemove.tooltip");n.css("left",-9999)}))}function at(e,t,n,r){var i=[],s,o,u=0;switch(t){case"randomPattern":for(n=[];e.length;)u=Math.floor(Math.random()*e.length),n.push(e[u]),e.splice(u,1);var a=n.length;for(t=0;t<a;t++)i[t]=n[t];break;case"topToBottom":for(o=0;o<r;o++)for(s=0;s<n;s++)i.push(ft(e,s,o));break;case"bottomToTop":for(o=r-1;0<=o;o--)for(s=n-1;0<=s;s--)i.push(ft(e,s,o));break;case"rightToLeft":for(s=n-1;0<=s;s--)for(o=r-1;0<=o;o--)i.push(ft(e,s,o));break;case"leftToRight":for(s=0;s<n;s++)for(o=0;o<r;o++)i.push(ft(e,s,o));break;case"topLeftToBottomRight":for(t=0;t<n+r-1;t++)for(o=0,s=t;0<=s;s--)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),o++;break;case"bottomLeftToTopRight":u=n>r?n:r;for(t=n-1;t>=1-u;t--)for(s=0,o=t;o<=n-1;o++)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),s++;break;case"topRightToBottomLeft":u=n>r?n:r;for(t=n-1;t>=1-u;t--)for(s=t,o=0;o<=r-1;o++)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),s++;break;case"bottomRightToTopLeft":for(t=r+n-2;0<=t;t--)for(o=0,s=t;0<=s;s--)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),o++;break;case"horizontalMarginToCenter":if(n%2){for(s=0;s<Math.floor(n/2);s++)for(o=0;o<r;o++)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));for(t=0;t<r;t++)i.push(ft(e,Math.floor(n/2),t))}else for(s=0;s<Math.floor(n/2);s++)for(o=0;o<r;o++)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));break;case"horizontalCenterToMargin":if(n%2)for(t=0;t<r;t++)i.push(ft(e,Math.floor(n/2),t));for(s=Math.floor(n/2)-1;0<=s;s--)for(o=0;o<r;o++)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));break;case"verticalMarginToCenter":if(r%2){for(o=0;o<Math.floor(r/2);o++)for(s=0;s<n;s++)i.push(ft(e,s,o)),i.push(ft(e,s,r-1-o));for(t=0;t<n;t++)i.push(ft(e,t,Math.floor(r/2)))}else for(o=0;o<Math.floor(r/2);o++)for(s=0;s<n;s++)i.push(ft(e,s,o)),i.push(ft(e,s,r-1-o));break;case"verticalCenterToMargin":if(r%2)for(t=0;t<n;t++)i.push(ft(e,t,Math.floor(r/2)));for(o=Math.floor(r/2)-1;0<=o;o--)for(s=0;s<n;s++)i.push(ft(e,s,o)),i.push(ft(e,s,r-1-o));break;case"skipOneTopToBottom":for(o=0;o<r;o++){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(o=0;o<r;o++){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneBottomToTop":for(o=r-1;0<=o;o--){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(o=r-1;0<=o;o--){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneLeftToRight":for(s=0;s<n;s++){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(s=0;s<n;s++){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneRightToLeft":for(s=n-1;0<=s;s--){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(s=n-1;0<=s;s--){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneVertical":if(r%2)for(o=0;o<r;o++){for(s=u;s<n;s+=2){if(o===Math.floor(r/2))for(o++,t=1-n%2;t<n;t+=2)i.push(ft(e,t,Math.floor(r/2))),void 0!==ft(e,t-1,Math.floor(r/2))&&i.push(ft(e,t-1,Math.floor(r/2)));i.push(ft(e,s,o));i.push(ft(e,s,r-o-1))}u=0===u?1:0}else for(o=0;o<r;o++){for(s=u;s<n;s+=2)i.push(ft(e,s,o)),i.push(ft(e,s,r-o-1));u=0===u?1:0}break;case"skipOneHorizontal":if(n%2)for(s=0;s<n;s++){for(o=u;o<r;o+=2){if(s===Math.floor(n/2))for(s++,t=1-r%2;t<r;t+=2)i.push(ft(e,Math.floor(n/2),t)),void 0!==ft(e,Math.floor(n/2),t-1)&&i.push(ft(e,Math.floor(n/2),t-1));i.push(ft(e,s,o));i.push(ft(e,n-1-s,o))}u=0===u?1:0}else for(s=0;s<n;s++){for(o=u;o<r;o+=2)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));u=0===u?1:0}break;case"spiralMarginToCenterCW":var f=n,l=r,c,h=0,p=r<n?r:n,a=Math.floor(p/2);for(c=0;c<a;c++){for(s=h++;s<f;s++)i.push(ft(e,s,h-1));f--;for(o=h;o<l;o++)i.push(ft(e,n-h,o));l--;for(t=f;t>=n-f;t--)i.push(ft(e,t-1,l));for(u=l-1;u>=r-l;u--)i.push(ft(e,h-1,u))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,h-1));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,n-h,o))}break;case"spiralMarginToCenterCCW":f=n;l=r;h=0;p=r<n?r:n;a=Math.floor(p/2);for(c=0;c<a;c++){for(o=h++;o<l;o++)i.push(ft(e,h-1,o));l--;for(s=h;s<f;s++)i.push(ft(e,s,r-h));f--;for(t=l;t>=r-l;t--)i.push(ft(e,f,t-1));for(u=f-1;u>=n-f;u--)i.push(ft(e,u,h-1))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,r-h));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,h-1,o))}break;case"spiralCenterToMarginCCW":f=n;l=r;h=0;p=r<n?r:n;a=Math.floor(p/2);for(c=0;c<a;c++){for(s=h++;s<f;s++)i.push(ft(e,s,h-1));f--;for(o=h;o<l;o++)i.push(ft(e,n-h,o));l--;for(t=f;t>=n-f;t--)i.push(ft(e,t-1,l));for(u=l-1;u>=r-l;u--)i.push(ft(e,h-1,u))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,h-1));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,n-h,o))}i.reverse();break;case"spiralCenterToMarginCW":f=n;l=r;h=0;p=r<n?r:n;a=Math.floor(p/2);for(c=0;c<a;c++){for(o=h++;o<l;o++)i.push(ft(e,h-1,o));l--;for(s=h;s<f;s++)i.push(ft(e,s,r-h));f--;for(t=l;t>=r-l;t--)i.push(ft(e,f,t-1));for(u=f-1;u>=n-f;u--)i.push(ft(e,u,h-1))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,r-h));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,h-1,o))}i.reverse();break;default:for(n=[];e.length;)u=Math.floor(Math.random()*e.length),n.push(e[u]),e.splice(u,1);a=n.length;for(t=0;t<a;t++)i[t]=n[t]}return i}function ft(t,n,r){return e.grep(t,function(e){return e.data("hPos")===n&&e.data("vPos")===r})[0]}function lt(e){return e[Math.floor(Math.random()*e.length)]}function ct(e){var t=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16);e=parseInt(e.substring(5,7),16);return{red:t,green:n,blue:e}}function ht(e,t,n){var r,i=n[0],s=e===Un;n[0]=function(){i&&(i.apply(window,arguments),s||(delete t[r],i=null))};r=e.apply(window,n);t[r]={args:n,created:Date.now(),cb:i,id:r};return r}function pt(e,t,n,r,i){function s(){o.cb&&(o.cb.apply(window,arguments),u||(delete n[r],o.cb=null))}var o=n[r];if(o){var u=e===Un;t(o.id);u||(t=o.args[1],i=Date.now()-o.created,0>i&&(i=0),t-=i,0>t&&(t=0),o.args[1]=t);o.args[0]=s;o.created=Date.now();o.id=e.apply(window,o.args)}}this.settings=e.extend({},e.fn.advancedSlider.defaults,n);var dt=e(t),vt=this,mt=-1,gt=-1,yt=-1,bt=[],wt=[],Et=0,St=0,xt=null,Tt=!1,Nt=!1,Ct=!1,kt=!1,Lt=!1,At,Ot=!1,Mt=!1,_t=!1,Dt=0,Pt=0,Ht,Bt=0,jt=0,Ft=0,It=0,qt=0,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt=0,Zt=0,en=0,tn=!1,nn,rn,sn=!1,on,un=!1,an=!1,fn,ln,cn=0,hn=0,pn,dn=0,vn=!1,mn=!1,gn=!0,yn="",bn=0,wn=null,En,Sn,xn,Tn,Nn,Cn=0,kn,Ln,An=window.navigator.userAgent.toLowerCase(),On=null!==An.match(/ipad/i)||null!==An.match(/ipod/i)||null!==An.match(/iphone/i),Mn=/(msie) ([\w.]+)/,_n=/(webkit)[ \/]([\w.]+)/.exec(An)||Mn.exec(An)||[],Dn=_n[1],Pn=_n[2],Hn="msie"===Dn&&9>parseInt(Pn,10),Bn=!1,jn="off",Fn="alignType effectType sliceEffectType sliceDelay sliceDuration sliceEasing horizontalSlices verticalSlices slicePattern slicePoint sliceStartPosition sliceStartRatio sliceFade captionSize captionPosition captionShowEffectDuration captionShowEffectEasing captionHideEffectDuration captionHideEffectEasing captionShowEffect captionHideEffect captionLeft captionTop captionWidth captionHeight captionShowSlideDirection captionHideSlideDirection captionBackgroundColor captionBackgroundOpacity slideshowDelay slideMask slideDirection slideDuration slideEasing slideLoop fadeInDuration fadeOutDuration fadeInEasing fadeOutEasing fadePreviousSlide fadePreviousSlideDuration thumbnailType captionDelay htmlDuringTransition jwPlayerPlugins".split(" ");(function(){vt.settings.xmlSource?(dt.empty(),e.ajax({type:"GET",url:vt.settings.xmlSource,dataType:"msie"===Dn?"text":"xml",success:function(t){var i,s;"msie"===Dn?(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)):i=t;xn=e('<div class="slides"></div>').appendTo(dt);s=e(i).find("slider");e(i).find("slide").each(function(t){var r=e('<div class="slide"></div>').appendTo(xn),i=e(this),o=i.find("image"),u=i.find("thumbnail"),a=i.find("caption"),f=i.find("html"),l=i.find("layer"),c=i.find("link"),h=i.find("thumbnailLink"),p=o.length||i.attr("data-image"),v,m;i.attr("data-image")&&r.attr("data-image",i.attr("data-image"));p&&c.length&&(v=e("<a></a>").attr("href",c.text()).attr("title",c.attr("title")?c.attr("title"):"").attr("target",c.attr("target")?c.attr("target"):"_self").attr("rel",("slider-lightbox"===c.attr("type")?c.attr("type"):"")+(c.attr("group")?"["+c.attr("group")+"]":"")).appendTo(r));o.length&&e("<img/>").attr("src",o.text()).attr("class","image").attr("alt",o.attr("alt")?o.attr("alt"):"").attr("title",o.attr("title")?o.attr("title"):"").appendTo(v?v:r);u.length&&h.length&&(m=e("<a></a>").attr("href",h.text()).attr("title",h.attr("title")?h.attr("title"):"").attr("target",h.attr("target")?h.attr("target"):"_self").attr("rel",("slider-lightbox"===h.attr("type")?h.attr("type"):"")+(h.attr("group")?"["+h.attr("group")+"]":"")).appendTo(r));u.length&&("content"===u.attr("type")?e("<div></div>").html(u.text()).attr("class","thumbnail").appendTo(r):e("<img/>").attr("src",u.text()).attr("class","thumbnail").attr("alt",u.attr("alt")?u.attr("alt"):"").attr("title",u.attr("title")?u.attr("title"):"").appendTo(m?m:r));a.length&&e("<div></div>").html(a.text()).attr("class","caption").appendTo("link"===a.attr("parent")&&v?v:r);f.length&&e("<div></div>").html(f.text()).attr("class","html").appendTo(r);l.length&&e.each(l,function(t){t=e(l[t]);var n=e("<div></div>").html(t.text()).attr("class","layer").appendTo(r);e.each(t[0].attributes,function(e,t){"style"===t.nodeName?n.addClass(t.nodeValue):n.attr("data-"+t.nodeName,t.nodeValue)})});r.properties={};for(i=0;i<Fn.length;i++)o=Fn[i],n.slideProperties&&n.slideProperties[t]&&n.slideProperties[t][o]?r.properties[o]=n.slideProperties[t][o]:e(this).attr(o)?r.properties[o]=e(this).attr(o):n[o]?r.properties[o]=n[o]:s.attr(o)?r.properties[o]=s.attr(o):r.properties[o]=e.fn.advancedSlider.defaults[o];bt.push(r)});r();t={type:"xmlLoaded",data:i};e.isFunction(vt.settings.xmlLoaded)&&vt.settings.xmlLoaded.call(this,t)}})):r()})();this.nextSlide=b;this.previousSlide=w;this.gotoSlide=y;this.startSlideshow=B;this.stopSlideshow=j;this.pauseSlideshow=I;this.resumeSlideshow=q;this.scrollToThumbnailPage=K;this.scrollToNextThumbnailPage=$;this.scrollToPreviousThumbnailPage=J;this.startThumbnailMouseScroll=Y;this.stopThumbnailMouseScroll=function(){vt.settings.thumbnailMouseScroll=!1;clearInterval(nn)};this.startThumbnailMouseWheel=Z;this.stopThumbnailMouseWheel=function(){sn=vt.settings.thumbnailMouseWheel=!1;clearInterval(rn)};this.startAutoToggle=Q;this.stopAutoToggle=G;this.doSliderLayout=s;this.getSlideshowState=function(){return Ht};this.getCurrentIndex=function(){return mt};this.getSlideAt=function(e){return bt[e]};this.getTriggerType=function(){return yn};this.isTransition=function(){return Tt};this.totalSlides=function(){return Et};this.getSize=function(){return{sliderWidth:dt.width(),sliderHeight:dt.height(),slideWidth:Sn.width(),slideHeight:Sn.height()}};this.destroy=function(){j();nt();e(document).unbind("mousemove");e(document).unbind("mousemove.tooltip")};var In={},qn={},Rn=window.setTimeout,Un=window.setInterval,zn=window.clearTimeout,Wn=window.clearInterval;On&&-1!==parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_","")).toString().indexOf("6.0")&&(window.setTimeout=function(){return ht(Rn,In,arguments)},window.setInterval=function(){return ht(Un,qn,arguments)},window.clearTimeout=function(e){var t=In[e];t&&(delete In[e],zn(t.id))},window.clearInterval=function(e){var t=qn[e];t&&(delete qn[e],Wn(t.id))},window.addEventListener("scroll",function(){for(var e in In)pt(Rn,zn,In,e);for(e in qn)pt(Un,Wn,qn,e)}))}e.fn.advancedSlider=function(e){for(var n=[],r=0;r<this.length;r++)this[r].advancedslider||(this[r].advancedslider=new t(this[r],e)),n.push(this[r].advancedslider);return 1<n.length?n:n[0]};e.fn.advancedSlider.defaults={xmlSource:null,width:500,height:300,aspectRatio:-1,responsive:!1,skin:"pixel",scrollbarSkin:"scrollbar-1",alignType:"centerCenter",scaleType:"outsideFit",allowScaleUp:!1,preloadNearbyImages:!1,slideStart:0,shuffle:!1,disableRightClick:!1,shadow:!0,border:!0,glow:!0,slideshow:!0,slideshowDelay:5e3,slideshowDirection:"next",slideshowLoop:!0,slideshowControls:!1,slideshowControlsToggle:!0,slideshowControlsShowDuration:500,slideshowControlsHideDuration:500,pauseSlideshowOnHover:!1,slideArrows:!0,slideArrowsToggle:!0,slideArrowsShowDuration:500,slideArrowsHideDuration:500,slideButtons:!0,slideButtonsNumber:!1,slideButtonsToggle:!1,slideButtonsShowDuration:500,slideButtonsHideDuration:500,slideButtonsCenter:!0,slideButtonsContainerCenter:!0,keyboardNavigation:!1,keyboardNavigationOnFocusOnly:!1,autoToggle:!1,autoToggleDelay:5e3,timerAnimation:!0,timerAnimationControls:!0,timerFadeDuration:500,timerToggle:!1,timerRadius:18,timerStrokeColor1:"#000000",timerStrokeColor2:"#FFFFFF",timerStrokeOpacity1:.5,timerStrokeOpacity2:.7,timerStrokeWidth1:8,timerStrokeWidth2:4,lightbox:!1,lightboxTheme:"pp_default",lightboxOpacity:.8,lightboxIcon:!0,lightboxIconToggle:!1,lightboxIconFadeDuration:500,thumbnailLightboxIcon:!0,thumbnailLightboxIconToggle:!0,lightboxAutoplay:!1,lightboxAutoplayDelay:5e3,lightboxVideoAutoplay:!0,ligthboxAllowResize:!0,fullscreenControls:!1,fullscreenControlsToggle:!0,fullscreenControlsShowDuration:500,fullscreenControlsHideDuration:500,fullscreenThumbnailScrollerOverlay:!0,fullscreenSlideButtons:!1,fullscreenShadow:!1,htmlDuringTransition:!0,overrideTransition:!1,initialEffect:!0,effectType:"random",sliceEffectType:"random",sliceDelay:50,sliceDuration:1e3,sliceEasing:"swing",horizontalSlices:5,verticalSlices:3,slicePattern:"random",slicePoint:"centerCenter",sliceStartPosition:"left",sliceStartRatio:1,slideMask:!1,sliceFade:!0,fadePreviousSlide:!1,fadePreviousSlideDuration:300,slideDirection:"autoHorizontal",slideLoop:!1,slideDuration:700,slideEasing:"swing",fadeInDuration:700,fadeOutDuration:700,fadeInEasing:"swing",fadeOutEasing:"swing",swipeOrientation:"horizontal",swipeDuration:700,swipeBackDuration:300,swipeSlideDistance:10,swipeEasing:"swing",swipeMouseDrag:!0,swipeTouchDrag:!0,swipeGrabCursor:!0,swipeThreshold:50,thumbnailType:"tooltip",thumbnailWidth:80,thumbnailHeight:50,thumbnailSlideAmount:10,thumbnailSlideDuration:300,thumbnailSlideEasing:"swing",thumbnailBorder:!0,thumbnailGlow:!0,thumbnailBackground:!0,thumbnailSwipe:!1,thumbnailSwipeBackDuration:300,thumbnailSwipeMouseDrag:!0,thumbnailSwipeTouchDrag:!0,thumbnailSwipeGrabCursor:!0,thumbnailSwipeThreshold:50,thumbnailScrollerToggle:!1,thumbnailScrollerResponsive:!1,thumbnailScrollerCenter:!0,thumbnailScrollerOverlay:!1,thumbnailScrollDuration:1e3,thumbnailScrollEasing:"swing",maximumVisibleThumbnails:5,minimumVisibleThumbnails:1,thumbnailOrientation:"horizontal",thumbnailLayers:1,thumbnailTooltip:!1,tooltipShowDuration:300,tooltipHideDuration:300,thumbnailCaption:!0,thumbnailCaptionPosition:"bottom",thumbnailCaptionToggle:!0,thumbnailCaptionEffect:"slide",thumbnailCaptionShowDuration:500,thumbnailCaptionHideDuration:500,thumbnailCaptionEasing:"swing",thumbnailScrollbar:!1,thumbnailButtons:!1,thumbnailArrows:!0,thumbnailButtonsToggle:!1,thumbnailArrowsToggle:!1,thumbnailScrollbarToggle:!1,scrollbarArrowScrollAmount:100,thumbnailScrollerHideDuration:500,thumbnailScrollerShowDuration:500,thumbnailArrowsHideDuration:500,thumbnailArrowsShowDuration:500,thumbnailButtonsHideDuration:500,thumbnailButtonsShowDuration:500,thumbnailScrollbarHideDuration:500,thumbnailScrollbarShowDuration:500,thumbnailSync:!0,thumbnailMouseScroll:!1,thumbnailMouseScrollEase:90,thumbnailMouseScrollSpeed:10,thumbnailMouseWheel:!1,thumbnailMouseWheelSpeed:20,thumbnailMouseWheelReverse:!1,thumbnailScrollbarEase:10,captionToggle:!1,captionDelay:0,captionSize:70,captionBackgroundOpacity:.5,captionBackgroundColor:"#000000",captionShowEffect:"slide",captionShowEffectDuration:500,captionShowEffectEasing:"swing",captionShowSlideDirection:"auto",captionHideEffect:"fade",captionHideEffectDuration:300,captionHideEffectEasing:"swing",captionHideSlideDirection:"auto",captionPosition:"bottom",captionLeft:50,captionTop:50,captionWidth:300,captionHeight:100,videoPlayAction:"stopSlideshow",videoPauseAction:"none",videoEndAction:"startSlideshow",reachVideoAction:"none",leaveVideoAction:"pauseVideo",jwPlayerPath:"js/jw-player/player.swf",jwPlayerSkin:null,slideProperties:null,sliderInit:null,slideOpen:null,slideClick:null,slideMouseOver:null,slideMouseOut:null,thumbnailClick:null,thumbnailMouseOver:null,thumbnailMouseOut:null,transitionStart:null,transitionComplete:null,videoPlay:null,videoPause:null,videoEnd:null,videoFullscreenChange:null,xmlLoaded:null,doSliderLayout:null}})(jQuery);(function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.sliderImagesLoaded=function(r){function i(){var t=e(h),n=e(p);a&&(p.length?a.reject(l,t,n):a.resolve(l));e.isFunction(r)&&r.call(u,l,t,n)}function s(e){o(e.target,"error"===e.type)}function o(t,r){t.src!==n&&-1===e.inArray(t,c)&&(c.push(t),r?p.push(t):h.push(t),e.data(t,"sliderImagesLoaded",{isBroken:r,src:t.src}),f&&a.notifyWith(e(t),[r,l,e(h),e(p)]),l.length===c.length&&(setTimeout(i),l.unbind(".sliderImagesLoaded",s)))}var u=this,a=e.isFunction(e.Deferred)?e.Deferred():0,f=e.isFunction(a.notify),l=u.find("img").add(u.filter("img")),c=[],h=[],p=[];e.isPlainObject(r)&&e.each(r,function(e,t){if("callback"===e)r=t;else if(a)a[e](t)});l.length?l.bind("load.sliderImagesLoaded error.sliderImagesLoaded",s).each(function(r,i){var s=i.src,u=e.data(i,"sliderImagesLoaded");if(u&&u.src===s)o(i,u.isBroken);else if(i.complete&&i.naturalWidth!==t)o(i,0===i.naturalWidth||0===i.naturalHeight);else if(i.readyState||i.complete)i.src=n,"Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.match(/Windows Phone/i)?(s=s.split("?"),u="undefined"!==typeof s[1]?parseInt(s[1])+1:1,i.src=s[0]+"?"+u):i.src=s}):i();return a?a.promise(u):u}})(jQuery);

// Bootstrap popover validate
//(function(){var e;e=jQuery;e.fn.extend({validate_popover:function(t){var n;n=e.extend(true,{},e.validator.popover_defaults,t);if(n.get_offset_element)e.validator.get_offset_element=n.get_offset_element;return this.validate(n)}});e.extend(e.validator,{popover_defaults:{onsubmit:true,popoverPosition:"right",popoverContainer:"body",hideForInvisible:true,success:function(t,n){return e.validator.hide_validate_popover(n)},errorPlacement:function(t,n){var r;r=t.html();this.beforeShowError.call(n.get(0),r);return e.validator.show_error(r,n)},beforeShowError:function(e){}},popover_elements_cached:[],hide_validate_popover:function(t){var n,r,i,s;if(t.length>1){s=[];for(r=0,i=t.length;r<i;r++){n=t[r];s.push(e.validator.get_validate_popover(n))}return s}else return e.validator.get_validate_popover(t)},show_error:function(t,n){var r;r=e.validator.get_validate_popover(n);e(".popover-content",r).html(t);e.validator.reset_position(r,n);if(t!=null&&t!=="")return r.show()},get_offset_element:function(t){return e(t)},reset_position:function(t,n){var r,i,s,o,u,a,f,l;s=e.validator.get_offset_element(n).offset();o=e(n).data("popover-offset")||"0,0";l=o.split(","),f=l[0],i=l[1];u=e.validator.get_position(n);if(u==="top"){a=s.top-11-26+parseInt(f);r=s.left+parseInt(i)}else{a=s.top-3+parseInt(f);r=s.left+e(n).width()+20+parseInt(i)}return t.css({top:a,left:r})},get_position:function(t){return e(t).data("popover-position")||e.validator.validator_settings(t).popoverPosition},reposition:function(t){var n,r,i,s,o,u,a;if(t!=null)s=t;else s=e.validator.popover_elements_cached;a=[];for(o=0,u=s.length;o<u;o++){r=s[o];n=e(r);i=n.data("validate-popover");if(i!=null&&i.is(":visible"))if(e.validator.hide_popover_for_invisible(r)&&!n.is(":visible"))a.push(i.hide());else a.push(e.validator.reset_position(i,r));else a.push(void 0)}return a},get_validate_popover:function(t){var n,r;r=e(t).data("validate-popover");if(r==null){n=e(e.validator.validator_settings(t).popoverContainer);r=e("<div class='popover "+e.validator.get_position(t)+" error-popover' id='validate-popover'><div class='arrow'></div><div class='popover-content'></div></div>").appendTo(n);r.click(function(){return e(this).hide()});e(t).data("validate-popover",r);e.validator.popover_elements_cached.push(t)}return r.hide()},hide_popover_for_invisible:function(t){var n;n=e(t).data("popover-hide-for-invisible");if(n!=null)return n;else return e.validator.validator_settings(t).hideForInvisible},validator_settings:function(t){return e.data(e(t)[0].form,"validator").settings}})}).call(this);

// Bootstrap validator
!function(e){var t=function(n,r){this.$form=e(n),this.options=e.extend({},t.DEFAULT_OPTIONS,r),this.$invalidField=null,this.$submitButton=null,this.STATUS_NOT_VALIDATED="NOT_VALIDATED",this.STATUS_VALIDATING="VALIDATING",this.STATUS_INVALID="INVALID",this.STATUS_VALID="VALID";var i=function(){for(var e=3,t=document.createElement("div"),n=t.all||[];t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->",n[0];);return e>4?e:!e}(),s=document.createElement("div");this._changeEvent=9!==i&&"oninput"in s?"input":"keyup",this._submitIfValid=null,this._init()};t.DEFAULT_OPTIONS={elementClass:"bv-form",message:"This value is not valid",threshold:null,excluded:[":disabled",":hidden",":not(:visible)"],feedbackIcons:{valid:null,invalid:null,validating:null},submitButtons:'[type="submit"]',submitHandler:null,live:"enabled",fields:null},t.prototype={constructor:t,_init:function(){var t,n,r,i,s,o,u,f=this,l={excluded:this.$form.attr("data-bv-excluded"),trigger:this.$form.attr("data-bv-trigger"),message:this.$form.attr("data-bv-message"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),live:this.$form.attr("data-bv-live"),fields:{},feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")}};this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(e){e.preventDefault(),f.validate()}).on("click",this.options.submitButtons,function(){f.$submitButton=e(this),f._submitIfValid=!0}).find("[name], [data-bv-field]").each(function(){var c=e(this);if(!f._isExcluded(c)){var p=c.attr("name")||c.attr("data-bv-field"),v={};for(n in e.fn.bootstrapValidator.validators)if(t=e.fn.bootstrapValidator.validators[n],r=c.attr("data-bv-"+n.toLowerCase())+"",u="function"==typeof t.enableByHtml5?t.enableByHtml5(e(this)):null,u&&"false"!=r||u!==!0&&(""==r||"true"==r)){t.html5Attributes=t.html5Attributes||{message:"message"},v[n]=e.extend({},1==u?{}:u,v[n]);for(o in t.html5Attributes)i=t.html5Attributes[o],s=c.attr("data-bv-"+n.toLowerCase()+"-"+o),s&&("true"==s?s=!0:"false"==s&&(s=!1),v[n][i]=s)}var m={trigger:c.attr("data-bv-trigger"),message:c.attr("data-bv-message"),container:c.attr("data-bv-container"),selector:c.attr("data-bv-selector"),threshold:c.attr("data-bv-threshold"),validators:v};e.isEmptyObject(m.validators)||e.isEmptyObject(m)||(c.attr("data-bv-field",p),l.fields[p]=e.extend({},m,l.fields[p]))}}).end().find(this.options.submitButtons).each(function(){e("<input/>").attr("type","hidden").attr("name",e(this).attr("name")).val(e(this).val()).appendTo(f.$form)}),this.options=e.extend(!0,this.options,l);for(var c in this.options.fields)this._initField(c);this.setLiveMode(this.options.live)},_initField:function(t){if(null!=this.options.fields[t]&&null!=this.options.fields[t].validators){var n=this.getFieldElements(t);if(null==n)return void delete this.options.fields[t];for(var r in this.options.fields[t].validators)e.fn.bootstrapValidator.validators[r]||delete this.options.fields[t].validators[r];for(var i=this,s=n.attr("type"),o="radio"==s||"checkbox"==s||"file"==s||"SELECT"==n[0].tagName?"change":i._changeEvent,u=n.length,f=1==u||"radio"==s||"checkbox"==s,l=0;u>l;l++){var c=e(n[l]),h=c.parents(".form-group"),p=this.options.fields[t].container?h.find(this.options.fields[t].container):this._getMessageContainer(c);c.attr("data-bv-field")||c.attr("data-bv-field",t),c.on(o+".update.bv",function(){i._submitIfValid=!1,f?i.updateStatus(t,i.STATUS_NOT_VALIDATED,null):i.updateElementStatus(e(this),i.STATUS_NOT_VALIDATED,null)}),c.data("bv.messages",p);for(r in this.options.fields[t].validators)c.data("bv.result."+r,this.STATUS_NOT_VALIDATED),f&&l!=u-1||e("<small/>").css("display","none").attr("data-bv-validator",r).attr("data-bv-validator-for",t).html(this.options.fields[t].validators[r].message||this.options.fields[t].message||this.options.message).addClass("help-block").appendTo(p);if(this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!f||l==u-1)){h.addClass("has-feedback");var d=e("<i/>").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",t).insertAfter(c);0==h.find("label").length&&d.css("top",0)}}null==this.options.fields[t].enabled&&(this.options.fields[t].enabled=!0)}},_getMessageContainer:function(e){var t=e.parent();if(t.hasClass("form-group"))return t;var n=t.attr("class");if(!n)return this._getMessageContainer(t);n=n.split(" ");for(var r=n.length,i=0;r>i;i++)if(/^col-(xs|sm|md|lg)-\d+$/.test(n[i])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(n[i]))return t;return this._getMessageContainer(t)},_submit:function(){if(this.isValid())this.options.submitHandler&&"function"==typeof this.options.submitHandler?this.options.submitHandler.call(this,this,this.$form,this.$submitButton):this.disableSubmitButtons(!0).defaultSubmit();else if("submitted"==this.options.live&&this.setLiveMode("enabled"),this.$invalidField){var t,n=this.$invalidField.parents(".tab-pane");n&&(t=n.attr("id"))&&e('a[href="#'+t+'"][data-toggle="tab"]').trigger("click.bs.tab.data-api"),this.$invalidField.focus()}},_isExcluded:function(t){if(this.options.excluded){"string"==typeof this.options.excluded&&(this.options.excluded=e.map(this.options.excluded.split(","),function(t){return e.trim(t)}));for(var n=this.options.excluded.length,r=0;n>r;r++)if("string"==typeof this.options.excluded[r]&&t.is(this.options.excluded[r])||"function"==typeof this.options.excluded[r]&&1==this.options.excluded[r].call(this,t,this))return!0}return!1},_exceedThreshold:function(e){var t=e.attr("data-bv-field"),n=this.options.fields[t].threshold||this.options.threshold;if(!n)return!0;var r=e.attr("type"),i=-1!=["button","checkbox","file","hidden","image","radio","reset","submit"].indexOf(r);return i||e.val().length>=n},getFieldElements:function(t){var n=this.options.fields[t].selector?e(this.options.fields[t].selector):this.$form.find('[name="'+t+'"]');return 0==n.length?null:n},setLiveMode:function(t){if(this.options.live=t,"submitted"==t)return this;var n=this;for(var r in this.options.fields)!function(i){var s=n.getFieldElements(i);if(s)for(var o=s.attr("type"),u=s.length,f=1==u||"radio"==o||"checkbox"==o,l=n.options.fields[r].trigger||n.options.trigger||("radio"==o||"checkbox"==o||"file"==o||"SELECT"==s[0].tagName?"change":n._changeEvent),h=e.map(l.split(" "),function(e){return e+".live.bv"}).join(" "),p=0;u>p;p++)"enabled"==t?e(s[p]).on(h,function(){n._exceedThreshold(e(this))&&(f?n.validateField(i):n.validateFieldElement(e(this),!1))}):e(s[p]).off(h)}(r);return this},disableSubmitButtons:function(e){return e?"disabled"!=this.options.live&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled"),this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);for(var e in this.options.fields)this.validateField(e);return this.$submitButton&&this._submit(),this},validateField:function(t){for(var n=this.getFieldElements(t),r=n.attr("type"),i="radio"==r||"checkbox"==r?1:n.length,s=0;i>s;s++)this.validateFieldElement(e(n[s]),1==i);return this},validateFieldElement:function(t,n){var r,i,s=this,o=t.attr("data-bv-field"),u=this.options.fields[o].validators;if(!this.options.fields[o].enabled||this._isExcluded(t))return this;for(r in u){t.data("bv.dfs."+r)&&t.data("bv.dfs."+r).reject();var f=t.data("bv.result."+r);f!=this.STATUS_VALID&&f!=this.STATUS_INVALID&&(t.data("bv.result."+r,this.STATUS_VALIDATING),i=e.fn.bootstrapValidator.validators[r].validate(this,t,u[r]),"object"==typeof i?(n?this.updateStatus(o,this.STATUS_VALIDATING,r):this.updateElementStatus(t,this.STATUS_VALIDATING,r),t.data("bv.dfs."+r,i),i.done(function(e,t,r){e.removeData("bv.dfs."+t),n?s.updateStatus(e.attr("data-bv-field"),r?s.STATUS_VALID:s.STATUS_INVALID,t):s.updateElementStatus(e,r?s.STATUS_VALID:s.STATUS_INVALID,t),r&&1==s._submitIfValid&&s._submit()})):"boolean"==typeof i&&(n?this.updateStatus(o,i?this.STATUS_VALID:this.STATUS_INVALID,r):this.updateElementStatus(t,i?this.STATUS_VALID:this.STATUS_INVALID,r)))}return this},updateStatus:function(t,n,r){for(var i=this.getFieldElements(t),s=i.attr("type"),o="radio"==s||"checkbox"==s?1:i.length,u=0;o>u;u++)this.updateElementStatus(e(i[u]),n,r);return this},updateElementStatus:function(t,n,r){var i=this,s=t.attr("data-bv-field"),o=t.parents(".form-group"),u=t.data("bv.messages"),f=u.find(".help-block[data-bv-validator]"),l=o.find('.form-control-feedback[data-bv-icon-for="'+s+'"]');if(r)t.data("bv.result."+r,n);else for(var c in this.options.fields[s].validators)t.data("bv.result."+c,n);var h,p,d=t.parents(".tab-pane");switch(d&&(h=d.attr("id"))&&(p=e('a[href="#'+h+'"][data-toggle="tab"]').parent()),n){case this.STATUS_VALIDATING:this.disableSubmitButtons(!0),o.removeClass("has-success").removeClass("has-error"),r?f.filter('.help-block[data-bv-validator="'+r+'"]').hide():f.hide(),l&&l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show(),p&&p.removeClass("bv-tab-success").removeClass("bv-tab-error");break;case this.STATUS_INVALID:this.disableSubmitButtons(!0),o.removeClass("has-success").addClass("has-error"),r?f.filter('[data-bv-validator="'+r+'"]').show():f.show(),l&&l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show(),p&&p.removeClass("bv-tab-success").addClass("bv-tab-error");break;case this.STATUS_VALID:r?f.filter('[data-bv-validator="'+r+'"]').hide():f.hide();var v=0==f.filter(function(){var n=e(this).css("display"),r=e(this).attr("data-bv-validator");return"block"==n||t.data("bv.result."+r)!=i.STATUS_VALID}).length;this.disableSubmitButtons(!v),l&&l.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(v?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show();var m=function(n){return 0==n.find(".help-block[data-bv-validator]").filter(function(){var n=e(this).css("display"),r=e(this).attr("data-bv-validator");return"block"==n||t.data("bv.result."+r)&&t.data("bv.result."+r)!=i.STATUS_VALID}).length};o.removeClass("has-error has-success").addClass(m(o)?"has-success":"has-error"),p&&p.removeClass("bv-tab-success").removeClass("bv-tab-error").addClass(m(d)?"bv-tab-success":"bv-tab-error");break;case this.STATUS_NOT_VALIDATED:default:this.disableSubmitButtons(!1),o.removeClass("has-success").removeClass("has-error"),r?f.filter('.help-block[data-bv-validator="'+r+'"]').hide():f.hide(),l&&l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide(),p&&p.removeClass("bv-tab-success").removeClass("bv-tab-error")}return this},isValid:function(){var t,n,r,i,s,o,u,f;for(n in this.options.fields)if(null!=this.options.fields[n]&&this.options.fields[n].enabled)for(t=this.getFieldElements(n),i=t.attr("type"),u="radio"==i||"checkbox"==i?1:t.length,f=0;u>f;f++)if(r=e(t[f]),!this._isExcluded(r))for(o in this.options.fields[n].validators){if(s=r.data("bv.result."+o),s==this.STATUS_NOT_VALIDATED||s==this.STATUS_VALIDATING)return!1;if(s==this.STATUS_INVALID)return this.$invalidField=r,!1}return!0},defaultSubmit:function(){this.$form.off("submit.bv").submit()},resetForm:function(t){var n,r,i,s,o;for(n in this.options.fields){r=this.getFieldElements(n),i=r.length;for(var u=0;i>u;u++)for(o in this.options.fields[n].validators)e(r[u]).removeData("bv.dfs."+o);this.updateStatus(n,this.STATUS_NOT_VALIDATED,null),t&&(s=r.attr("type"),"radio"==s||"checkbox"==s?r.removeAttr("checked").removeAttr("selected"):r.val(""))}return this.$invalidField=null,this.$submitButton=null,this.disableSubmitButtons(!1),this},enableFieldValidators:function(e,t){return this.options.fields[e].enabled=t,this.updateStatus(e,this.STATUS_NOT_VALIDATED,null),this}},e.fn.bootstrapValidator=function(n){var r=arguments;return this.each(function(){var i=e(this),s=i.data("bootstrapValidator"),o="object"==typeof n&&n;s||(s=new t(this,o),i.data("bootstrapValidator",s)),"string"==typeof n&&s[n].apply(s,Array.prototype.slice.call(r,1))})},e.fn.bootstrapValidator.validators={},e.fn.bootstrapValidator.Constructor=t,e.fn.bootstrapValidator.helpers={date:function(e,t,n,r){if(1e3>e||e>9999||0==t||t>12)return!1;var i=[31,28,31,30,31,30,31,31,30,31,30,31];if((e%400==0||e%100!=0&&e%4==0)&&(i[1]=29),0>n||n>i[t-1])return!1;if(r===!0){var s=new Date,o=s.getFullYear(),u=s.getMonth(),a=s.getDate();return o>e||e==o&&u>t-1||e==o&&t-1==u&&a>n}return!0},luhn:function(e){for(var t=e.length,n=0,r=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],i=0;t--;)i+=r[n][parseInt(e.charAt(t),10)],n^=1;return i%10===0&&i>0},mod_11_10:function(e){for(var t=5,n=e.length,r=0;n>r;r++)t=(2*(t||10)%11+parseInt(e.charAt(r),10))%10;return 1==t},mod_37_36:function(e,t){t=t||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=t.length,r=e.length,i=Math.floor(n/2),s=0;r>s;s++)i=(2*(i||n)%(n+1)+t.indexOf(e.charAt(s)))%n;return 1==i}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.base64={validate:function(e,t){var n=t.val();return""==n?!0:/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.between={html5Attributes:{message:"message",min:"min",max:"max",inclusive:"inclusive"},enableByHtml5:function(e){return"range"==e.attr("type")?{min:e.attr("min"),max:e.attr("max")}:!1},validate:function(e,t,n){var r=t.val();return""==r?!0:(r=parseFloat(r),n.inclusive===!0?r>n.min&&r<n.max:r>=n.min&&r<=n.max)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.callback={validate:function(t,n,r){var i=n.val();if(r.callback&&"function"==typeof r.callback){var s=new e.Deferred;return s.resolve(n,"callback",r.callback.call(this,i,t)),s}return!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.choice={html5Attributes:{message:"message",min:"min",max:"max"},validate:function(e,t,n){var r=t.is("select")?e.getFieldElements(t.attr("data-bv-field")).find("option").filter(":selected").length:e.getFieldElements(t.attr("data-bv-field")).filter(":checked").length;return n.min&&r<n.min||n.max&&r>n.max?!1:!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.creditCard={validate:function(t,n){var r=n.val();if(""==r)return!0;if(/[^0-9-\s]+/.test(r))return!1;if(r=r.replace(/\D/g,""),!e.fn.bootstrapValidator.helpers.luhn(r))return!1;var i,s,o={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}};for(i in o)for(s in o[i].prefix)if(r.substr(0,o[i].prefix[s].length)==o[i].prefix[s]&&-1!=o[i].length.indexOf(r.length))return!0;return!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.cusip={validate:function(t,n){var r=n.val();if(""==r)return!0;if(r=r.toUpperCase(),!/^[0-9A-Z]{9}$/.test(r))return!1;for(var i=e.map(r.split(""),function(e){var t=e.charCodeAt(0);return t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?t-"A".charCodeAt(0)+10:e}),s=i.length,o=0,u=0;s-1>u;u++){var f=parseInt(i[u]);u%2!=0&&(f*=2),f>9&&(f-=9),o+=f}return o=(10-o%10)%10,o==i[s-1]}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.cvv={html5Attributes:{message:"message",ccfield:"creditCardField"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;if(!/^[0-9]{3,4}$/.test(r))return!1;if(!n.creditCardField)return!0;var i=e.getFieldElements(n.creditCardField).val();if(""==i)return!0;i=i.replace(/\D/g,"");var s,o,u={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}},a=null;for(s in u)for(o in u[s].prefix)if(i.substr(0,u[s].prefix[o].length)==u[s].prefix[o]&&-1!=u[s].length.indexOf(i.length)){a=s;break}return null==a?!1:"AMERICAN_EXPRESS"==a?4==r.length:3==r.length}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.date={html5Attributes:{message:"message",format:"format"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;r.format=r.format||"MM/DD/YYYY";var s=r.format.split(" "),o=s[0],u=s.length>1?s[1]:null,f=s.length>2?s[2]:null,l=i.split(" "),c=l[0],h=l.length>1?l[1]:null;if(s.length!=l.length)return!1;var p=-1!=c.indexOf("/")?"/":-1!=c.indexOf("-")?"-":null;if(null==p)return!1;c=c.split(p),o=o.split(p);var d=c[o.indexOf("YYYY")],v=c[o.indexOf("MM")],m=c[o.indexOf("DD")],g=null,y=null,b=null;if(u){if(u=u.split(":"),h=h.split(":"),u.length!=h.length)return!1;if(y=h.length>0?h[0]:null,g=h.length>1?h[1]:null,b=h.length>2?h[2]:null,b&&(b=parseInt(b,10),0>b||b>60))return!1;if(y&&(y=parseInt(y,10),0>y||y>=24||f&&y>12))return!1;if(g&&(g=parseInt(g,10),0>g||g>59))return!1}return m=parseInt(m,10),v=parseInt(v,10),d=parseInt(d,10),e.fn.bootstrapValidator.helpers.date(d,v,m)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=e.getFieldElements(n.field);return null==i?!0:r!=i.val()?(e.updateStatus(n.field,e.STATUS_VALID,"different"),!0):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.digits={validate:function(e,t){var n=t.val();return""==n?!0:/^\d+$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.ean={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^(\d{8}|\d{12}|\d{13})$/.test(n))return!1;for(var r=n.length,i=0,s=8==r?[3,1]:[1,3],o=0;r-1>o;o++)i+=parseInt(n.charAt(o))*s[o%2];return i=10-i%10,i==n.charAt(r-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.emailAddress={enableByHtml5:function(e){return"email"==e.attr("type")},validate:function(e,t){var n=t.val();if(""==n)return!0;var r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.file={html5Attributes:{extension:"extension",maxsize:"maxSize",message:"message",type:"type"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i,s=n.extension?n.extension.split(","):null,o=n.type?n.type.split(","):null,u=window.File&&window.FileList&&window.FileReader;if(u)for(var a=t.get(0).files,f=a.length,l=0;f>l;l++){if(n.maxSize&&a[l].size>parseInt(n.maxSize))return!1;if(i=a[l].name.substr(a[l].name.lastIndexOf(".")+1),s&&-1==s.indexOf(i))return!1;if(o&&-1==o.indexOf(a[l].type))return!1}else if(i=r.substr(r.lastIndexOf(".")+1),s&&-1==s.indexOf(i))return!1;return!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.greaterThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(e){var t=e.attr("min");return t?{value:t}:!1},validate:function(e,t,n){var r=t.val();return""==r?!0:(r=parseFloat(r),n.inclusive===!0?r>n.value:r>=n.value)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.grid={validate:function(t,n){var r=n.val();return""==r?!0:(r=r.toUpperCase(),/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(r)?(r=r.replace(/\s/g,"").replace(/-/g,""),"GRID:"==r.substr(0,5)&&(r=r.substr(5)),e.fn.bootstrapValidator.helpers.mod_37_36(r)):!1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.hex={validate:function(e,t){var n=t.val();return""==n?!0:/^[0-9a-fA-F]+$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.hexColor={enableByHtml5:function(e){return"color"==e.attr("type")},validate:function(e,t){var n=t.val();return""==n?!0:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.iban={html5Attributes:{message:"message",country:"country"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;var s={AD:"AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",AE:"AE[0-9]{2}[0-9]{3}[0-9]{16}",AL:"AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",AO:"AO[0-9]{2}[0-9]{21}",AT:"AT[0-9]{2}[0-9]{5}[0-9]{11}",AZ:"AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",BA:"BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",BE:"BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",BF:"BF[0-9]{2}[0-9]{23}",BG:"BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",BH:"BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",BI:"BI[0-9]{2}[0-9]{12}",BJ:"BJ[0-9]{2}[A-Z]{1}[0-9]{23}",BR:"BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",CH:"CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",CI:"CI[0-9]{2}[A-Z]{1}[0-9]{23}",CM:"CM[0-9]{2}[0-9]{23}",CR:"CR[0-9]{2}[0-9]{3}[0-9]{14}",CV:"CV[0-9]{2}[0-9]{21}",CY:"CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",CZ:"CZ[0-9]{2}[0-9]{20}",DE:"DE[0-9]{2}[0-9]{8}[0-9]{10}",DK:"DK[0-9]{2}[0-9]{14}",DO:"DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",DZ:"DZ[0-9]{2}[0-9]{20}",EE:"EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",ES:"ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",FI:"FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",FO:"FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",FR:"FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",GB:"GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",GE:"GE[0-9]{2}[A-Z]{2}[0-9]{16}",GI:"GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",GL:"GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",GR:"GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",GT:"GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",HR:"HR[0-9]{2}[0-9]{7}[0-9]{10}",HU:"HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",IE:"IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",IL:"IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",IR:"IR[0-9]{2}[0-9]{22}",IS:"IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",IT:"IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",JO:"JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",KW:"KW[0-9]{2}[A-Z]{4}[0-9]{22}",KZ:"KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LB:"LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",LI:"LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",LT:"LT[0-9]{2}[0-9]{5}[0-9]{11}",LU:"LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LV:"LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",MC:"MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",MD:"MD[0-9]{2}[A-Z0-9]{20}",ME:"ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",MG:"MG[0-9]{2}[0-9]{23}",MK:"MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",ML:"ML[0-9]{2}[A-Z]{1}[0-9]{23}",MR:"MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",MT:"MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",MU:"MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",MZ:"MZ[0-9]{2}[0-9]{21}",NL:"NL[0-9]{2}[A-Z]{4}[0-9]{10}",NO:"NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",PK:"PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",PL:"PL[0-9]{2}[0-9]{8}[0-9]{16}",PS:"PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",PT:"PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",QA:"QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",RO:"RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",RS:"RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",SA:"SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",SE:"SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",SI:"SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",SK:"SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",SM:"SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",SN:"SN[0-9]{2}[A-Z]{1}[0-9]{23}",TN:"TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",TR:"TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",VG:"VG[0-9]{2}[A-Z]{4}[0-9]{16}"};i=i.replace(/[^a-zA-Z0-9]/g,"").toUpperCase();var o=r.country||i.substr(0,2);if(!s[o])return!1;if(!(new RegExp("^"+s[o]+"$")).test(i))return!1;i=i.substr(4)+i.substr(0,4),i=e.map(i.split(""),function(e){var t=e.charCodeAt(0);return t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?t-"A".charCodeAt(0)+10:e}),i=i.join("");for(var u=parseInt(i.substr(0,1),10),f=i.length,l=1;f>l;++l)u=(10*u+parseInt(i.substr(l,1),10))%97;return 1==u}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.id={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=n.country||r.substr(0,2),s=["_",i.toLowerCase()].join("");return this[s]&&"function"==typeof this[s]?this[s](r):!0},_validateJMBG:function(e,t){if(!/^\d{13}$/.test(e))return!1;var n=parseInt(e.substr(0,2),10),r=parseInt(e.substr(2,2),10),i=(parseInt(e.substr(4,3),10),parseInt(e.substr(7,2),10)),s=parseInt(e.substr(12,1),10);if(n>31||r>12)return!1;for(var o=0,u=0;6>u;u++)o+=(7-u)*(parseInt(e.charAt(u))+parseInt(e.charAt(u+6)));if(o=11-o%11,(10==o||11==o)&&(o=0),o!=s)return!1;switch(t.toUpperCase()){case"BA":return i>=10&&19>=i;case"MK":return i>=41&&49>=i;case"ME":return i>=20&&29>=i;case"RS":return i>=70&&99>=i;case"SI":return i>=50&&59>=i;default:return!0}},_ba:function(e){return this._validateJMBG(e,"BA")},_mk:function(e){return this._validateJMBG(e,"MK")},_me:function(e){return this._validateJMBG(e,"ME")},_rs:function(e){return this._validateJMBG(e,"RS")},_si:function(e){return this._validateJMBG(e,"SI")},_bg:function(t){if(!/^\d{10}$/.test(t)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(t))return!1;t=t.replace(/\s/g,"");var n=parseInt(t.substr(0,2),10)+1900,r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);if(r>40?(n+=100,r-=40):r>20&&(n-=100,r-=20),!e.fn.bootstrapValidator.helpers.date(n,r,i))return!1;for(var s=0,o=[2,4,8,5,10,9,7,3,6],u=0;9>u;u++)s+=parseInt(t.charAt(u))*o[u];return s=s%11%10,s==t.substr(9,1)},_br:function(e){if(/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(e))return!1;if(!/^\d{11}$/.test(e)&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(e))return!1;e=e.replace(/\./g,"").replace(/-/g,"");for(var t=0,n=0;9>n;n++)t+=(10-n)*parseInt(e.charAt(n));if(t=11-t%11,(10==t||11==t)&&(t=0),t!=e.charAt(9))return!1;var r=0;for(n=0;10>n;n++)r+=(11-n)*parseInt(e.charAt(n));return r=11-r%11,(10==r||11==r)&&(r=0),r==e.charAt(10)},_ch:function(e){if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(e))return!1;e=e.replace(/\D/g,"").substr(3);for(var t=e.length,n=0,r=8==t?[3,1]:[1,3],i=0;t-1>i;i++)n+=parseInt(e.charAt(i))*r[i%2];return n=10-n%10,n==e.charAt(t-1)},_cl:function(e){if(!/^\d{7,8}[-]{0,1}[0-9K]$/.test(e))return!1;for(e=e.replace(/\D/g,"");e.length<9;)e="0"+e;for(var t=0,n=[3,2,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,11==t?t=0:10==t&&(t="K"),t==e.charAt(8)},_cz:function(t){if(!/^\d{9,10}$/.test(t))return!1;var n=1900+parseInt(t.substr(0,2)),r=parseInt(t.substr(2,2))%50%20,i=parseInt(t.substr(4,2));if(9==t.length){if(n>=1980&&(n-=100),n>1953)return!1}else 1954>n&&(n+=100);if(!e.fn.bootstrapValidator.helpers.date(n,r,i))return!1;if(10==t.length){var s=parseInt(t.substr(0,9),10)%11;return 1985>n&&(s%=10),s==t.substr(9,1)}return!0},_dk:function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(t))return!1;t=t.replace(/-/g,"");var n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);switch(!0){case-1!="5678".indexOf(t.charAt(6))&&i>=58:i+=1800;break;case-1!="0123".indexOf(t.charAt(6)):case-1!="49".indexOf(t.charAt(6))&&i>=37:i+=1900;break;default:i+=2e3}return e.fn.bootstrapValidator.helpers.date(i,r,n)},_ee:function(e){return this._lt(e)},_es:function(e){if(!/^[0-9A-Z]{8}[-]{0,1}[0-9A-Z]$/.test(e)&&!/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-Z]$/.test(e))return!1;e=e.replace(/-/g,"");var t="XYZ".indexOf(e.charAt(0));-1!=t&&(e=t+e.substr(1)+"");var n=parseInt(e.substr(0,8),10);return n="TRWAGMYFPDXBNJZSQVHLCKE"[n%23],n==e.substr(8,1)},_fi:function(t){if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(t))return!1;var n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10),s={"+":1800,"-":1900,A:2e3};if(i=s[t.charAt(6)]+i,!e.fn.bootstrapValidator.helpers.date(i,r,n))return!1;var o=parseInt(t.substr(7,3));if(2>o)return!1;var u=t.substr(0,6)+t.substr(7,3)+"";return u=parseInt(u),"0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(u%31)==t.charAt(10)},_hr:function(t){return/^[0-9]{11}$/.test(t)?e.fn.bootstrapValidator.helpers.mod_11_10(t):!1},_ie:function(e){if(!/^\d{7}[A-W][AHWTX]?$/.test(e))return!1;var t=function(e){for(;e.length<7;)e="0"+e;for(var t="WABCDEFGHIJKLMNOPQRSTUV",n=0,r=0;7>r;r++)n+=parseInt(e.charAt(r))*(8-r);return n+=9*t.indexOf(e.substr(7)),t[n%23]};return 9!=e.length||"A"!=e.charAt(8)&&"H"!=e.charAt(8)?e.charAt(7)==t(e.substr(0,7)):e.charAt(7)==t(e.substr(0,7)+e.substr(8)+"")},_is:function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(t))return!1;t=t.replace(/-/g,"");var n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10),s=parseInt(t.charAt(9));if(i=9==s?1900+i:100*(20+s)+i,!e.fn.bootstrapValidator.helpers.date(i,r,n,!0))return!1;for(var o=0,u=[3,2,7,6,5,4,3,2],f=0;8>f;f++)o+=parseInt(t.charAt(f))*u[f];return o=11-o%11,o==t.charAt(8)},_lt:function(t){if(!/^[0-9]{11}$/.test(t))return!1;var n=parseInt(t.charAt(0)),r=parseInt(t.substr(1,2),10),i=parseInt(t.substr(3,2),10),s=parseInt(t.substr(5,2),10),o=n%2==0?17+n/2:17+(n+1)/2;if(r=100*o+r,!e.fn.bootstrapValidator.helpers.date(r,i,s,!0))return!1;for(var u=0,f=[1,2,3,4,5,6,7,8,9,1],l=0;10>l;l++)u+=parseInt(t.charAt(l))*f[l];if(u%=11,10!=u)return u==t.charAt(10);for(u=0,f=[3,4,5,6,7,8,9,1,2,3],l=0;10>l;l++)u+=parseInt(t.charAt(l))*f[l];return u%=11,10==u&&(u=0),u==t.charAt(10)},_lv:function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(t))return!1;t=t.replace(/\D/g,"");var n=parseInt(t.substr(0,2)),r=parseInt(t.substr(2,2)),i=parseInt(t.substr(4,2));if(i=i+1800+100*parseInt(t.charAt(6)),!e.fn.bootstrapValidator.helpers.date(i,r,n,!0))return!1;for(var s=0,o=[10,5,8,4,2,1,6,3,7,9],u=0;10>u;u++)s+=parseInt(t.charAt(u))*o[u];return s=(s+1)%11%10,s==t.charAt(10)},_nl:function(e){for(;e.length<9;)e="0"+e;if(!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(e))return!1;if(e=e.replace(/\./g,""),0==parseInt(e,10))return!1;for(var t=0,n=e.length,r=0;n-1>r;r++)t+=(9-r)*parseInt(e.charAt(r));return t%=11,10==t&&(t=0),t==e.charAt(n-1)},_ro:function(t){if(!/^[0-9]{13}$/.test(t))return!1;var n=parseInt(t.charAt(0));if(0==n||7==n||8==n)return!1;var r=parseInt(t.substr(1,2),10),i=parseInt(t.substr(3,2),10),s=parseInt(t.substr(5,2),10),o={1:1900,2:1900,3:1800,4:1800,5:2e3,6:2e3};if(s>31&&i>12)return!1;if(9!=n&&(r=o[n+""]+r,!e.fn.bootstrapValidator.helpers.date(r,i,s)))return!1;for(var u=0,f=[2,7,9,1,4,6,3,5,8,2,7,9],l=t.length,c=0;l-1>c;c++)u+=parseInt(t.charAt(c))*f[c];return u%=11,10==u&&(u=1),u==t.charAt(l-1)},_se:function(t){if(!/^[0-9]{10}$/.test(t)&&!/^[0-9]{6}[-|+][0-9]{4}$/.test(t))return!1;t=t.replace(/[^0-9]/g,"");var n=parseInt(t.substr(0,2))+1900,r=parseInt(t.substr(2,2)),i=parseInt(t.substr(4,2));return e.fn.bootstrapValidator.helpers.date(n,r,i)?e.fn.bootstrapValidator.helpers.luhn(t):!1},_sk:function(e){return this._cz(e)},_sm:function(e){return/^\d{5}$/.test(e)},_za:function(t){if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(t))return!1;var n=parseInt(t.substr(0,2)),r=(new Date).getFullYear()%100,i=parseInt(t.substr(2,2)),s=parseInt(t.substr(4,2));return n=n>=r?n+1900:n+2e3,e.fn.bootstrapValidator.helpers.date(n,i,s)?e.fn.bootstrapValidator.helpers.luhn(t):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.identical={html5Attributes:{message:"message",field:"field"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=e.getFieldElements(n.field);return null==i?!0:r==i.val()?(e.updateStatus(n.field,e.STATUS_VALID,"identical"),!0):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.imei={validate:function(t,n){var r=n.val();if(""==r)return!0;switch(!0){case/^\d{15}$/.test(r):case/^\d{2}-\d{6}-\d{6}-\d{1}$/.test(r):case/^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(r):return r=r.replace(/[^0-9]/g,""),e.fn.bootstrapValidator.helpers.luhn(r);case/^\d{14}$/.test(r):case/^\d{16}$/.test(r):case/^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(r):case/^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(r):return!0;default:return!1}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.integer={enableByHtml5:function(e){return"number"==e.attr("type")},validate:function(e,t){var n=t.val();return""==n?!0:/^(?:-?(?:0|[1-9][0-9]*))$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.ip={html5Attributes:{message:"message",ipv4:"ipv4",ipv6:"ipv6"},validate:function(t,n,r){var i=n.val();return""==i?!0:(r=e.extend({},{ipv4:!0,ipv6:!0},r),r.ipv4?/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(i):r.ipv6?/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(str):!1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.isbn={validate:function(e,t){var n=t.val();if(""==n)return!0;var r;switch(!0){case/^\d{9}[\dX]$/.test(n):case 13==n.length&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(n):case 13==n.length&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(n):r="ISBN10";break;case/^(978|979)\d{9}[\dX]$/.test(n):case 17==n.length&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(n):case 17==n.length&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(n):r="ISBN13";break;default:return!1}n=n.replace(/[^0-9X]/gi,"");var i,s=n.split(""),o=s.length,u=0;switch(r){case"ISBN10":u=0;for(var a=0;o-1>a;a++)u+=(10-a)*parseInt(s[a]);return i=11-u%11,11==i?i=0:10==i&&(i="X"),i+""==s[o-1];case"ISBN13":u=0;for(var a=0;o-1>a;a++)u+=a%2==0?parseInt(s[a]):3*parseInt(s[a]);return i=10-u%10,10==i&&(i="0"),i+""==s[o-1];default:return!1}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.isin={COUNTRY_CODES:"AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW",validate:function(e,t){var n=t.val();if(""==n)return!0;n=n.toUpperCase();var r=new RegExp("^("+this.COUNTRY_CODES+")[0-9A-Z]{10}$");if(!r.test(n))return!1;for(var i="",s=n.length,o=0;s-1>o;o++){var u=n.charCodeAt(o);i+=u>57?(u-55).toString():n.charAt(o)}var a="",f=i.length,l=f%2!=0?0:1;for(o=0;f>o;o++)a+=parseInt(i[o])*(o%2==l?2:1)+"";var c=0;for(o=0;o<a.length;o++)c+=parseInt(a.charAt(o));return c=(10-c%10)%10,c==n.charAt(s-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.ismn={validate:function(e,t){var n=t.val();if(""==n)return!0;var r;switch(!0){case/^M\d{9}$/.test(n):case/^M-\d{4}-\d{4}-\d{1}$/.test(n):case/^M\s\d{4}\s\d{4}\s\d{1}$/.test(n):r="ISMN10";break;case/^9790\d{9}$/.test(n):case/^979-0-\d{4}-\d{4}-\d{1}$/.test(n):case/^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(n):r="ISMN13";break;default:return!1}"ISMN10"==r&&(n="9790"+n.substr(1)),n=n.replace(/[^0-9]/gi,"");for(var i=n.length,s=0,o=[1,3],u=0;i-1>u;u++)s+=parseInt(n.charAt(u))*o[u%2];return s=10-s%10,s==n.charAt(i-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.issn={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^\d{4}\-\d{3}[\dX]$/.test(n))return!1;n=n.replace(/[^0-9X]/gi,"");var r=n.split(""),i=r.length,s=0;"X"==r[7]&&(r[7]=10);for(var o=0;i>o;o++)s+=(8-o)*parseInt(r[o]);return s%11==0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(e){var t=e.attr("max");return t?{value:t}:!1},validate:function(e,t,n){var r=t.val();return""==r?!0:(r=parseFloat(r),n.inclusive===!1?r<=n.value:r<n.value)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.mac={validate:function(e,t){var n=t.val();return""==n?!0:/^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.notEmpty={enableByHtml5:function(e){var t=e.attr("required")+"";return"required"==t||"true"==t},validate:function(t,n){var r=n.attr("type");return"radio"==r||"checkbox"==r?t.getFieldElements(n.attr("data-bv-field")).filter(":checked").length>0:""!=e.trim(n.val())}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.numeric={html5Attributes:{message:"message",separator:"separator"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=n.separator||".";return"."!=i&&(r=r.replace(i,".")),!isNaN(parseFloat(r))&&isFinite(r)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.phone={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=(n.country||"US").toUpperCase();switch(i){case"US":default:return r=r.replace(/\D/g,""),/^(?:(1\-?)|(\+1 ?))?\(?(\d{3})[\)\-\.]?(\d{3})[\-\.]?(\d{4})$/.test(r)&&10==r.length}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(e){var t=e.attr("pattern");return t?{regexp:t}:!1},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i="string"==typeof n.regexp?new RegExp(n.regexp):n.regexp;return i.test(r)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.remote={html5Attributes:{message:"message",url:"url",name:"name"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;var s=n.attr("data-bv-field"),o=r.data;null==o&&(o={}),"function"==typeof o&&(o=o.call(this,t)),o[r.name||s]=i;var u=new e.Deferred,f=e.ajax({type:"POST",url:r.url,dataType:"json",data:o});return f.then(function(e){u.resolve(n,"remote",e.valid===!0||"true"===e.valid)}),u.fail(function(){f.abort()}),u}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.rtn={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^\d{9}$/.test(n))return!1;for(var r=0,i=0;i<n.length;i+=3)r+=3*parseInt(n.charAt(i),10)+7*parseInt(n.charAt(i+1),10)+parseInt(n.charAt(i+2),10);return 0!=r&&r%10==0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.sedol={validate:function(e,t){var n=t.val();if(""==n)return!0;if(n=n.toUpperCase(),!/^[0-9A-Z]{7}$/.test(n))return!1;for(var r=0,i=[1,3,1,7,3,9,1],s=n.length,o=0;s-1>o;o++)r+=i[o]*parseInt(n.charAt(o),36);return r=(10-r%10)%10,r==n.charAt(s-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.siren={validate:function(t,n){var r=n.val();return""==r?!0:/^\d{9}$/.test(r)?e.fn.bootstrapValidator.helpers.luhn(r):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.siret={validate:function(e,t){var n=t.val();if(""==n)return!0;for(var r,i=0,s=n.length,o=0;s>o;o++)r=parseInt(n.charAt(o),10),o%2==0&&(r=2*r,r>9&&(r-=9)),i+=r;return i%10==0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.step={html5Attributes:{message:"message",base:"baseValue",step:"step"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;if(r=e.extend({},{baseValue:0,step:1},r),i=parseFloat(i),isNaN(i)||!isFinite(i))return!1;var s=function(e,t){var n=Math.pow(10,t);e*=n;var r=e>0|-(0>e),i=e%1===.5*r;return i?(Math.floor(e)+(r>0))/n:Math.round(e)/n},o=function(e,t){if(0==t)return 1;var n=(e+"").split("."),r=(t+"").split("."),i=(1==n.length?0:n[1].length)+(1==r.length?0:r[1].length);return s(e-t*Math.floor(e/t),i)},u=o(i-r.baseValue,r.step);return 0==u||u==r.step}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.stringCase={html5Attributes:{message:"message","case":"case"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=(n["case"]||"lower").toLowerCase();switch(i){case"upper":return r===r.toUpperCase();case"lower":default:return r===r.toLowerCase()}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max"},enableByHtml5:function(e){var t=e.attr("maxlength");return t?{max:parseInt(t,10)}:!1},validate:function(t,n,r){var i=n.val();if(""==i)return!0;var s=e.trim(i).length;return r.min&&s<r.min||r.max&&s>r.max?!1:!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.uri={enableByHtml5:function(e){return"url"==e.attr("type")},validate:function(e,t){var n=t.val();if(""==n)return!0;var r=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i");return r.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.uuid={html5Attributes:{message:"message",version:"version"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},s=n.version?n.version+"":"all";return null==i[s]?!0:i[s].test(r)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.vat={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=n.country||r.substr(0,2),s=["_",i.toLowerCase()].join("");return this[s]&&"function"==typeof this[s]?this[s](r):!0},_at:function(e){if(!/^ATU[0-9]{8}$/.test(e))return!1;e=e.substr(3);for(var t=0,n=[1,2,1,2,1,2,1],r=0,i=0;7>i;i++)r=parseInt(e.charAt(i))*n[i],r>9&&(r=Math.floor(r/10)+r%10),t+=r;return t=10-(t+4)%10,10==t&&(t=0),t==e.substr(7,1)},_be:function(e){if(!/^BE[0]{0,1}[0-9]{9}$/.test(e))return!1;if(e=e.substr(2),9==e.length&&(e="0"+e),0==e.substr(1,1))return!1;var t=parseInt(e.substr(0,8),10)+parseInt(e.substr(8,2),10);return t%97==0},_bg:function(t){if(!/^BG[0-9]{9,10}$/.test(t))return!1;t=t.substr(2);var n=0,r=0;if(9==t.length){for(r=0;8>r;r++)n+=parseInt(t.charAt(r))*(r+1);if(n%=11,10==n)for(n=0,r=0;8>r;r++)n+=parseInt(t.charAt(r))*(r+3);return n%=10,n==t.substr(8)}if(10==t.length){var i=function(t){var n=parseInt(t.substr(0,2),10)+1900,r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);if(r>40?(n+=100,r-=40):r>20&&(n-=100,r-=20),!e.fn.bootstrapValidator.helpers.date(n,r,i))return!1;for(var s=0,o=[2,4,8,5,10,9,7,3,6],u=0;9>u;u++)s+=parseInt(t.charAt(u))*o[u];return s=s%11%10,s==t.substr(9,1)},s=function(e){for(var t=0,n=[21,19,17,13,11,9,7,3,1],r=0;9>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%=10,t==e.substr(9,1)},o=function(e){for(var t=0,n=[4,3,2,7,6,5,4,3,2],r=0;9>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,10==t?!1:(11==t&&(t=0),t==e.substr(9,1))};return i(t)||s(t)||o(t)}return!1},_ch:function(e){if(!/^CHE[0-9]{9}(MWST)?$/.test(e))return!1;e=e.substr(3);for(var t=0,n=[5,4,3,2,7,6,5,4],r=0;8>r;r++)t+=parseInt(e.charAt(r),10)*n[r];return t=11-t%11,10==t?!1:(11==t&&(t=0),t==e.substr(8,1))},_cy:function(e){if(!/^CY[0-5|9]{1}[0-9]{7}[A-Z]{1}$/.test(e))return!1;if(e=e.substr(2),"12"==e.substr(0,2))return!1;for(var t=0,n={0:1,1:0,2:5,3:7,4:9,5:13,6:15,7:17,8:19,9:21},r=0;8>r;r++){var i=parseInt(e.charAt(r),10);r%2==0&&(i=n[i+""]),t+=i}return t="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[t%26],t==e.substr(8,1)},_cz:function(t){if(!/^CZ[0-9]{8,10}$/.test(t))return!1;t=t.substr(2);var n=0,r=0;if(8==t.length){if(t.charAt(0)+""=="9")return!1;for(n=0,r=0;7>r;r++)n+=parseInt(t.charAt(r),10)*(8-r);return n=11-n%11,10==n&&(n=0),11==n&&(n=1),n==t.substr(7,1)}if(9==t.length&&t.charAt(0)+""=="6"){for(n=0,r=0;7>r;r++)n+=parseInt(t.charAt(r+1),10)*(8-r);return n=11-n%11,10==n&&(n=0),11==n&&(n=1),n=[8,7,6,5,4,3,2,1,0,9,10][n-1],n==t.substr(8,1)}if(9==t.length||10==t.length){var i=1900+parseInt(t.substr(0,2)),s=parseInt(t.substr(2,2))%50%20,o=parseInt(t.substr(4,2));if(9==t.length){if(i>=1980&&(i-=100),i>1953)return!1}else 1954>i&&(i+=100);if(!e.fn.bootstrapValidator.helpers.date(i,s,o))return!1;if(10==t.length){var u=parseInt(t.substr(0,9),10)%11;return 1985>i&&(u%=10),u==t.substr(9,1)}return!0}return!1},_de:function(t){return/^DE[0-9]{9}$/.test(t)?(t=t.substr(2),e.fn.bootstrapValidator.helpers.mod_11_10(t)):!1},_dk:function(e){if(!/^DK[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[2,7,6,5,4,3,2,1],r=0;8>r;r++)t+=parseInt(e.charAt(r),10)*n[r];return t%11==0},_ee:function(e){if(!/^EE[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[3,7,1,3,7,1,3,7,1],r=0;9>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%10==0},_es:function(e){if(!/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(e))return!1;e=e.substr(2);var t=function(e){var t=parseInt(e.substr(0,8),10);return t="TRWAGMYFPDXBNJZSQVHLCKE"[t%23],t==e.substr(8,1)},n=function(e){var t=["XYZ".indexOf(e.charAt(0)),e.substr(1)].join("");return t=parseInt(t,10),t="TRWAGMYFPDXBNJZSQVHLCKE"[t%23],t==e.substr(8,1)},r=function(e){var t,n=e.charAt(0);if(-1!="KLM".indexOf(n))return t=parseInt(e.substr(1,8),10),t="TRWAGMYFPDXBNJZSQVHLCKE"[t%23],t==e.substr(8,1);if(-1!="ABCDEFGHJNPQRSUVW".indexOf(n)){for(var r=0,i=[2,1,2,1,2,1,2],s=0,o=0;7>o;o++)s=parseInt(e.charAt(o+1))*i[o],s>9&&(s=Math.floor(s/10)+s%10),r+=s;return r=10-r%10,r==e.substr(8,1)||"JABCDEFGHI"[r]==e.substr(8,1)}return!1},i=e.charAt(0);return/^[0-9]$/.test(i)?t(e):/^[XYZ]$/.test(i)?n(e):r(e)},_fi:function(e){if(!/^FI[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[7,9,10,5,8,4,2,1],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%11==0},_fr:function(t){if(!/^FR[0-9A-Z]{2}[0-9]{9}$/.test(t))return!1;if(t=t.substr(2),!e.fn.bootstrapValidator.helpers.luhn(t.substr(2)))return!1;if(/^[0-9]{2}$/.test(t.substr(0,2)))return t.substr(0,2)==parseInt(t.substr(2)+"12",10)%97;var n,r="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ";return n=/^[0-9]{1}$/.test(t.charAt(0))?24*r.indexOf(t.charAt(0))+r.indexOf(t.charAt(1))-10:34*r.indexOf(t.charAt(0))+r.indexOf(t.charAt(1))-100,(parseInt(t.substr(2),10)+1+Math.floor(n/11))%11==n%11},_gb:function(e){if(!(/^GB[0-9]{9}$/.test(e)||/^GB[0-9]{12}$/.test(e)||/^GBGD[0-9]{3}$/.test(e)||/^GBHA[0-9]{3}$/.test(e)||/^GB(GD|HA)8888[0-9]{5}$/.test(e)))return!1;e=e.substr(2);var t=e.length;if(5==t){var n=e.substr(0,2),r=parseInt(e.substr(2));return"GD"==n&&500>r||"HA"==n&&r>=500}if(11==t&&("GD8888"==e.substr(0,6)||"HA8888"==e.substr(0,6)))return"GD"==e.substr(0,2)&&parseInt(e.substr(6,3))>=500||"HA"==e.substr(0,2)&&parseInt(e.substr(6,3))<500?!1:parseInt(e.substr(6,3))%97==parseInt(e.substr(9,2));if(9==t||12==t){for(var i=0,s=[8,7,6,5,4,3,2,10,1],o=0;9>o;o++)i+=parseInt(e.charAt(o))*s[o];return i%=97,parseInt(e.substr(0,3))>=100?0==i||42==i||55==i:0==i}return!0},_gr:function(e){if(!/^GR[0-9]{9}$/.test(e))return!1;e=e.substr(2),8==e.length&&(e="0"+e);for(var t=0,n=[256,128,64,32,16,8,4,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=t%11%10,t==e.substr(8,1)},_el:function(e){return/^EL[0-9]{9}$/.test(e)?(e="GR"+e.substr(2),this._gr(e)):!1},_hu:function(e){if(!/^HU[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[9,7,3,1,9,7,3,1],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%10==0},_hr:function(t){return/^HR[0-9]{11}$/.test(t)?(t=t.substr(2),e.fn.bootstrapValidator.helpers.mod_11_10(t)):!1},_ie:function(e){if(!/^IE[0-9]{1}[0-9A-Z\*\+]{1}[0-9]{5}[A-Z]{1,2}$/.test(e))return!1;e=e.substr(2);var t=function(e){for(;e.length<7;)e="0"+e;for(var t="WABCDEFGHIJKLMNOPQRSTUV",n=0,r=0;7>r;r++)n+=parseInt(e.charAt(r))*(8-r);return n+=9*t.indexOf(e.substr(7)),t[n%23]};return/^[0-9]+$/.test(e.substr(0,7))?e.charAt(7)==t(e.substr(0,7)+e.substr(8)+""):-1!="ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(e.charAt(1))?e.charAt(7)==t(e.substr(2,5)+e.substr(0,1)+""):!0},_it:function(t){if(!/^IT[0-9]{11}$/.test(t))return!1;if(t=t.substr(2),0==parseInt(t.substr(0,7)))return!1;var n=parseInt(t.substr(7,3));return 1>n||n>201&&999!=n&&888!=n?!1:e.fn.bootstrapValidator.helpers.luhn(t)},_lt:function(e){if(!/^LT([0-9]{7}1[0-9]{1}|[0-9]{10}1[0-9]{1})$/.test(e))return!1;e=e.substr(2);for(var t=e.length,n=0,r=0;t-1>r;r++)n+=parseInt(e.charAt(r))*(1+r%9);var i=n%11;if(10==i){n=0;for(var r=0;t-1>r;r++)n+=parseInt(e.charAt(r))*(1+(r+2)%9)}return i=i%11%10,i==e.charAt(t-1)},_lu:function(e){return/^LU[0-9]{8}$/.test(e)?(e=e.substr(2),e.substr(0,6)%89==e.substr(6,2)):!1},_lv:function(t){if(!/^LV[0-9]{11}$/.test(t))return!1;t=t.substr(2);var n=parseInt(t.charAt(0)),r=0,i=[],s=0,o=t.length;if(n>3){for(r=0,i=[9,1,4,8,3,10,2,5,7,6,1],s=0;o>s;s++)r+=parseInt(t.charAt(s))*i[s];return r%=11,3==r}var u=parseInt(t.substr(0,2)),f=parseInt(t.substr(2,2)),l=parseInt(t.substr(4,2));if(l=l+1800+100*parseInt(t.charAt(6)),!e.fn.bootstrapValidator.helpers.date(l,f,u))return!1;for(r=0,i=[10,5,8,4,2,1,6,3,7,9],s=0;o-1>s;s++)r+=parseInt(t.charAt(s))*i[s];return r=(r+1)%11%10,r==t.charAt(o-1)},_mt:function(e){if(!/^MT[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[3,4,6,7,8,9,10,1],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%37==0},_nl:function(e){if(!/^NL[0-9]{9}B[0-9]{2}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[9,8,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%=11,t>9&&(t=0),t==e.substr(8,1)},_no:function(e){if(!/^NO[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[3,2,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,11==t&&(t=0),t==e.substr(8,1)},_pl:function(e){if(!/^PL[0-9]{10}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[6,5,7,2,3,4,5,6,7,-1],r=0;10>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%11==0},_pt:function(e){if(!/^PT[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[9,8,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,t>9&&(t=0),t==e.substr(8,1)},_ro:function(e){if(!/^RO[1-9][0-9]{1,9}$/.test(e))return!1;e=e.substr(2);for(var t=e.length,n=[7,5,3,2,1,7,5,3,2].slice(10-t),r=0,i=0;t-1>i;i++)r+=parseInt(e.charAt(i))*n[i];return r=10*r%11%10,r==e.substr(t-1,1)},_ru:function(e){if(!/^RU([0-9]{9}|[0-9]{12})$/.test(e))return!1;if(e=e.substr(2),10==e.length){for(var t=0,n=[2,4,10,3,5,9,4,6,8,0],r=0;10>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%=11,t>9&&(t%=10),t==e.substr(9,1)}if(12==e.length){for(var i=0,s=[7,2,4,10,3,5,9,4,6,8,0],o=0,u=[3,7,2,4,10,3,5,9,4,6,8,0],r=0;11>r;r++)i+=parseInt(e.charAt(r))*s[r],o+=parseInt(e.charAt(r))*u[r];return i%=11,i>9&&(i%=10),o%=11,o>9&&(o%=10),i==e.substr(10,1)&&o==e.substr(11,1)}return!1},_rs:function(e){if(!/^RS[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=10,n=0,r=0;8>r;r++)n=(parseInt(e.charAt(r))+t)%10,0==n&&(n=10),t=2*n%11;return(t+parseInt(e.substr(8,1)))%10==1},_se:function(t){return/^SE[0-9]{10}01$/.test(t)?(t=t.substr(2,10),e.fn.bootstrapValidator.helpers.luhn(t)):!1},_si:function(e){if(!/^SI[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[8,7,6,5,4,3,2],r=0;7>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,10==t&&(t=0),t==e.substr(7,1)},_sk:function(e){return/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(e)?(e=e.substr(2),e%11==0):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.vin={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(n))return!1;n=n.toUpperCase();for(var r={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0},i=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0,o=n.length,u=0;o>u;u++)s+=r[n.charAt(u)+""]*i[u];var a=s%11;return 10==a&&(a="X"),a==n.charAt(8)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.zipCode={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r||!n.country)return!0;var i=(n.country||"US").toUpperCase();switch(i){case"CA":return/(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}\s?[0-9]{1}(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}/i.test(r);case"DK":return/^(DK(-|\s)?)?\d{4}$/i.test(r);case"GB":return this._gb(r);case"IT":return/^(I-|IT-)?\d{5}$/i.test(r);case"NL":return/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(r);case"SE":return/^(S-)?\d{3}\s?\d{2}$/i.test(r);case"US":default:return/^\d{4,5}([\-]\d{4})?$/.test(r)}},_gb:function(e){for(var t="[ABCDEFGHIJKLMNOPRSTUWYZ]",n="[ABCDEFGHKLMNOPQRSTUVWXY]",r="[ABCDEFGHJKPMNRSTUVWXY]",i="[ABEHMNPRVWXY]",s="[ABDEFGHJLNPQRSTUWXYZ]",o=[new RegExp("^("+t+"{1}"+n+"?[0-9]{1,2})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^("+t+"{1}[0-9]{1}"+r+"{1})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^("+t+"{1}"+n+"{1}?[0-9]{1}"+i+"{1})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i],u=0;u<o.length;u++)if(o[u].test(e))return!0;return!1}}}(window.jQuery);

// bootbox
(function(e,t){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],t)}else if(typeof exports==="object"){module.exports=t(require("jquery"))}else{e.bootbox=t(e.jQuery)}})(this,function e(t,n){"use strict";function o(e){var t=m[i.locale];return t?t[e]:m.en[e]}function u(e,n,r){e.stopPropagation();e.preventDefault();var i=t.isFunction(r)&&r(e)===false;if(!i){n.modal("hide")}}function a(e){var t,n=0;for(t in e){n++}return n}function f(e,n){var r=0;t.each(e,function(e,t){n(e,t,r++)})}function l(e){var n;var r;if(typeof e!=="object"){throw new Error("Please supply an object of options")}if(!e.message){throw new Error("Please specify a message")}e=t.extend({},i,e);if(!e.buttons){e.buttons={}}e.backdrop=e.backdrop?"static":false;n=e.buttons;r=a(n);f(n,function(e,i,s){if(t.isFunction(i)){i=n[e]={callback:i}}if(t.type(i)!=="object"){throw new Error("button with key "+e+" must be an object")}if(!i.label){i.label=e}if(!i.className){if(r<=2&&s===r-1){i.className="btn-primary"}else{i.className="btn-default"}}});return e}function c(e,t){var n=e.length;var r={};if(n<1||n>2){throw new Error("Invalid argument length")}if(n===2||typeof e[0]==="string"){r[t[0]]=e[0];r[t[1]]=e[1]}else{r=e[0]}return r}function h(e,n,r){return t.extend(true,{},e,c(n,r))}function p(e,t,n,r){var i={className:"bootbox-"+e,buttons:d.apply(null,t)};return v(h(i,r,n),t)}function d(){var e={};for(var t=0,n=arguments.length;t<n;t++){var r=arguments[t];var i=r.toLowerCase();var s=r.toUpperCase();e[i]={label:o(s)}}return e}function v(e,t){var r={};f(t,function(e,t){r[t]=true});f(e.buttons,function(e){if(r[e]===n){throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}});return e}var r={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'>"+"<div class='modal-dialog'>"+"<div class='modal-content'>"+"<div class='modal-body'><div class='bootbox-body'></div></div>"+"</div>"+"</div>"+"</div>",header:"<div class='modal-header'>"+"<h4 class='modal-title'></h4>"+"</div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}};var i={locale:"en",backdrop:true,animate:true,className:null,closeButton:true,show:true,container:"body"};var s={};s.alert=function(){var e;e=p("alert",["ok"],["message","callback"],arguments);if(e.callback&&!t.isFunction(e.callback)){throw new Error("alert requires callback property to be a function when provided")}e.buttons.ok.callback=e.onEscape=function(){if(t.isFunction(e.callback)){return e.callback()}return true};return s.dialog(e)};s.confirm=function(){var e;e=p("confirm",["cancel","confirm"],["message","callback"],arguments);e.buttons.cancel.callback=e.onEscape=function(){return e.callback(false)};e.buttons.confirm.callback=function(){return e.callback(true)};if(!t.isFunction(e.callback)){throw new Error("confirm requires a callback")}return s.dialog(e)};s.prompt=function(){var e;var i;var o;var u;var a;var l;var c;u=t(r.form);i={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"};e=v(h(i,arguments,["title","callback"]),["cancel","confirm"]);l=e.show===n?true:e.show;var p=["date","time","number"];var m=document.createElement("input");m.setAttribute("type",e.inputType);if(p[e.inputType]){e.inputType=m.type}e.message=u;e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)};e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=a.val();break;case"checkbox":var r=a.find("input:checked");n=[];f(r,function(e,r){n.push(t(r).val())});break}return e.callback(n)};e.show=false;if(!e.title){throw new Error("prompt requires a title")}if(!t.isFunction(e.callback)){throw new Error("prompt requires a callback")}if(!r.inputs[e.inputType]){throw new Error("invalid prompt type")}a=t(r.inputs[e.inputType]);switch(e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(e.value);break;case"select":var g={};c=e.inputOptions||[];if(!c.length){throw new Error("prompt with select requires options")}f(c,function(e,r){var i=a;if(r.value===n||r.text===n){throw new Error("given options in wrong format")}if(r.group){if(!g[r.group]){g[r.group]=t("<optgroup/>").attr("label",r.group)}i=g[r.group]}i.append("<option value='"+r.value+"'>"+r.text+"</option>")});f(g,function(e,t){a.append(t)});a.val(e.value);break;case"checkbox":var y=t.isArray(e.value)?e.value:[e.value];c=e.inputOptions||[];if(!c.length){throw new Error("prompt with checkbox requires options")}if(!c[0].value||!c[0].text){throw new Error("given options in wrong format")}a=t("<div/>");f(c,function(n,i){var s=t(r.inputs[e.inputType]);s.find("input").attr("value",i.value);s.find("label").append(i.text);f(y,function(e,t){if(t===i.value){s.find("input").prop("checked",true)}});a.append(s)});break}if(e.placeholder){a.attr("placeholder",e.placeholder)}if(e.pattern){a.attr("pattern",e.pattern)}u.append(a);u.on("submit",function(e){e.preventDefault();o.find(".btn-primary").click()});o=s.dialog(e);o.off("shown.bs.modal");o.on("shown.bs.modal",function(){a.focus()});if(l===true){o.modal("show")}return o};s.dialog=function(e){e=l(e);var n=t(r.dialog);var i=n.find(".modal-body");var s=e.buttons;var o="";var a={onEscape:e.onEscape};f(s,function(e,t){o+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>";a[e]=t.callback});i.find(".bootbox-body").html(e.message);if(e.animate===true){n.addClass("fade")}if(e.className){n.addClass(e.className)}if(e.title){i.before(r.header)}if(e.closeButton){var c=t(r.closeButton);if(e.title){n.find(".modal-header").prepend(c)}else{c.css("margin-top","-10px").prependTo(i)}}if(e.title){n.find(".modal-title").html(e.title)}if(o.length){i.after(r.footer);n.find(".modal-footer").html(o)}n.on("hidden.bs.modal",function(e){if(e.target===this){n.remove()}});n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()});n.on("escape.close.bb",function(e){if(a.onEscape){u(e,n,a.onEscape)}});n.on("click",".modal-footer button",function(e){var r=t(this).data("bb-handler");u(e,n,a[r])});n.on("click",".bootbox-close-button",function(e){u(e,n,a.onEscape)});n.on("keyup",function(e){if(e.which===27){n.trigger("escape.close.bb")}});t(e.container).append(n);n.modal({backdrop:e.backdrop,keyboard:false,show:false});if(e.show){n.modal("show")}return n};s.setDefaults=function(){var e={};if(arguments.length===2){e[arguments[0]]=arguments[1]}else{e=arguments[0]}t.extend(i,e)};s.hideAll=function(){t(".bootbox").modal("hide")};var m={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};s.init=function(n){return e(n||t)};return s});

// Lazy Load
(function(e,t,n,r){var i=e(t);e.fn.lazyload=function(s){function f(){var t=0;o.each(function(){var n=e(this);if(a.skip_invisible&&!n.is(":visible")){return}if(e.abovethetop(this,a)||e.leftofbegin(this,a)){}else if(!e.belowthefold(this,a)&&!e.rightoffold(this,a)){n.trigger("appear");t=0}else{if(++t>a.failure_limit){return false}}})}var o=this;var u;var a={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};if(s){if(r!==s.failurelimit){s.failure_limit=s.failurelimit;delete s.failurelimit}if(r!==s.effectspeed){s.effect_speed=s.effectspeed;delete s.effectspeed}e.extend(a,s)}u=a.container===r||a.container===t?i:e(a.container);if(0===a.event.indexOf("scroll")){u.bind(a.event,function(){return f()})}this.each(function(){var t=this;var n=e(t);t.loaded=false;if(n.attr("src")===r||n.attr("src")===false){if(n.is("img")){n.attr("src",a.placeholder)}}n.one("appear",function(){if(!this.loaded){if(a.appear){var r=o.length;a.appear.call(t,r,a)}e("<img />").bind("load",function(){var r=n.attr("data-"+a.data_attribute);n.hide();if(n.is("img")){n.attr("src",r)}else{n.css("background-image","url('"+r+"')")}n[a.effect](a.effect_speed);t.loaded=true;var i=e.grep(o,function(e){return!e.loaded});o=e(i);if(a.load){var s=o.length;a.load.call(t,s,a)}}).attr("src",n.attr("data-"+a.data_attribute))}});if(0!==a.event.indexOf("scroll")){n.bind(a.event,function(){if(!t.loaded){n.trigger("appear")}})}});i.bind("resize",function(){f()});if(/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)){i.bind("pageshow",function(t){if(t.originalEvent&&t.originalEvent.persisted){o.each(function(){e(this).trigger("appear")})}})}e(n).ready(function(){f()});return this};e.belowthefold=function(n,s){var o;if(s.container===r||s.container===t){o=(t.innerHeight?t.innerHeight:i.height())+i.scrollTop()}else{o=e(s.container).offset().top+e(s.container).height()}return o<=e(n).offset().top-s.threshold};e.rightoffold=function(n,s){var o;if(s.container===r||s.container===t){o=i.width()+i.scrollLeft()}else{o=e(s.container).offset().left+e(s.container).width()}return o<=e(n).offset().left-s.threshold};e.abovethetop=function(n,s){var o;if(s.container===r||s.container===t){o=i.scrollTop()}else{o=e(s.container).offset().top}return o>=e(n).offset().top+s.threshold+e(n).height()};e.leftofbegin=function(n,s){var o;if(s.container===r||s.container===t){o=i.scrollLeft()}else{o=e(s.container).offset().left}return o>=e(n).offset().left+s.threshold+e(n).width()};e.inviewport=function(t,n){return!e.rightoffold(t,n)&&!e.leftofbegin(t,n)&&!e.belowthefold(t,n)&&!e.abovethetop(t,n)};e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})})(jQuery,window,document);

jQuery(document).ready(function($) {
	// Hoverex
	var a={fn:{moveZoom:function(b,c){var d=b.height(),e=b.width(),f=c.pageY-b.offset().top,g=c.pageX-b.offset().left;var h=b.find("\x69\x6d\x67");var i=b.data("\x7a\x6f\x6f\x6d");if(i&&i!="\x61\x75\x74\x6f"){var j=parseFloat(i);h.css({"\x77\x69\x64\x74\x68":e*j+"\x70\x78","\x68\x65\x69\x67\x68\x74":d*j+"\x70\x78","\x74\x6f\x70":-f*(j-0x1)+"\x70\x78","\x6c\x65\x66\x74":-g*(j-0x1)+"\x70\x78"})}else{var j=h.width()/e;h.css({"\x74\x6f\x70":-f*(j-0x1)+"\x70\x78","\x6c\x65\x66\x74":-g*(j-0x1)+"\x70\x78"})}},changeZoom:function(b,c,d,e,f){var g=b.find("\x69\x6d\x67");var h=b.data("\x7a\x6f\x6f\x6d");h=h=="\x61\x75\x74\x6f"?g.width()/b.width():parseFloat(h);var i=b.data("\x7a\x6f\x6f\x6d\x73\x74\x65\x70");i=i?parseFloat(i):0.5;var j=b.data("\x7a\x6f\x6f\x6d\x72\x61\x6e\x67\x65");j=j?j.split("\x2c"):"\x31\x2c\x34";var k=parseFloat(j[0x0]),l=parseFloat(j[0x1])>h?parseFloat(j[0x1]):h;var m=f>0x0?0x1:-0x1;var n=Math.round((h+i*m)*0xa)/10.0;if(n>=k&&n<=l){b.data("\x7a\x6f\x6f\x6d",n);a.fn.showZoomState(b,n);a.fn.moveZoom(b,c)}},showZoomState:function(b,c){var d=b.find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d\x73\x74\x61\x74\x65");if(d.length==0x0){d=$('\x3c\x73\x70\x61\x6e\x20\x63\x6c\x61\x73\x73\x3d\x22\x68\x65\x2d\x7a\x6f\x6f\x6d\x73\x74\x61\x74\x65\x22\x3e'+c+'\x58\x3c\x2f\x73\x70\x61\x6e\x3e').appendTo(b)};d.text(c+"\x58").stop(true,true).fadeIn(0x12c).delay(0xc8).fadeOut(0x12c)},switchImg:function(b,c){var d=b.data("\x61\x6e\x69\x6d\x61\x74\x65");d=d?animation:"\x72\x61\x6e\x64\x6f\x6d";if(d=="\x72\x61\x6e\x64\x6f\x6d"){var f=["\x66\x61\x64\x65\x49\x6e","\x66\x61\x64\x65\x49\x6e\x4c\x65\x66\x74","\x66\x61\x64\x65\x49\x6e\x52\x69\x67\x68\x74","\x66\x61\x64\x65\x49\x6e\x55\x70","\x66\x61\x64\x65\x49\x6e\x44\x6f\x77\x6e","\x72\x6f\x74\x61\x74\x65\x49\x6e","\x72\x6f\x74\x61\x74\x65\x49\x6e\x4c\x65\x66\x74","\x72\x6f\x74\x61\x74\x65\x49\x6e\x52\x69\x67\x68\x74","\x72\x6f\x74\x61\x74\x65\x49\x6e\x55\x70","\x72\x6f\x74\x61\x74\x65\x49\x6e\x44\x6f\x77\x6e","\x62\x6f\x75\x6e\x63\x65","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x4c\x65\x66\x74","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x52\x69\x67\x68\x74","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x55\x70","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x44\x6f\x77\x6e","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x4c\x65\x66\x74","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x52\x69\x67\x68\x74","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x55\x70","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x44\x6f\x77\x6e","\x7a\x6f\x6f\x6d\x49\x6e","\x7a\x6f\x6f\x6d\x49\x6e\x4c\x65\x66\x74","\x7a\x6f\x6f\x6d\x49\x6e\x52\x69\x67\x68\x74","\x7a\x6f\x6f\x6d\x49\x6e\x55\x70","\x7a\x6f\x6f\x6d\x49\x6e\x44\x6f\x77\x6e","\x6a\x65\x6c\x6c\x79\x49\x6e\x4c\x65\x66\x74","\x6a\x65\x6c\x6c\x79\x49\x6e\x52\x69\x67\x68\x74","\x6a\x65\x6c\x6c\x79\x49\x6e\x44\x6f\x77\x6e","\x6a\x65\x6c\x6c\x79\x49\x6e\x55\x70","\x66\x6c\x69\x70\x49\x6e\x4c\x65\x66\x74","\x66\x6c\x69\x70\x49\x6e\x52\x69\x67\x68\x74","\x66\x6c\x69\x70\x49\x6e\x55\x70","\x66\x6c\x69\x70\x49\x6e\x44\x6f\x77\x6e","\x66\x6c\x69\x70\x49\x6e\x56","\x66\x6c\x69\x70\x49\x6e\x48"];d=f[Math.floor(Math.random()*f.length)]};var e=b.find("\x69\x6d\x67");if(e.length>0x1){if(c>0x0){e.eq(0x0).attr("\x63\x6c\x61\x73\x73","\x61\x30").appendTo(b);e.eq(0x1).attr("\x63\x6c\x61\x73\x73","\x61\x30\x20"+d)}else{e.eq(e.length-0x1).attr("\x63\x6c\x61\x73\x73","\x61\x30\x20"+d).prependTo(b);e.eq(0x0).attr("\x63\x6c\x61\x73\x73","\x61\x30")}}}}};$(function(){$("\x2e\x68\x65\x2d\x77\x72\x61\x70").live({mouseenter:function(){var b=$(this).find("\x2e\x68\x65\x2d\x76\x69\x65\x77").addClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77");$("\x5b\x64\x61\x74\x61\x2d\x61\x6e\x69\x6d\x61\x74\x65\x5d",b).each(function(){var c=$(this).data("\x61\x6e\x69\x6d\x61\x74\x65");$(this).addClass(c)});$(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").addClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77")},mouseleave:function(){var b=$(this).find("\x2e\x68\x65\x2d\x76\x69\x65\x77").removeClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77");$("\x5b\x64\x61\x74\x61\x2d\x61\x6e\x69\x6d\x61\x74\x65\x5d",b).each(function(){var c=$(this).data("\x61\x6e\x69\x6d\x61\x74\x65");$(this).removeClass(c)});$(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").removeClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77")},mousewheel:function(b,c,d,e){if($(this).find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73").length==0x1){var f=$(this).find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73");var g=e>0x0?0x1:-0x1;a.fn.switchImg(f,g);b.preventDefault()}else if($(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").length==0x1){var f=$(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d");a.fn.changeZoom(f,b,c,d,e);b.preventDefault()}}});$("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").live({mousemove:function(b){a.fn.moveZoom($(this),b)}});$("\x2e\x68\x65\x2d\x70\x72\x65").live("\x63\x6c\x69\x63\x6b",function(){var b=$(this).parents("\x2e\x68\x65\x2d\x77\x72\x61\x70").find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73");a.fn.switchImg(b,-0x1)});$("\x2e\x68\x65\x2d\x6e\x65\x78\x74").live("\x63\x6c\x69\x63\x6b",function(){var b=$(this).parents("\x2e\x68\x65\x2d\x77\x72\x61\x70").find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73");a.fn.switchImg(b,0x1)})});(function(b){var c=['\x44\x4f\x4d\x4d\x6f\x75\x73\x65\x53\x63\x72\x6f\x6c\x6c','\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c'];if(b.event.fixHooks){for(var e=c.length;e;){b.event.fixHooks[c[--e]]=b.event.mouseHooks}};b.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=c.length;e;){this.addEventListener(c[--e],d,false)}}else{this.onmousewheel=d}},teardown:function(){if(this.removeEventListener){for(var e=c.length;e;){this.removeEventListener(c[--e],d,false)}}else{this.onmousewheel=null}}};b.fn.extend({mousewheel:function(e){return e?this.bind("\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c",e):this.trigger("\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c")},unmousewheel:function(e){return this.unbind("\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c",e)}});function d(e){var f=e||window.event,g=[].slice.call(arguments,0x1),h=0x0,i=true,j=0x0,k=0x0;e=b.event.fix(f);e.type="\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c";if(f.wheelDelta){h=f.wheelDelta/0x78};if(f.detail){h=-f.detail/0x3};k=h;if(f.axis!==undefined&&f.axis===f.HORIZONTAL_AXIS){k=0x0;j=-0x1*h};if(f.wheelDeltaY!==undefined){k=f.wheelDeltaY/0x78};if(f.wheelDeltaX!==undefined){j=-0x1*f.wheelDeltaX/0x78};g.unshift(e,h,j,k);return(b.event.dispatch||b.event.handle).apply(this,g)}})(jQuery);

    // jQuery('.tp-banner').revolution({
        // delay: 9000,
        // startwidth: 1170,
        // startheight: 500,
        // hideThumbs: 10,
        // videoJsPath: "rs-plugin/videojs/"
    // });

    // $('#layerslider').layerSlider({
    	// autoStart : false,
    	// autoPlayVideos          : false,
        // pauseOnHover: true,
            // animateFirstSlide: false,
            // twoWaySlideshow: true,
            // skin: 'borderlessdark3d',
            // globalBGColor: 'transparent',
            // navStartStop: true,
            // navButtons: true,
            // showCircleTimer: false,
            // showBarTimer        : false,
            // thumbnailNavigation: 'hover',
            // lazyLoad: false,
            // hoverBottomNav : true,
            // cbInit: function (element) {},
            // cbStart: function (data) {},
            // cbStop: function (data) {},
            // cbPause: function (data) {},
            // cbAnimStart: function (data) {},
            // cbAnimStop: function (data) {},
            // cbPrev: function (data) {},
            // cbNext: function (data) {},
            // skinsPath: pluginDir + '/LayerSlider/static/skins/'
    // });
	
	function format(state) {
		var originalOption = state.element;
		var parentOpt      = $(originalOption).data('parent');
		return state.text + ' - ' + parentOpt;
	}
	
	$('select.category').select2({
		placeholder: "Select a Category",
		allowClear: true,
		maximumSelectionSize: 3,
		matcher: function(term, optText, els) {
			var allText = optText + els[0].parentNode.getAttribute('label')  || '';
			return (''+allText).toUpperCase().indexOf((''+term).toUpperCase()) >= 0;
		},
		formatSelection: format,
		escapeMarkup: function (m) {
			return m;
		}
	}).on("select2-focus", function(e) {
		var closestPopover = $('#s2id_category').closest('[data-toggle="popover"]');
		$('[data-toggle="popover"]').not(closestPopover).popover('hide');
	});
	
	// $(document).on('click','[aria-label="Toolbar Toggle"]',function() {
		// $('#mce_46').toggleClass('toggleDisplay');
		
		// if($('#mce_46').css('display') == "none") {
			// $('#mce_29').removeClass('mce-active').addClass('toggleActive');
		// } else {
			// $('#mce_29').addClass('mce-active').removeClass('toggleActive');
		// }
	// });
	
	
	// var choiceArr = [];
	// var txtArr    = [];
	// $("select.category").on('change', function(){ 
		// //choiceArr.length = 0;
		// //txtArr.length = 0;

		// txtArr = $(this).find('option:selected').map(function(){
		   // return $(this).text();
		// }).get();
    
		// choiceArr = $(this).find('option:selected').map(function(){
		   // return $(this).closest('optgroup').prop('label');
		// }).get();
		
		// console.log(txtArr);
		// console.log(choiceArr);		

		// for (var i = 0; i < choiceArr.length; i++) {
			// $('.select2-search-choice:eq(' + i + ') div').text(function (index, old) {
				// //console.log(old);	
				// return txtArr[i] + ' - ' + choiceArr[i];
				// //if (old.indexOf(choiceArr[i]) < 0) {
					// //return old.replace(/\s/g, '').concat(' - ' + choiceArr[i]);
				// //}
				
			// });
		// }
		
		
		
	// });


	$('article.description-wrapper').readmore({
	    speed: 500,
	    maxHeight: 100,
	    moreLink: '<a href="#">Show more</a>',
	    lessLink: '<a href="#">Show less</a>'
	});
	
	
	
	// $('.vid-feeling').eq(0).click(function() {
		// var liked_number = +$('span.like_count').html();
		
		// if($(this).hasClass('liked')) {
			// $(this).removeClass('liked');
			// $('span.like_count').html(--liked_number);
		// }
		// else { 
			// $(this).addClass('liked').next().removeClass('disliked');
			// $('span.like_count').html(++liked_number);
		// }
	// });

	// $('.vid-feeling').eq(1).click(function() {
		// if($(this).hasClass('disliked')) { 
			// $(this).removeClass('disliked');
		// }
		// else { 
			// $(this).addClass('disliked').prev().removeClass('liked');
		// }
	// });	
	//Sort random function
    function random(owlSelector){
		owlSelector.children().sort(function(){
			return Math.round(Math.random()) - 0.5;
		}).each(function(){
			$(this).appendTo(owlSelector);
		});
	}
  
	$('.owl-carousel').each(function() {
		var $this = $(this);
		$this.owlCarousel({
			loop:true,
			margin:10,
			responsiveClass:true,
			dots: false,
			slideBy: 1,
			smartSpeed: 500,
			lazyLoad: true,
			mouseDrag: false,
			nav: true,
			responsive:{
				0:{
					items:1
				},
				500:{
					items:2
				},
				800:{
					items:3
				},
				1000:{
					items:4
				}
			},
			onInitialize: function(elem){
				//Parameter elem pointing to $("#owl-demo")
				random($this);
			}
		});
	});
	
	$('.owl-controls').each(function() {
		var smartControl = $(this).closest('.owl-carousel').prev().find('.smart-control');
		$(this).appendTo(smartControl);
	});
	
	$(".rounded-img").load(function() {
		$(this).wrap(function(){
		  return '<span class="' + $(this).attr('class') + '" style="background:url(' + $(this).attr('src') + ') no-repeat; width: ' + $(this).width() + '100%; height: ' + $(this).height() + 'px;" />';
		});
		$(this).css("opacity","0");
	});
	
	$(document.body).on('keydown','#main *',function(e) {
		e.stopPropagation();
	});
	
	start = 0;
	jQuery(window).on('keydown',function(e){	
		if(e.keyCode == 38){
			e.stopPropagation();
			e.preventDefault();
			if (start == 0){
				start = (jQuery("#sf_val li.sf_lnk").length - 1);
				//console.log(start);
			}else{
				start--;
				if (start < 0){
					start = (jQuery("#sf_val li.sf_lnk").length - 1);  
				}
				var selected = $('.sf_lnk.sf_selected');
				if(!selected.hasClass('sf_more')) {
					container = selected.closest('.sf_result_container'),
					positionTop = selected.offset().top - container.offset().top;  
					container.scrollTop(container.scrollTop() + positionTop
														- container.height()/2 + selected.height()/2);
				} else {
					var more = $('.sf_lnk.sf_selected.sf_more'),
						container = selected.prev().find('.sf_result_container'),
						last = container.find('.sf_lnk').last();
						positionTop = selected.offset().top;  
					container.scrollTop(container.scrollTop() + last.position().top);
					//console.log(positionTop);
				}	
			}
			jQuery("#sf_val li.sf_lnk").removeClass('sf_selected');
			jQuery("#sf_val li.sf_lnk").eq(start).addClass('sf_selected').focus();
		}

		else if(e.keyCode == 40){
			e.stopPropagation();
			e.preventDefault();
			if (start == 0){
				start = 1; 
			}else{
				start++;
				if (start > (jQuery("#sf_val li.sf_lnk").length - 1)){
					start = 0;
					jQuery("#sf_val li.sf_lnk").removeClass('sf_selected').focus();
					jQuery("#sf_val li.sf_lnk").eq(start).addClass('sf_selected').focus();
				}
				var selected = $('.sf_lnk.sf_selected');
				if(!selected.hasClass('sf_more')) {
					container = selected.closest('.sf_result_container'),
					positionTop = selected.offset().top - container.offset().top;  
					container.scrollTop(container.scrollTop() + positionTop
														- container.height()/2 + selected.height()/2);
				}
			}
			jQuery("#sf_val li.sf_lnk").removeClass('sf_selected');
			jQuery("#sf_val li.sf_lnk").eq(start).addClass('sf_selected').focus();
		} 
		else {
			setTimeout(function(){start = 0;}, 500);
		}
	});

	$('#txtSearch').click(function(e) {
		if(this.value.length > 1) {
			e.stopPropagation();
			$('#sf_sb').show();
		}	
	});
	
	$('#btnSearch').click(function(e) {
		if($.trim($('#txtSearch').val()).length < 2 || $('#txtSearch').val() === "Search") {
			e.stopPropagation;
			e.preventDefault();
		}
	});
	
    // if (typeof $.fn.layerSlider == "undefined") {
        // lsShowNotice('layerslider_1', 'jquery');
    // } else {
        // $("#layerslider_1").layerSlider({
            // autoStart: false,
            // skin: 'borderlessdark',
            // autoPlayVideos: false,
            // skinsPath: 'http://localhost/gv-3.5/wp-content/plugins/layerslider/static/skins/'
        // })
    // }
	
	//jQuery("<link>").attr({rel: "stylesheet", type: "text/css", media: "all", href: "http://localhost/gv-3.5/wp-content/plugins/slider-pro/css/slider/video-js.min.css"}).appendTo(jQuery("head"));

	jQuery(document).ready(function() {
		jQuery("#slider-pro-1").advancedSlider({
			width: '100%', 
			height: 430, 
			responsive: 1, 
			skin: 'glossy-curved-square-gray', 
			slideshow: 0,
			slideshowDelay: 10000,
			slideButtons: 0,
			fullscreenControlsToggle: 0, 
			timerStrokeColor1: '#ffffff', 
			timerStrokeColor2: '#000000', 
			timerStrokeOpacity1: 0.3, 
			timerStrokeOpacity2: 0.3, 
			timerStrokeWidth1: 6, 
			timerStrokeWidth2: 3, 
			effectType: 'fade', 
			overrideTransition: 1, 
			//keyboardNavigation: 1,
			slideProperties: {
				0: {effectType: 'random'}, 
				1: {effectType: 'slide', slideEasing: 'easeInOutExpo'}, 
				3: {effectType: 'slide', slideEasing: 'easeInOutExpo'}, 
				5: {effectType: 'slide', slideEasing: 'easeInOutExpo'}
			}
		});
	});
	
	/*$('#post_form').validate_popover({
		onsubmit: false, popoverPosition: 'right',
		rules: {
			"post_title": {
				required: true,
				minlength: 5
			}
		},
	    messages: {
			"post_title": {
				 required: "Required!",
				 minlength: "this field must contain at least {0} characters"
			}
		}
	
	});

	$("input[type=submit]").click(function(ev) {
		ev.preventDefault();
		
		$('#post_form').validate().form();

		$('.wpuf-el.form-group').not('.post_content').each(function() {
			var $this = $(this),
				index = $(this).index('.wpuf-el.form-group'),
				col   = $this.find('.col-lg-8'),
				elOffsetLeft = parseInt(col.offset().left,10),
				elPaddingLeft = parseInt(col.css('padding-left'),10),
				elPaddingRight = parseInt(col.css('padding-right'),10),
				elOffsetTop = parseInt(col.offset().top,10),
				elPaddingTop = parseInt(col.css('padding'),10),
				elHeight = parseInt(col.outerHeight(),10),
				elWidth = parseInt(col.outerWidth(),10),
				elLeft = elOffsetLeft + elWidth - elPaddingRight + 'px',
				elTop = elOffsetTop - elPaddingTop - elHeight;
			if(index > 0) {
				index = index - 1
			}
			$('.popover').eq(index).css('left',elLeft);
			if(index == 1) {
				var elLeft = elOffsetLeft + elPaddingLeft + $('#s2id_category').outerWidth() + 'px';
				$('.popover').eq(index).css('left',elLeft);
			}
		});

			

		return false;
	});

	$(window).resize(function() {
		$.validator.reposition();
		$('.wpuf-el.form-group').not('.post_content').each(function() {
			var $this = $(this),
				index = $(this).index('.wpuf-el.form-group'),
				col   = $this.find('.col-lg-8'),
				elOffsetLeft = parseInt(col.offset().left,10),
				elPaddingLeft = parseInt(col.css('padding-left'),10),
				elPaddingRight = parseInt(col.css('padding-right'),10),
				elOffsetTop = parseInt(col.offset().top,10),
				elPaddingTop = parseInt(col.css('padding'),10),
				elHeight = parseInt(col.outerHeight(),10),
				elWidth = parseInt(col.outerWidth(),10),
				elLeft = elOffsetLeft + elWidth - elPaddingRight + 'px',
				elTop = elOffsetTop - elPaddingTop - elHeight;
			if(index > 0) {
				index = index - 1
			}
			$('.popover').eq(index).css('left',elLeft);
			if(index == 1) {
				var elLeft = elOffsetLeft + elPaddingLeft + $('#s2id_category').outerWidth() + 'px';
				$('.popover').eq(index).css('left',elLeft);
			}
		});
	});*/
	
	var regYoutube = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
	var regVimeo = /^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/;
	var regDailymotion = /^.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;
	var regMetacafe = /^.*(metacafe\.com)(\/watch\/)(\d+)(.*)/i;
	
	function check_url(url) {
		if(regYoutube.test(url)) {
			return 'youtube';
		}else if (regMetacafe.test(url)) {
			return 'metacafe';
		}else if(regDailymotion.test(url)){
			return 'dailymotion';
		}else if(regVimeo.test(url)) {
			return 'vimeo';
		}else{
			return "invalid";
		}
	}

	function youtube_parser(url){
		var regExp = /(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=))([\w-]{10,12})/i,
			id;
			
		if(regExp.test(url)) {
			id = regExp.exec(url)[1];
		}
		
		return id;
	}
	
	function vimeo_parser(url){
		var regExp = /^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/i,
			id;
			
		if(regExp.test(url)) {
			id = regExp.exec(url)[5];
		}
		
		return id;
	}


	(function($) {
    $.fn.bootstrapValidator.validators.embedValidator = {
			validate: function(validator, $field, options) {
				var message,
					url = $field.val(),
					vidId,
					vidPlatform = check_url(url);
				if($.trim(url.length) > 0) { 
					
					if(vidPlatform.toLowerCase() != "invalid") {
						if(vidPlatform.toLowerCase() == "youtube") {
							vidId = youtube_parser(url);
							if(vidId && vidId.length >= 11) {
								message = vidId;
								return true;
							} else {
								message = "Invalid Youtube embed code";
								$('[data-bv-validator="embedValidator"]').text(message);
								return false;
							}
						} else if(vidPlatform.toLowerCase() == "vimeo") {
							vidId = vimeo_parser(url);
							if(vidId && vidId.length >= 8) {
								message = vidId;
								return true;
							} else {
								
								message = "Invalid Vimeo embed code";
								$('[data-bv-validator="embedValidator"]').text(message);
								return false;
							}
						} else {
							message = "Sorry! We're not supported this platform."
							$('[data-bv-validator="embedValidator"]').text(message);
							return false;
						}
					} else {
						message = "Invalid URL";
						$('[data-bv-validator="embedValidator"]').text(message);
						return false;
					}
				}
				
			}
			
		};
	}(window.jQuery));
	
	$('#post_form').bootstrapValidator({
		//excluded: [':disabled', ':hidden', ':not(:visible)'],
		live: 'submitted',
		message: 'This value is not valid',
        feedbackIcons: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
            post_title: {
                validators: {
                    notEmpty: {
                        message: "You can't leave this empty."
                    },
					stringLength: {
						max: 50,
						min: 6,	
						message: 'The title must be more than 5 and less than 50 characters'
					}
                }
            },
			'category[]': {
				validators: {
					notEmpty: {
                        message: "You can't leave this empty."
                    }
				}
			},
			'tags': {
				validators: {
					notEmpty: {
                        message: "You can't leave this empty."
                    }
				}
			},
			'post_field_embed_code': {
				validators: {
					notEmpty: {
                        message: "You can't leave this empty."
                    },
					embedValidator: {
						message: "The embed code is invalid."
					}
				}
			}
        },
		submitHandler: function(validator, form, submitButton) {
			//validator.defaultSubmit();
		}
    });
	
	$('#tags').on('tokenfield:initialize', function (e) {
		//$('#post_form').data('bootstrapValidator').validateField('tags').updateStatus('tags', 'NOT_VALIDATED');
		//$('#post_form').bootstrapValidator('validateField', 'tags').bootstrapValidator('updateStatus', 'tags', 'VALIDATED');
	}).on('tokenfield:createtoken', function (e) {
		$('#post_form').data('bootstrapValidator').validateField('tags').updateStatus('tags', 'NOT_VALIDATED');
		//$('#post_form').bootstrapValidator('validateField', 'tags').bootstrapValidator('updateStatus', 'tags', 'VALIDATED');		
	}).on('tokenfield:createdtoken', function (e) {
		$('#post_form').data('bootstrapValidator').validateField('tags').updateStatus('tags', 'NOT_VALIDATED');
		if($('.form-group.has-error').length) {
			$('.tokenfield').closest('.form-group').addClass('has-success');
			$('#tags').after('<i class="form-control-feedback glyphicon glyphicon-ok" data-bv-icon-for="tags" style="display: block;"></i>');
		}
	}).on('tokenfield:edittoken', function (e) {
		e.preventDefault();
		e.stopPropagation();
	}).on('tokenfield:removedtoken', function (e) {
		if( this.value.replace(/\s+/g, '').toLowerCase().length == 0 && $('.tags > .form-group').hasClass('has-success')) {
			$('#post_form').data('bootstrapValidator').updateStatus('tags', 'NOT_VALIDATED').validateField('tags');
		}
	});
	
	$("input[type=submit]").click(function(ev) {
		var colWidth = parseInt($('li.category').find('.col-lg-8').width(),10),
			select2Width = parseInt($('#s2id_category').width(),10),
			right = colWidth - select2Width + 15;
		$('li.category i').css('right',right + 'px');
	});
	
	// Hide all popover
	$('body').on('click', function (e) {
		$('[data-toggle="popover"]').each(function () {
			//the 'is' for buttons that trigger popups
			//the 'has' for icons within a button that triggers a popup
			if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
				$(this).popover('hide');
			}
		});
	});
	
	$('#post_title,#s2id_category,.tokenfield,#wp-post_content-wrap').attr({"data-toggle": 'popover'});
	$('[data-toggle="popover"]').popover({trigger: 'click',container:'body'});
	
	// $('#post_title,#s2id_category,.tokenfield').click(function() {
	// 	$('#wp-post_content-wrap').popover('hide');
	// });
	
	// $('[data-toggle="popover"]').on('focus click', function (e) {
		// e.stopImmediatePropagation();
		// if($(this).is('[data-toggle="popover"]')) {
			// console.log('hiu');
			// $(this).popover('show');
		// } else {
			// $(this).closest('[data-toggle="popover"]').popover('show');
		// }
		// $('[data-toggle="popover"]').not(this).popover('hide');
	// });
	
	// var mouseDown, currentTarget;
	// $('[data-toggle="popover"],:input').on({
		// "mousedown mouseup": function (e) {
			// e.stopPropagation();
			// console.log('1');
			// mouseDown = e.type === "mousedown";
			// currentTarget = e.target;
		// },
		// "focus": function (e) {
			// e.stopPropagation();
			// console.log('2');
			// if (mouseDown && currentTarget === e.target) return;
			// if($(this).data('toggle') == 'popover') {
				// $(this).popover('show');
				// $('[data-toggle="popover"]').not(this).popover('hide');
			// } else {
				// var closestPopover = $(this).closest('[data-toggle="popover"]');
				// closestPopover.popover('show');
				// $('[data-toggle="popover"]').not(closestPopover).popover('hide');
			// }
		// }
	// });
	
	var lastFocusedElement = null;
	var isClick = false;
	$('[data-toggle="popover"],:input').mousedown(function(e) {
		isClick= true;
	}).focus(function(e){
		
		// To prevent focus firing when element already had focus
		if (lastFocusedElement != e.target) {
			if (isClick) {
			  //console.log('click ----', new Date());
			} else {
				if($(this).data('toggle') == 'popover') {
					$(this).popover('show');
					$('[data-toggle="popover"]').not(this).popover('hide');
				} else {
					var closestPopover = $(this).closest('[data-toggle="popover"]');
					closestPopover.popover('show');
					$('[data-toggle="popover"]').not(closestPopover).popover('hide');
				}
			}
			lastFocusedElement = e.target;
			isClick = false;
		}
	});
	
	$(document.body).on('click','.popover-content',function() {
		$('[data-toggle="popover"]').popover('hide');
	});
	
	$(document.body).on('click','button[role="presentation"]',function(e) {
		$("#wp-post_content-wrap").popover("hide");
	});
	
	// $(document.body).on('focus','.tokenfield',function(e) {
		// e.stopImmediatePropagation();
		// $(this).popover('show');
	// });
	
	$('#post_title').attr({"data-content": "Pick a name for your video."});
	$('#wp-post_content-wrap').attr({"data-content": "Provide some details about this video."});
	$('#s2id_category').attr({"data-content": "Choose any category which your video belongs to. Maximum of three categories allowed."});
	$('.tokenfield').attr({"data-content": "Tags are keywords or terms that describe your video. You can use up to 10 tags for each video. Please enter the relevant tags only."});

	$('.flexslider.post-slideshow').insertBefore('#main');
	
	$('#responsive-menu #menu-visitor > li:first-child > a i').after('<span class="mobile-nav-home">Home</span>');
	
	// jQuery('.ca-details').mouseover(function() {
		// jQuery(this).prev().find('.he-view').mouseover();
	// }).mouseout(function() {
		// jQuery(this).prev().find('.he-view').mouseout();
	// })
	
	$('blockquote.d4pbbc-quote blockquote').remove();

	if($('#bbp-user-wrapper').length || $('#bbp-search-results').length) {
		$('.bbp-admin-links').remove();
	}
	
	$('#bbp-search-results .bbp-body').prepend(function() {
		var topic = $(this).find('ul.topic'),
			forum = $(this).find('ul.forum');
		return [forum,topic];
	});
	
	$('#bbp-search-results .bbp-body > ul').each(function() {
		$(this).before($(this).children('h2').first());
	});
	
	$('#bbp-search-results .bbp-body').find('div.bbp-reply-header:gt(0),ul.forum:gt(0),ul.topic:gt(0)').prev().remove();
	
	$('#bbp-search-results .bbp-body').find('.bbp-forum-topic-count').prepend("<p class='forum-count-header'>Topics</p>");
	$('#bbp-search-results .bbp-body').find('.bbp-forum-reply-count,.bbp-topic-reply-count').prepend("<p class='forum-count-header'>Posts</p>");
	$('#bbp-search-results .bbp-body').find('.bbp-topic-voice-count').prepend("<p class='forum-count-header'>Voices</p>");

	$('.main-search').prev().find('.search-page-search-form').css('visibility','hidden');
	
	//$('tr.wpmudev_chat_wp_admin_display').closest('table.form-table').prev().remove();
	//$('tr.wpmudev_chat_wp_admin_display').closest('table.form-table').remove();
	
	$('#un-button i').addClass('fa fa-edit').removeClass('icon-edit');
	
	$("div.rounded-div").lazyload({
		effect : "fadeIn",
		threshold: -80
	});
	
	$("img.icon_play").lazyload();
});